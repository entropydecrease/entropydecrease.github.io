{"categories":[{"link":"/categories/bioinf/","name":"Bioinf","slug":"Bioinf"},{"link":"/categories/clinical/","name":"Clinical","slug":"Clinical"},{"link":"/categories/life/","name":"Life","slug":"Life"},{"link":"/categories/tech/","name":"Tech","slug":"Tech"},{"link":"/categories/tools/","name":"Tools","slug":"Tools"},{"link":"/categories/%E5%8E%86%E5%8F%B2/","name":"历史","slug":"历史"},{"link":"/categories/%E5%B7%A5%E4%BD%9C/","name":"工作","slug":"工作"},{"link":"/categories/%E5%B7%A5%E5%85%B7/","name":"工具","slug":"工具"},{"link":"/categories/%E7%BC%96%E7%A8%8B/","name":"编程","slug":"编程"},{"link":"/categories/%E9%98%85%E8%AF%BB/","name":"阅读","slug":"阅读"},{"link":"/categories/%E9%9A%8F%E7%AC%94/","name":"随笔","slug":"随笔"}],"pages":[],"posts":[{"link":"/posts/softskills/","text":"《软技能──代码之外的生存指南》，虽然是一本针对程序员的书，但是对于一般人来讲也有指导意义，不是说按照书里面的去做，是可以从书里面的思维方式得到一些启发，开拓思路。就算只简单看一下目录，了解整体框架，也是很有意义的。\n第1章 为何这本书与你先前读过的任何书籍都迥然不同 第一篇 职业 第2章 从非同凡响开始：绝不要做他人都在做的事 第3章 思考未来：你的目标是什么 第4章 人际交往能力：远比你想象的重要 第5章 破解面试之道 第6章 就业选择：列出你的选择 第7章 你是哪类软件开发人员 第8章 公司与公司是不一样的 第9章 攀登晋升阶梯 第10章 成为专业人士 第11章 赢得自由——如何辞职 第12章 成为自由职业者：开启自己的一片天地 第13章 创建你的第一个产品 第14章 你打算开始创业吗 第15章 远程工作的生存策略 第17章 单调乏味的简历——如何修改 第18章 请勿陷入对技术的狂热之中 第二篇 自我营销 第19章 针对“码农”的营销基础课 第20章 打造引人注目的品牌 第21章 创建大获成功的博客 第22章 你的主要目标：为他人增加价值 第23章 善于运用社交媒体 第24章 演讲、报告和培训：做“说话的极客” 第25章 著书立说，吸引追随者 第26章 百折不挠，越挫越勇 第27章 学习怎样学习：如何自我教育 第28章 我的“十步学习法” 第29章 第 1 步到第 6 步：这些步骤只做一次 第1步：了解全局\n第2步：确定范围\n第3步：定义目标\n第4步：寻找资源\n第5步：创建学习计划\n第6步：筛选资源\n第30章 第7步到第10步：循环往复 第7步：开始学习，浅尝辄止\n第8步：动手操作，边玩边学\n第9步：全面掌握，学以致用\n第10步：乐为人师，融会贯通\n最后的思考\n第31章 寻找导师：找到你的尤达 第32章 开山收徒：成为尤达一样的大师 第33章 传道授业：若要学知识，必得为人师 第34章 你需要一个学位吗，还是可以对此忽略不计 第35章 发现自己的知识短板 第四篇 生产力 第36章 一切始于专注 第37章 我的私房“生产力提升计划” 第38章 番茄工作法 第39章 我的“定额工作法“：我是如何做到超额完成工作的 第40章 对自己负责 第41章 要不要多任务并行 第42章 职业倦怠：我已找到解药 第43章 时间是怎样被浪费掉的 我们都会浪费时间，我们都做过这件事。事实上，根据定义，如果我们能够学会停止浪费时间，我们的生产效率会尽可能地高。如果能最大限度地增加每一天的有效时间，以便绝对没有时间被浪费，你的能力也能发挥到最大。\n遗憾的是，你不能把每天的每一分钟都充分利用起来，这个目标太不现实了。但是，你可以弄清楚自己在哪儿浪费的时间最多，并消除它们。如果你能排除一到两个最浪费时间的方面，你就会处于非常好的状态。\n作者指出最大的时间杀手是看电视，其次是社交媒体，再次是新闻网站。\n对于当前的中国，我觉得最大的时间杀手是看手机（不一定是社交媒体），尤其是看短视频和微信。\n第44章 形成惯例的重要性 生产力的真正秘诀在于：长期坚持做一些小事。例如，每天写1000字，那么一年就能写4本小说。（一本小说平均为6万～8万字）。\n然而，有多少人坐下来写小说却从来没写完一本呢？他们没有意识到，横亘在自己与梦想之间的无非就是“惯例”。惯例塑造你的生活，让你变得更有生产效率，惯例是让你实现目标最强大的方式之一。你每天的行为日积月累下来，可以让你生活的每个方面都得到提升。\n地雷：注意不要过于沉迷于惯例 你应该有自己遵循的惯例，但是也要有一定的灵活性。你可能会打乱一天的日程安排。不要忘记会有像车坏了这种不可预测的事件发生，车坏了可能会打乱你的例行安排。你需要学会从容应对这些事情。\n采取行动 你目前有哪些惯例？跟踪一下你的日常活动，看看你已经在遵循的惯例有哪些。 选择一个大目标，以每个工作日为单位制订例行安排。计算一下，如果你每天都朝着这个目标前进，一年下来你会取得多大的成就。 第45章 培养习惯：刷新你的代码 培养和养成良好的习惯可以让你不需要刻意努力就保持很高的生产效率。如同惯例可以帮我们缓慢而坚定地每次只砌好一块砖，最终建起一面巨大的墙一样，习惯也可以通过日积月累的努力，让我们前进或者后退。二者最大的区别在于，惯例是我们可以控制的，而习惯却不受我们控制。\n习惯主要由三个要素构成：暗示，惯例和奖励。\n暗示是导致习惯被触发的某样东西。它可能是某一天的某个特定时刻、某种形式的社交场合、某个特定的环境或者其他任何东西。例如，只要我们进入电影院，我们就获得了买爆米花的暗示。\n接下来是惯例。惯例就是你做的事情，也就是习惯的本质。惯例可能是抽烟、跑步，也可能是在检查代码之前运行所有的单元测试。\n最后，还有奖励。奖励就是让习惯真正保持下去的“锚”。这是一种你从执行习惯中获得的良好感觉。奖励可能只是一种满足感，或者是你在《魔兽世界》里升级时的那一声“叮”，再或者是你喜欢的那道点心的甜蜜味道。\n我们的大脑非常善于养成习惯。我们会根据周围的事物自发地养成习惯。一件事情做的越多，越可能形成习惯。习惯的力量往往基于奖励的价值。我们都喜欢做能够带来更好回报的事情。然而，奇怪的是，可变化的奖励要比已知的标准奖励更让人着迷。这就是在赌场能看到那么多人的原因。不知道自己是否能得到奖励或者不知道奖励有多大，会形成一种很坏的习惯，即公认的“上瘾”。\n采取行动 跟踪你的习惯。哪些习惯对你目前的生活影响最大？你认为其中有多少是好习惯，又有多少是坏习惯？ 挑选一项你的坏习惯，试着把它转变为好习惯。在开始做之前，先在自己脑海中设想一下从现在起一周之后、一个月之后、乃至于一年之后你会有什么成果。 第46章 分解任务：如何吃掉一头大象 在本章中，我会谈及一个能够帮助你克服拖延的提高生产力的窍门：分解任务。通过将大任务分解为小任务，你会发现自己更有动力去完成它们，也更加稳妥地向着目标前进。\n为什么更大并不总是更好 任务越大，看起来就越吓人。编写一个完整的软件应用程序很困难，但是写一行代码就容易得多。遗憾的是，在软件开发领域，我们遇到的大项目、大任务往往要比小项目、小任务多得多。\n这些大任务或大项目给我们带来了心理上的伤害，也削弱了我们的生产力——因为我们无法看清楚未来的前景。从宏观上审视一项大型任务的全貌时，它看起来几乎是不可能完成的。想想类似的壮举：盖一幢摩天大楼，修一座横跨几公里的大桥。\n然而，很多摩天大楼和大桥已经被建成了，因此我们知道它们是可行的，但是如果从整体角度看待任何一个此类项目时，看起来好像任何人都不能完成它。\n完成大型项目，像从头开始构建一个应用程序这样的，令我挣扎很久。我曾经动手开发过许多不同的应用程序，但最后都无疾而终，直到我学会如何分解任务。每当开始新项目的时候，我总是热情高涨，但是很快我就会被那些琐碎的事务搞得焦头烂额。我总在想还剩下多少工作要做，我从来就没有冲过终点线。项目越大，我越可能失败。\n我发现有这方面困扰的不止我一个。在软件开发领域，我扮演过各种角色，我发现，当我给其他开发人员分配工作的时候，一个项目能否成功的最大标志就是我所分配的任务的规模。我要求他人完成的任务越大，他们完不成任务的可能性就越大。\n关于这个问题，我们已经讨论过，原因之一就是：大型任务给人带来沉重的心理负担。面对大问题时，我们倾向于花更多的时间思考问题本身，而不是采取行动去解决问题。人类倾向于选择阻力最小的路径。当面对一项大任务的时候，检查电子邮件或者泡上一杯咖啡看起来就是更容易的路径，于是拖延随之而来。\n但是拖延还不是我们不喜欢大型任务的唯一原因。任务越大，越难明确定义。如果我让你去商店买鸡蛋、牛奶和面包，这个任务就是非常明确的，你知道该做什么。完成这项任务很容易，你正确完成任务的概率也很高。\n但是，如果我让你创建一个网站，这个任务很大，定义也不明确。你可能不知道要从哪里着手，也会有许多问题都悬而未决。你不太可能知道要完成这项任务该做些什么。我可以把我认为的、我期望的如何建立这个网站的内容详细记录下来，但是你得花一些时间才能读完并理解这么详细的说明，并且仍然有很高的出错概率。\n大型任务往往也很难估算完成时间。如果我问你，写好一个找出列表中规模最大的项目的算法需要多长时间，你也许可以给我一个非常准确的估计值。但是，如果我让你告诉我，实现网站上的购物车功能需要多久，你的估计值不会比瞎猜好多少。\n大型任务是一种智力挑战，与小任务相比，大任务更可能导致拖延，通常描述也更少，更容易出错，也更难估算完成时间。\n分解任务 不要绝望，还有解决方案。事实证明，大多数大任务都可以被分解成更小的任务。实际上，几乎每个大型任务都可以分解为不计其数的更简单更小型的任务。\n把大型任务分解为更小的任务，是我一直用来完成更多工作、更准确地估算要完成这项工作我需要多长时间的技巧之一。\n当把任务分解成小块的时候，这些任务就变得更易于完成，对完成任务所需的时间的估算也更精确，你也更有可能正确地完成它们。即使有些小任务没有正确完成，你也有很多机会改正，而不至过多地影响大项目。我发现，把大任务分解成小任务真是一个好主意。\n如何分解任务 我把整个项目分解为这样的小任务后，原来的庞然大物瞬间变成了一只小老鼠。即使整个项目看起来仍然是难以解决的大问题，但每个小任务看起来却很简单。\n你可能会发现一件事情，当你试图把大任务分解为许多小任务的时候，对于究竟需要做什么你其实并没有足够的信息。还记得我说过大任务通常并不明确吗？把大任务分解为小任务的关键步骤就是确定出因为缺失了哪些信息而导致你无法创建更小、更明确的任务。如果你在把大任务拆分成小任务的时候遇到问题，很可能是由于缺少信息。\n但是这并不是坏事。在项目早期发现信息不足要比项目已经进展很多后才发现信息不足要好很多。把大任务分解为小任务的时候，务必确保每个小任务都有一个明确的目标。试着明确这些目标经常会发现之前用别的方法遗漏了的重要信息。\n第47章 努力工作的价值，以及为什么你总是逃避努力工作 如果真想富有成效，你就不得不学会工作的时候既聪明又努力。光有聪明是不够的。想获得真正的成功，面对挫折的时候一定量的毅力也是必要的。\n被我们认为困难的事情，实际上都是我们不想做的事情，因为它们不那么激动人心，也不那么光彩照人。伴随着激情飞翔，只做自己感兴趣的事情，非常诱人。一旦你不再感兴趣，你会毫不犹豫地飞向下一个目标。\n但是，这种思维方式是有问题的。问题在于，你的伙伴中如果有人愿意在一件事情上坚持更长的时间，那么最终他就会超越你。一开始，你可能领先于他们。起初，你的激情让你暂时爆发，但是那些愿意投入漫长的努力，并愿意为了完成工作执着于枯燥工作的人，最终会超过你，并且遥遥领先。\n在所有的情况下，我们所面对的现实就是，没有一件事情是轻而易举的。如果真想成功，如果真想要成为成功人士，你就不得不在有些时候通宵达旦。你可能会在自己的职业生涯的数年里每周工作60～70小时。为了获得领先的地位，你可能会好几年都不得不放弃看电视或者与朋友们外出游玩。你无法欺骗这个制度。你的收获取决于你的付出。种瓜得瓜，种豆得豆。没有播种，永远没有收获。\n不过，这并不意味着你永远都不能有片刻轻松。成功会带来更多的成功。越成功就越容易获得成功。但是，攀登第一座山峰的过程是漫长又艰难的。\n到底该怎样才能激励自己真正坐下来，做自己需要做的工作。我希望我可以给出一个神奇的答案，能够瞬间让你成为最有生产效率的人，没有丝毫拖沓或抵触地承担起任何工作，但很不幸的是，我并没有那样的奇迹。\n不过，我可以告诉你，我们所有人都得跟同样的问题作斗争。我们都有拖延的倾向，都会逃避真正对我们重要的工作。\n第48章 任何行动都比不采取行动好 任何行动往往都比没有行动好，特别是当你一直停滞在不愉快的情势下很长时间的时候。如果这是一个错误，至少你学到了一些东西。这样一来，它就不再是一个错误。如果你仍然选择停滞不前，那么你就学不到任何东西。\n——埃克哈特·托利，《当下的力量》（The Power of Now ） 跑起来的汽车更容易转向 通常，无所作为就像坐在一辆停着的汽车上转动方向盘。你有转过停着的汽车的方向盘吗？这并不容易。但是，当车子开起来的时候再去转方向盘就容易多了。\n然而，我们中很多人都坐在自己生活上的“车库”里，坐在停着的汽车的方向盘后面，拼命地左右转动着方向盘，试图在我们已经被抛出行车道之前确定应该前进的方向。\n更好的做法是立刻上车，发动它，这样至少你在某些方向上前进着。一旦汽车处于运动状态下，你就可以轻松地转动方向盘，调整到正确的方向上。如果一直待在车库里，你可能不会转错方向，但是你也没有机会转到正确的方向。\n车子一旦开起来，它就有了动力。这种动力可能会带你在错误的方向前进，但是一旦你弄清楚状况，只需轻松转动方向盘，就能转向正确的方向。况且，你也可能一开始就行进在正确的方向上。\n有时候，当你完全不确定要做什么的时候，最好的行动就是做一些事情，然后在前进途中再调整方向。有时候，这是前进的唯一方法。如果你一直停在原地，你就会因为从没见过而不知道需要在哪里左转。只有开始做一些事情的时候，你才能预测自己将来要采取的一切行动，评估哪些可能是错的。\n通常，要找出一个方向是错的，唯一的方法就是向着那个方向前进。如果错误的代价很小，有所作为总好过无所事事。\n第五篇 理财 金钱只是一种工具。它会带你去往任何你想去的地方，但不会取代你成为司机。 ——爱思•然德（Ayn Rand）\n第六篇 健身 人的身体就是人的灵魂的最好写照。\n——路德维希•维特根斯坦 你可能会觉得奇怪，一本写给软件开发人员的书为什么会用一整篇来讨论健身，但我丝毫不会诧异。事实上，我反而认为将这一篇内容写入本书是我的责任，因为如果你不注意自己的身体健康，老实说我并不看好你能成为顶尖的程序员。\n第56章 为什么需要破解自己的健康密码 健身不仅是保持健康体魄的关键要素之一，也是灵活的、具有创造性的脑力活动的基础。\n——约翰·肯尼迪 ","title":"软技能──代码之外的生存指南 【未完待续】"},{"link":"/posts/hisat2_index_error/","text":"从hisat2 官方网站下载了index：\nH. sapiens GRCh38 index url genome https://genome-idx.s3.amazonaws.com/hisat/grch38_genome.tar.gz genome_snp https://genome-idx.s3.amazonaws.com/hisat/grch38_snp.tar.gz genome_tran https://genome-idx.s3.amazonaws.com/hisat/grch38_tran.tar.gz genome_snp_tran https://genome-idx.s3.amazonaws.com/hisat/grch38_snptran.tar.gz genome_rep(above 2.2.0) https://genome-idx.s3.amazonaws.com/hisat/grch38_rep.tar.gz genome_snp_rep(above 2.2.0) https://genome-idx.s3.amazonaws.com/hisat/grch38_snprep.tar.gz UCSC hg38 index url genome https://genome-idx.s3.amazonaws.com/hisat/hg38_genome.tar.gz genome_tran https://genome-idx.s3.amazonaws.com/hisat/hg38_tran.tar.gz 使用了 ucsc hg38的genome_tran，用stringtie进行rnaseq转录本定量之后，发现有一些转录本在不同的染色体上都有存在，而且不是少数转录本。查找原因，发现该索引用的gtf文件hg38_ucsc.annotated.gtf里面有重复且位置错误的转录本，例如NR_004408：\nTEXT 折叠 复制 chr1\thg38_refGene\texon\t16514122\t16514285\t0.000000\t-\t.\tgene_id \u0026#34;NR_004408\u0026#34;; transcript_id \u0026#34;NR_004408\u0026#34;; gene_name \u0026#34;RNU1-3\u0026#34;; chr1\thg38_refGene\texon\t16666785\t16666948\t0.000000\t-\t.\tgene_id \u0026#34;NR_004408\u0026#34;; transcript_id \u0026#34;NR_004408_dup1\u0026#34;; gene_name \u0026#34;RNU1-3\u0026#34;; chr1\thg38_refGene\texon\t16740516\t16740679\t0.000000\t+\t.\tgene_id \u0026#34;NR_004408\u0026#34;; transcript_id \u0026#34;NR_004408_dup2\u0026#34;; gene_name \u0026#34;RNU1-3\u0026#34;; chr1\thg38_refGene\texon\t16895980\t16896143\t0.000000\t+\t.\tgene_id \u0026#34;NR_004408\u0026#34;; transcript_id \u0026#34;NR_004408_dup3\u0026#34;; gene_name \u0026#34;RNU1-3\u0026#34;; chr1\thg38_refGene\texon\t143729407\t143729570\t0.000000\t-\t.\tgene_id \u0026#34;NR_004408\u0026#34;; transcript_id \u0026#34;NR_004408_dup4\u0026#34;; gene_name \u0026#34;RNU1-3\u0026#34;; chr1\thg38_refGene\texon\t146376807\t146376970\t0.000000\t+\t.\tgene_id \u0026#34;NR_004408\u0026#34;; transcript_id \u0026#34;NR_004408_dup5\u0026#34;; gene_name \u0026#34;RNU1-3\u0026#34;; chr14\thg38_refGene\texon\t34546714\t34546877\t0.000000\t+\t.\tgene_id \u0026#34;NR_004408\u0026#34;; transcript_id \u0026#34;NR_004408\u0026#34;; gene_name \u0026#34;RNU1-3\u0026#34;; chr14\thg38_refGene\texon\t34556226\t34556389\t0.000000\t-\t.\tgene_id \u0026#34;NR_004408\u0026#34;; transcript_id \u0026#34;NR_004408_dup1\u0026#34;; gene_name \u0026#34;RNU1-3\u0026#34;; chr1_KI270713v1_random\thg38_refGene\texon\t21861\t22024\t0.000000\t-\t.\tgene_id \u0026#34;NR_004408\u0026#34;; transcript_id \u0026#34;NR_004408\u0026#34;; gene_name \u0026#34;RNU1-3\u0026#34;; 点击展开查看更多 可以看到，基因RNU1-3在chr14上也有存在，但其实是不对的。\n所以需要自己建立index。修改原index目录里面的make_hg38_tran.sh即可很方便建立新的index。gtf文件准备使用ucsc的hg38.ncbiRefSeq.gtf.gz。\nSHELL 折叠 复制 #!/bin/bash [ -s hg38.fa ] || ln -s /path/to/hg38.fa . # GTF_FILE=hg38_ucsc.annotated.gtf GTF_FILE_GZ=hg38.ncbiRefSeq.gtf.gz [ -s ${GTF_FILE_GZ} ] || ln -s /path/to/hg38.ncbiRefSeq.gtf.gz . if [ ! -f genome.ss ] ; then extract_splice_sites.py \u0026lt;(zcat $GTF_FILE_GZ) \u0026gt; genome.ss fi if [ ! -f genome.exon ] ; then extract_exons.py \u0026lt;(zcat ${GTF_FILE_GZ}) \u0026gt; genome.exon fi CMD=\u0026#34;hisat2-build -p 8 hg38.fa --ss genome.ss --exon genome.exon genome_tran\u0026#34; echo Running $CMD if $CMD ; then echo \u0026#34;genome index built; you may remove fasta files\u0026#34; else echo \u0026#34;Index building failed; see error message\u0026#34; fi 点击展开查看更多 ","title":"hisat2官方下载的index的错误"},{"link":"/posts/just_and_nushell/","text":"justfile 几个相关的网站：\nhttps://just.systems/man/zh/ https://github.com/casey/just https://quickref.cn/docs/justfile.html 是一个类似makefile的工具，但是更现代化，功能更强。\n我之前曾经用makefile来处理bioinf的流程，但是因为makefile写起来太费劲，所以我写了一个python程序，用来写bioinf流程，经过python转换成makefile，然后用make命令来执行。但是还是受制于makefile的一些局限性，例如，出错信息太不直观，导致debug非常费劲，所以自己写了几个小的流程，就没有继续开发下去。\n后来用了snakemake，但是这个工具也有一些局限性，现在看来，一方面还是不够直观，另一方面，现在已经太复杂、太繁琐了。\n这次看到justfile，我倒是觉得可以再了解一下，看看是否可以用这个写流程。\n2025.11.11 补充： 发现just在并行化方面的功能还不完善。just只支持两种有限的多任务并行方式 ：\n通过 [parallel]属性 In this justfile, foo, bar, and baz will execute in parallel when main is run:\nMAKEFILE 折叠 复制 [parallel] main: foo bar baz foo: sleep 1 bar: sleep 1 baz: sleep 1 点击展开查看更多 问题 这种方式甚至不能指定并行的任务数目\nGNU parallel may be used to run recipe lines concurrently: JUSTFILE 折叠 复制 parallel: #!/usr/bin/env -S parallel --shebang --ungroup --jobs {{ num_cpus() }} echo task 1 start; sleep 3; echo task 1 done echo task 2 start; sleep 3; echo task 2 done echo task 3 start; sleep 3; echo task 3 done echo task 4 start; sleep 3; echo task 4 done` 点击展开查看更多 这样的功能，很难在运行任务的时候充分利用服务器的多个核心，尤其是很多环节的多核心并行运行是常规操作的时候，这方面比make和snakemake都要弱很多。\n搜索了一下，发现just现在没有这方面的开发计划：\nhttps://github.com/casey/just/issues/626 https://github.com/casey/just/pull/2803 有人建议用make jobserver protocol , rust也有一个实现：jobslot: an implementation of the GNU make jobserver 。 假如能实现的话，还是非常有前景的。 nushell 网站：\nhttps://www.nushell.sh https://github.com/nushell/nushell nushell提到它的哲学： unix有一个哲学就是，“一切都是文件”，把所有的文件和数据都看作是无结构的原始的数据流，而nushell把所有的输入当作是有结构的。\npipelines nushell的pipeline中流动的是结构化的数据，例如：\nSHELL 折叠 复制 ls | where type == \u0026#34;dir\u0026#34; | table # =\u0026gt; ╭────┬──────────┬──────┬─────────┬───────────────╮ # =\u0026gt; │ # │ name │ type │ size │ modified │ # =\u0026gt; ├────┼──────────┼──────┼─────────┼───────────────┤ # =\u0026gt; │ 0 │ .cargo │ dir │ 0 B │ 9 minutes ago │ # =\u0026gt; │ 1 │ assets │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 2 │ crates │ dir │ 4.0 KiB │ 2 weeks ago │ # =\u0026gt; │ 3 │ docker │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 4 │ docs │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 5 │ images │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 6 │ pkg_mgrs │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 7 │ samples │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 8 │ src │ dir │ 4.0 KiB │ 2 weeks ago │ # =\u0026gt; │ 9 │ target │ dir │ 0 B │ a day ago │ # =\u0026gt; │ 10 │ tests │ dir │ 4.0 KiB │ 2 weeks ago │ # =\u0026gt; │ 11 │ wix │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; ╰────┴──────────┴──────┴─────────┴───────────────╯ 点击展开查看更多 openning files nushell可以将打开的文件或URL里面的内容，当作原始文本或者结构化的数据（如果可以识别其格式）。例如，可以打开一个toml文件并通过管道传输给下游工具进行结构化的处理：\nSHELL 折叠 复制 ls | where type == \u0026#34;dir\u0026#34; | table # =\u0026gt; ╭────┬──────────┬──────┬─────────┬───────────────╮ # =\u0026gt; │ # │ name │ type │ size │ modified │ # =\u0026gt; ├────┼──────────┼──────┼─────────┼───────────────┤ # =\u0026gt; │ 0 │ .cargo │ dir │ 0 B │ 9 minutes ago │ # =\u0026gt; │ 1 │ assets │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 2 │ crates │ dir │ 4.0 KiB │ 2 weeks ago │ # =\u0026gt; │ 3 │ docker │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 4 │ docs │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 5 │ images │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 6 │ pkg_mgrs │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 7 │ samples │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; │ 8 │ src │ dir │ 4.0 KiB │ 2 weeks ago │ # =\u0026gt; │ 9 │ target │ dir │ 0 B │ a day ago │ # =\u0026gt; │ 10 │ tests │ dir │ 4.0 KiB │ 2 weeks ago │ # =\u0026gt; │ 11 │ wix │ dir │ 0 B │ 2 weeks ago │ # =\u0026gt; ╰────┴──────────┴──────┴─────────┴───────────────╯ open Cargo.toml | get package # =\u0026gt; ╭───────────────┬────────────────────────────────────╮ # =\u0026gt; │ authors │ [list 1 item] │ # =\u0026gt; │ default-run │ nu │ # =\u0026gt; │ description │ A new type of shell │ # =\u0026gt; │ documentation │ https://www.nushell.sh/book/ │ # =\u0026gt; │ edition │ 2018 │ # =\u0026gt; │ exclude │ [list 1 item] │ # =\u0026gt; │ homepage │ https://www.nushell.sh │ # =\u0026gt; │ license │ MIT │ # =\u0026gt; │ metadata │ {record 1 field} │ # =\u0026gt; │ name │ nu │ # =\u0026gt; │ repository │ https://github.com/nushell/nushell │ # =\u0026gt; │ rust-version │ 1.60 │ # =\u0026gt; │ version │ 0.72.0 │ # =\u0026gt; ╰───────────────┴────────────────────────────────────╯ 点击展开查看更多 plugins nushell有很多插件来增加功能。\n能够支持结构化数据这一点，我觉得是非常好的一个功能，会大大简化操作。这是用传统shell的时候一个很大的痛点。再等几年来看，说不定会得到广泛的使用。\n","title":"两个有意思的工具"},{"link":"/posts/g2/","text":"2025年10月30日，中美在韩国达成关于关税的协定，看达成的条款，东大还是比较狼狈，但是，回想贸易战刚开始的黑云压城，到现在达成的妥协，再看其他国家的表现与结果，虽然与漂亮未来的斗争还有很长，还会很被动、很受伤，但是，我认为世界G2格局已经形成，大趋势不可逆转。\nTEXT 折叠 复制 据商务部网站10月30日消息，商务部新闻发言人就中美吉隆坡经贸磋商联合安排答记者问。 问：据了解，中美双方在吉隆坡经贸磋商就解决各自关切的经贸问题达成联合安排。请问商务部能否介绍吉隆坡经贸磋商共识更多情况？ 答：中美两国元首刚刚在韩国釜山举行会晤，深入讨论了中美经贸关系等议题，同意加强经贸等领域合作。中方愿与美方一道，共同维护好、落实好两国元首会晤重要共识。 中美经贸团队通过吉隆坡磋商，达成的成果共识主要有以下几方面： 一、美方将取消针对中国商品（包括香港特别行政区和澳门特别行政区商品）加征的10%所谓“芬太尼关税”，对中国商品（包括香港特别行政区和澳门特别行政区商品）加征的24%对等关税将继续暂停一年。中方将相应调整针对美方上述关税的反制措施。双方同意继续延长部分关税排除措施。 二、美方将暂停实施其9月29日公布的出口管制50%穿透性规则一年。中方将暂停实施10月9日公布的相关出口管制等措施一年，并将研究细化具体方案。 三、美方将暂停实施其对华海事、物流和造船业301调查措施一年。美方暂停实施相关措施后，中方也将相应暂停实施针对美方的反制措施一年。 此外，双方还就芬太尼禁毒合作、扩大农产品贸易、相关企业个案处理等问题达成共识。双方进一步确认了马德里经贸磋商成果，美方在投资等领域作出积极承诺，中方将与美方妥善解决TikTok相关问题。 中美吉隆坡经贸磋商取得积极成果，充分证明双方秉持平等、尊重和互惠的精神，通过开展对话与合作，能找到解决问题的办法。经贸磋商成果来之不易，中方期待与美方共同做好落实工作，为中美经贸合作与世界经济注入更多确定性和稳定性。 点击展开查看更多 在这样的大局势下，虽然国力和国力的相对位置都在上升，但是普通人不一定能同步、持续地感受到实惠，不一定能够一直顺风顺水，甚至有可能艰难、曲折。虽然个人在历史洪流中很难掌握自己命运，但还是要持续地思考、积累、探索、苦干，主动作为，在历史洪流中稳步前行，不要被历史的大船撞伤。\n补充：懂王据说要禁止电磁弹射，回归蒸汽弹射，似乎感受到清朝「闭关锁国」的味道。再次说明，趋势不可逆转地在发展。\n","title":"G2"},{"link":"/posts/clean_code/","text":"准备 第一章 代码应当易于理解 在对很多这样的例⼦进⾏研究后，我们总结出，有⼀种对可读性的度量⽐其他任何的度量都要重要。因为它是如此重要，我们把它叫做“可读性基本定理”。\n关键思想 代码的写法应当使别人理解它所需的时间最小化\n第⼀部分 表⾯层次的改进 第二章 把信息装到名字里 我们喜欢把名字当作一条小小的注释。尽管空间不算很大，但选择一个好名字可以让它承载很多信息。\n关键思想 把信息装入名字中\n我们在程序中⻅到的很多名字都很模糊，例如tmp。就算是看上去合理的词，如size或者get，也都没有装⼊很多信息。本章会告诉你如何把信息装⼊名字中。 本章分成6个专题：\n选择专业的词。 避免泛泛的名字（或者说要知道什么时候使⽤它）。 ⽤具体的名字代替抽象的名字。 使⽤前缀或后缀来给名字附带更多信息。 决定名字的⻓度。 利⽤名字的格式来表达含义。 选择专业的词 “把信息装⼈名字中”包括要选择⾮常专业的词，并且避免使⽤“空洞”的词。\n例如，“get”这个词就⾮常不专业，例如在下⾯的例⼦中：\nPYTHON 折叠 复制 def GetPage(url):... 点击展开查看更多 “get”这个词没有表达出很多信息。这个⽅法是从本地的缓存中得到⼀个⻚⾯，还是从 数据库中，或者从互联⽹中？如果是从互联⽹中，更专业的名字可以是FetchPage()或者DownloadPage().\n避免像tmp和retval这样泛泛的名字 使⽤像tmp、retval和foo这样的名字往往是“我想不出名字”的托辞。与其使⽤这样空洞的名字，不如挑⼀个能描述这个实体的值或者⽬的的名字。例如，下⾯的JavaScript函数使⽤了retval：\nJAVASCRIPT 折叠 复制 var euclidean_norm = function(v) { var retval=0.0; for(var i=0; 1\u0026lt;v.length; 1+=1) retval += v[i] * v[i]; return Math.sqrt(retval); 点击展开查看更多 当你想不出更好的名字来命名返回值时，很容易想到使⽤retval。但retval除了“我是⼀个返回值”外并没有包含更多信息（这⾥的意义往往也是很明显的）。 好的名字应当描述变量的⽬的或者它所承载的值。在本例中，这个变量正在累加v的平⽅。因此更贴切的名字可以是sum_squares。这样就提前声明了这个变量的⽬的，并且可能会帮忙找到觖陷。\n然后，有时候泛泛的名字也承载着意义。例如只用做临时变量的tmp。\n建议 如果你需要使用像tmp、it或retval这样空泛的理由，那么你需要有一个好的理由。\n⽤具体的名字代替抽象的名字 在给变量、函数或者其他元素命名时，要把它描述得更具体⽽不是更抽象。\n为名字附带更多信息 带单位的值 如果你的变量是⼀个度量的话（如时间⻓度或者字节数），那么最好把名字带上它的单位。\n例如，这⾥有些JavaScript代码⽤来度量⼀个⽹⻚的加载时间：\nJAVASCRIPT 折叠 复制 var start = (newDate()).getTime(); //top of the page ... var elapsed = (newDate()).getTime() - start; //bottom of the page document.writeln(\u0026#34;Load time was: \u0026#34; + elapsed + \u0026#34;seconds\u0026#34;); 点击展开查看更多 这段代码⾥没有明显的错误，但它不能正常运⾏，因为getTime()会返回毫秒⽽⾮秒。\n通过给变量结尾追加\u0026quot;_ms\u0026quot;，我们可以让所有的地⽅更明确：\nJAVASCRIPT 折叠 复制 var start_ms = (newDate()).getTime(); //top of the page ... var elapsed_ms = (newDate()).getTime() - start_ms; //bottom of the page document.writeln(\u0026#34;Load time was: \u0026#34; + elapsed_ms + \u0026#34;seconds\u0026#34;); 点击展开查看更多 除了时间，还有很多在编程时会遇到的单位。下表列出⼀些没有单位的函数参数以及带单位的版本：\n函数参数 带单位的参数 Start(int delay) delay -\u0026gt; delay_secs CreateCache(int size) size -\u0026gt; size_mb ThrottleDownload(float limit) limit -\u0026gt; max_kbps Rotate(float angle) angle -\u0026gt; degree_cw 附带其他重要属性 这种给名字附带额外信息的技巧不仅限于单位，在对于这个变量存在危险或者意外的任何时候你都该采用它。\n例如，很多安全漏洞来源于没有意识到你的程序接收到的某些数据还没有处于安全状态。在这种情况下，你可能想要使⽤像untrustedUrl或者unsafeMessageBody这样的名字。在调⽤了清查不安全输⼈的函数后，得到的变量可以命名为trustedUrl或者safeMessageBody.\n下表给出更多需要给名字附加上额外信息的例⼦：\n情形 变量名 更好的名字 一个纯文本格式的密码，需要加密后才能进一步使用 password plaintext_password 一条用户提供的注释，需要转义之后才能用于显示 comment unescaped_comment 已转换为UTF8的html字节 html html_utf8 以“url方式编码”的输入数据 data data_urlenc 但你不应该给程序中每个变量都加上像unescaped_或者_utf8这样的属性。如果有⼈误解了这个变量就很容易产⽣缺陷，尤其是会产⽣像安全缺陷这样可怕的结果，在这些地⽅这种技巧最有⽤武之地。基本上，如果这是⼀个需要理解的关键信息，那就把它放在名字⾥。\n名字应该有多长 当选择好名字时，有一个隐含的约束是名字不能太长。。。。另一方面，程序员也可能走另外一个极端，只用单个单词（或单一字母）的名字。那么如何处理这种平衡呢？ 这是要你自己拿注意的，最好的答案和这个变量如何使用有关系，但下面还是提出了一些指导原则。\n在小的作用域里可以使用短的名字 当你去短期度假时，你带的⾏李通常会⽐⻓假少。同样，“作⽤域”⼩的标识符（对于多少⾏其他代码可⻅）也不⽤带上太多信息。也就是说，因为所有的信息（变量的类型、它的初值、如何析构等）都很容易看到，所以可以⽤很短的名字。\n如果⼀个标识符有较⼤的作⽤域，那么它的名字就要包含⾜够的信息以便含义更清楚。\n首字母缩略词和缩写 我们的经验中，使⽤项⽬所特有的缩写词⾮常糟糕。对于项⽬的新成员来讲它们看上太令⼈费解和陌⽣，当过了相当⻓的时间以后，即使是对于原作者来讲，它们也会变得今⼈费解和陌⽣。\n所以经验原则是：团队的新成员是否能理解这个名字的含义？如果能，那可能就没有问题。\n例如，对程序员来讲，使⽤eval来代替evaluation，⽤doc来代替document，⽤str来代替string是相当普遍的。因此如果团队的新成员看到Formatstr()可能会理解它是什么意思，然⽽，理解BEManager可能有点困难。\n丟掉没⽤的词 有时名字中的某些单词可以拿掉⽽不会损失任何信息。例如，ConvertTostring()就不如Tostring()这个更短的名字，⽽且没有丢失任何有⽤的信息。同样，不⽤DoServeLoop()，ServeLoop()也⼀样清楚。\n利⽤名字的格式来传递含义 对于下划线、连字符和⼤⼩写的使⽤⽅式也可以把更多信息装到名字中。【指的是通过大小写、下划线(_)和连字符号（-）来表示更多的区分和信息】\n其他格式规范 【例如，javascript中使对构造函数的名字首字母大写，html中id中用_而class中用-】\n总结 本章唯⼀的主题是：把信息塞⼊名字中。这句话的含意是，读者仅通过读到名字就可以获得⼤量信息。 下⾯是讨论过的⼏个⼩提示：\n使⽤专业的单词──例如，不⽤Get，⽽⽤Fetch或者Download可能会更好，这由上下⽂决定。 避免空泛的名字，像tmp和retval，除⾮使⽤它们有特殊的理由。 使⽤具体的名字来更细致地描述事物—ServerCanStart()这个名字就⽐CanListenOnPort更不清楚。 给变量名带上重要的细节──例如，在值为毫秒的变量后⾯加上_ms，或者在还需要转义的，未处理的变量前⾯加上raw_。 为作⽤域⼤的名字采⽤更⻓的名字──不要⽤让⼈费解的⼀个或两个字⺟的名字来命名在⼏屏之间都可⻅的变量。对于只存在于⼏⾏之间的变量⽤短⼀点的名字更好。 有⽬的地使⽤⼤⼩写、下划线等——例如，你可以在类成员和局部变量后⾯加上_来区分它们。 第3章 不会误解的名字 关键思想 要多问自己几遍：“这个名字会被别人解读成其他含义吗？”要仔细审视这个名字。 如果想更有创意⼀点，那么可以主动地寻找义性名字并更改。\n如果想更有创意⼀点，那么可以主动地寻找二义性名字并更改。\n例子：Filter() 假设你在写⼀段操作数据库结果的代码：\nJAVA 折叠 复制 results = Database.all_objects.filter(\u0026#34;year(=2011\u0026#34;) 点击展开查看更多 结果现在包含哪些信息？\n年份⼩于或等于2011的对象？ 年份不⼩于或等于2011年的对象？ 这⾥的问题是“filter”是个⼆义性单词。我们不清楚它的含义到底是“挑出”还是“减掉”。最好避免使⽤“filter”这个名字，因为它太容易误解。\n推荐用min和max来表示（包含）极限 建议 命名极限最清楚的方式是在要限制的东西前加上max_或者min_\n推荐用first和last来表示包含的范围 TEXT 折叠 复制 a \u0026lt;-- first b c d \u0026lt;-- last - \u0026lt;-- blank 点击展开查看更多 尽管start是个合理的参数名，但stop可以有多种解读。对于这样包含的范围（这种范围包含开头和结尾），⼀个好的选择是first/last。例如：\nJAVA 折叠 复制 set.PrintKeys(first=\u0026#34;Bart\u0026#34;,last=\u0026#34;Maggie\u0026#34;) 点击展开查看更多 不像stop，last这个名字明显是包含的。\n除了first/last，min/max这两个名字也适⽤于包含的范围，如果它们在上下⽂中“听上去合理”的话。\n推荐⽤begin和end来表示包含/排除范围 TEXT 折叠 复制 a \u0026lt;-- begin b c d - \u0026lt;-- end (blank) 点击展开查看更多 对于命名包含/排除范围典型的编程规范是使⽤begin/end。\n但是end这个词有点⼆义性。例如，在句⼦“我读到这本书的end部分了”，这⾥的end是包含的。遗憾的是，英语中没有⼀个合适的词来表示“刚好超过最后⼀个值”。\n因为对begin/end的使⽤是如此常⻅（⾄少在C++标准库中是这样⽤的，还有⼤多数需要“分⽚”的数组也是这样⽤的），它已经是最好的选择了。\n给布尔值命名 当为布尔变量或者返回布尔值的函数选择名字时，要确保返回true和false的意义很明确。\n通常来讲，加上像is、has、can或should这样的词，可以把布尔值变得更明确。\n例如，SpaceLeft()函数听上去像是会返回⼀个数字，如果它的本意是返回⼀个布尔值，可能HasSapceLeft()个这名字更好⼀些。\n最后，最好避免使⽤反义名字。例如，不要⽤：\nJAVA 折叠 复制 bool disable_ssl = false; 点击展开查看更多 ⽽更简单易读（⽽且更紧凑）的表示⽅式是：\nJAVA 折叠 复制 bool use_ssl = true; 点击展开查看更多 与使⽤者的期望相匹配 有些名字之所以会让⼈误解是因为⽤户对它们的含义有先⼊为主的印象，就算你的本意并⾮如此。在这种情况下，最好放弃这个名字⽽改⽤⼀个不会让⼈误解的名字。\n例⼦：get*() 很多程序员都习惯了把以get开始的⽅法当做“轻量级访问器”这样的⽤法，它只是简单地返回⼀个内部成员变量。如果违背这个习惯很可能会误导⽤户。 以下是⼀个⽤Java写的例⼦，请不要这样做：\nJAVA 折叠 复制 public class Statisticscollector { public void addsample(double x) {... } public double getMean() { // Iterate through all samples and return total / num_samples } … } 点击展开查看更多 在这个例⼦中，getMean()的实现是要遍历所有经过的数据并同时计算中值。如果有⼤量数据的话，这样的⼀步可能会有很⼤的代价！但⼀个容易轻信的程序员可能会随意地调⽤getMean()，还以为这是个没什么代价的调⽤。\n相反，这个⽅法应当重命名为像computeMean()这样的名字，后者听起来更像是有些代价的操作。（另⼀种做法是，⽤新的实现⽅法使它真的成为⼀个轻量级的操作。）\n总结 总结 不会误解的名字是最好的名字——阅读你代码的⼈应该理解你的本意，并且不会有其他的理解。遗憾的是，很多英语单词在⽤来编程时是多义性的，例如filter、length和limit. 在你决定使⽤⼀个名字以前，要吹⽑求疵⼀点，来想象⼀下你的名字会被误解成什么。最好的名字是不会误解的。 当要定义⼀个值的上限或下限时，max_和min_是很好的前缀。对于包含的范围，first和last是好的选择。对于包含/排除范围，begin和end是最好的选择，因为它们最常⽤。 当为布尔值命名时，使⽤is和has这样的词来明确表示它是个布尔值，避免使⽤反义的词（例如disable_ssl）。 要⼩⼼⽤户对特定词的期望。例如，⽤户会期望get()或者size()是轻量的⽅法。 第4章 审美 好的源代码应当“看上去养眼”。本章会告诉⼤家如何使⽤好的留⽩、对⻬及顺序来让你的代码变得更易读。\n确切地说，有三条原则：\n使⽤⼀致的布局，让读者很快就习惯这种⻛格。 让相似的代码看上去相似。 把相关的代码⾏分组，形成代码块。 我们的观点是好的审美与好的设计是两种独⽴的思想。最好是同时在两个⽅向上努⼒做到更好。\n使⽤从审美⻆度讲让⼈愉悦的代码更容易。\n重新安排换⾏来保持⼀致和紧凑 一个修改好的例子：\nJAVA 折叠 复制 public class PerformanceTester { // TopConnectionSimulator (throughput, latency, jitter, packet_loss) // [Kbps] [ms] [ms] [percent] public static final TcpConnectionSimulator wifi = new TcpConnectionSimulator (500, 80, 200, 1); public static final TcpConnectionSimulator t3_fiber = new TcpConnectionSimulator (45000, 10, 0, 0); public static final TcpConnectionSimulator cell = new TcpConnectionSimulator (100, 400, 250, 5); } 点击展开查看更多 用方法（单独的函数）来整理不规则的方法 【将大量重复的代码放在单独的方法中，其好处是：】\n消除了原来代码中大量的重复，让代码更紧凑 并且在该方法被调用的地方更简洁明了 添加新测试或新的函数会更简单 在需要时使用列对齐 【python的通用建议，不建议使用列对齐（或者在等号处对齐）】\n两个比较好的例子：\n你可以借⽤“列对⻬”的⽅法来让代码易读。例如：\nPYTHON 折叠 复制 CheckFullName(\u0026#34;Doug Adams\u0026#34; , \u0026#34;Mr. Douglas Adams\u0026#34; , \u0026#34;\u0026#34;); CheckFullName(\u0026#34; Jake Brown \u0026#34;, \u0026#34;Mr. Jake Brown III\u0026#34;, \u0026#34;\u0026#34;); CheckFullName(\u0026#34;No Such Guy\u0026#34; , \u0026#34;\u0026#34; , \u0026#34;no match found\u0026#34;); CheckFullName(\u0026#34;John\u0026#34; , \u0026#34;\u0026#34; , \u0026#34;more than one result\u0026#34;); 点击展开查看更多 在这段代码中，很容易区分出CheckFullName()的第⼆个和第三个参数。下⾯是⼀个简单的例⼦，它有⼀⼤组变量定义：\nPYTHON 折叠 复制 # Extract POST parameters to local variables details = request.POST.get(\u0026#39;details\u0026#39;) location = request.POST.get(\u0026#39;location\u0026#39;) phone = equest.POST.get(\u0026#39;phone\u0026#39;) email = request.POST.get(\u0026#39;email\u0026#39;) url = request.POST.get(\u0026#39;url\u0026#39;) 点击展开查看更多 你可能注意到了，第三个定义有个拼写错误（把request写成了equest）。当所有的内容都这么整⻬地排列起来时，这样的错误就很明显。\n选择一个有意义的顺序，始终一致地使用它 在很多情况下，代码的顺序不会影响其正确性。例如，下⾯的5个变量定义可以写成任 意的顺序：\nPYTHON 折叠 复制 details = request.POST.get(\u0026#39;details\u0026#39;) location = request.POST.get(\u0026#39;location\u0026#39;) phone = request.POST.get(\u0026#39;phone\u0026#39;) email = request.POST.get(\u0026#39;email\u0026#39;) url = request.POST.get(\u0026#39;url\u0026#39;) 点击展开查看更多 在这种情况下，不要随机地排序，把它们按有意义的⽅式排列会有帮助。下⾯是⼀些想法：\n让变量的顺序与对应的HTML表单中\u0026lt;input\u0026gt;字段的顺序相匹配。 从“最重要”到“最不重要”排序。 按字⺟顺序排序。 ⽆论使⽤什么顺序，你在代码中应当始终使⽤这⼀顺序。如果后⾯改变了这个顺序，那会让⼈很困惑。 把声明按块组织起来 【一个改进后的例子：】\nJAVA 折叠 复制 class FrontendServer { public: FrontendServer (); ~FrontendSeIver(); // Handlers void ViewProfile(HttpRequest* request); void SaveProfile(HttpRequest* request); void FindFriends(HttpRequest* equest); // Request/Reply Utilities string ExtractQueryParam(HttpRequest* request, string param); void ReplyOK(HttpRequest* request, string html); void ReplyNotFound(HttpRequest* request, string error); // Database Helpers void OpenDatabase(string location, string user); void CloseDatabase (string location); }; 点击展开查看更多 把代码分成段落 【一个改进后的例子：】\nPYTHON 折叠 复制 def suggest_new_friends(user, email_password): # Get the user\u0026#39;s friends\u0026#39; email addresses. friends = user. friends() friend_emails = set(f.email for f in friends) # Import all email addresses from this user\u0026#39;s email account. contacts = import_contacts(user.email, email_password) contact_emails = set(c.email for c in contacts) # Find matching users that they aren\u0026#39;t already friends with. non_friend_emails = contact_emails - friend_emails suggested_friends = User.objects.select(email_in=non_friend_emails) # Display these lists on the page. display[\u0026#39;user\u0026#39;] = user display[\u0026#39;friends\u0026#39;] = friends displayl\u0026#39;suggested_friends\u0026#39;] = suggested_friends return render(\u0026#34;suggested_friends.html\u0026#34;, display) 点击展开查看更多 个人风格与一致性 有相当一部分审美选择可以归结为个人风格，例如，类定义的大括号该放在哪里。选择一种风格而非另一种，不会影响到代码的可读性，但是如果把两种风格混在一起，就会对可读性有影响了。\n关键思想 一致的风格比“正确”的风格更重要。\n总结 ⼤家都愿意读有美感的代码。通过把代码⽤⼀致的、有意义的⽅式“格式化”，可以把代码变得更容易读，并且可以读得更快。 下⾯是讨论过的⼀些具体技巧：\n如果多个代码块做相似的事情，尝试让它们有同样的剪影。 把代码按“列”对⻬可以让代码更容易浏览。 如果在⼀段代码中提到A、B和C，那么不要在另⼀段中说B、C和A。选择⼀个有意义的顺序，并始终⽤这样的顺序。 ⽤空⾏来把⼤块代码分成逻辑上的“段落”。 第5章 该写什么样的注释 关键思想 注释的目的是尽量帮助读者了解得和作者一样多。\n当你写代码时，你的脑海⾥会有很多有价值的信息。当其他⼈读你的代码时，这些信息已经丢失了——他们所⻅到的只是眼前的代码。\n本章会展示许多例⼦来说明什么时候应该把你脑海中的信息写下来。我们略去了很多对注释的世俗观点，相对地，我们更关注注释有趣的和“匮乏的”⽅⾯。\n我们把本章组织成以下⼏个部分：\n了解什么不需要注释。 ⽤代码记录你的思想。 站在读者的⻆度，去想象他们需要知道什么。 什么不需要注释 什么是好的注释，什么是没有价值的注释呢？\n关键思想 不要为那些从代码本身就能快速推断的事实写注释。\n这里“快速”是个重要的区别。考虑⼀下下⾯这段Python代码：\nPYTHON 折叠 复制 #remove everything after the second \u0026#39;*\u0026#39;. name = \u0026#39;*\u0026#39;.join(line.split(\u0026#39;*\u0026#39;)[:2]) 点击展开查看更多 从技术上来讲，这⾥的注释也没有表达出任何“新信息”。如果你阅读代码本身，你最终会明⽩它到底在做什么。但对于⼤多数程序员来讲，读有注释的代码⽐没有注释的代码理解起来要快速得多。\n不要为了注释⽽注释 不要给不好的名字加注释──应该把名字改好 常来讲，你不需要“拐杖式注释”—试图粉饰可读性差的代码的注释。写代码的⼈常常把这条规则表述成：好代码\u0026gt;坏代码+好注释。\n记录你的思想 很多好的注释仅通过“记录你的想法”就能得到，也就是那些你在写代码时有过的重要想法。\n加入“导演评论” 电影中常有“导演评论”部分，电影制作者在其中给出⾃⼰的⻅解并且通过讲故事来帮助你理解这部电影是如何制作的。同样，你应该在代码中也加⼊注释来记录你对代码有价值的⻅解。\n下⾯是⼀个例⼦：\nC\u0026#43;\u0026#43; 折叠 复制 // 出乎意料的是，对于这些数据⽤⼆叉树⽐⽤哈希表快40% // 哈希运算的代价⽐左/右⽐较⼤得多 点击展开查看更多 这段注释教会读者⼀些事情，并且防⽌他们为⽆谓的优化⽽浪费时间。\n下⾯是另⼀个例⼦：\nC\u0026#43;\u0026#43; 折叠 复制 // 作为整体可能会丢掉⼏个词。这没有问题。要100%解决太难了 点击展开查看更多 如果没有这段注释，读者可能会以为这是个bug然后浪费时间尝试找到能让它失败的测试⽤例，或者尝试改正这个bug。\n注释也可以⽤来解释为什么代码写得不那么整洁：\nC\u0026#43;\u0026#43; 折叠 复制 // 这个类正在变得越来越乱 // 也许我们应该建⽴⼀个\u0026#39;ResourceNode\u0026#39;⼦类来帮助整理 点击展开查看更多 这段注释承认代码很乱，但同时也⿎励下⼀个⼈改正它没有这段注释，很多读者可能会被这段乱代码吓到⽽不敢碰它。\n为代码中的瑕疵写注释 代码始终在演进，并且在这过程中肯定会有瑕疵。不要不好意思把这些瑕疵记录下来。\n例如，当代码需要改进时：\nC\u0026#43;\u0026#43; 折叠 复制 // TODO：采⽤更快算法 点击展开查看更多 或者当代码没有完成时：\nC\u0026#43;\u0026#43; 折叠 复制 // TODO（dustin）：处理除JPEG以外的图像格式 点击展开查看更多 有⼏种标记在程序员中很流⾏：\n标记 通常的意义 TODO: 我还没有处理的事情 FIXME: 已知的⽆法运⾏的代码 HACK: 对⼀个问题不得不采⽤的⽐较粗糙的解决⽅案 XXX: 危险！这⾥有重要的问题 你的团队可能对于是否可以使⽤及何时使⽤这些标记有具体的规范。例如，TODO:可能只⽤于重要的问题。如果是这样，你可以⽤像todo:（⼩写）或者maybe-later:这样的⽅法表示次要的缺陷。\n重要的是你应该可以随时把代码将来应该如何改动的想法⽤注释记录下来。这种注释给读者带来对代码质量和当前状态的宝贵⻅解，甚⾄可能会给他们指出如何改进代码的⽅向。\n给常量加注释 当定义常量时，通常在常量背后都有⼀个关于它是什么或者为什么它是这个值的事。\n有些常量不需要注释，因它们的名字本身已经很清楚（例如SECONDS_PER_DAY）。但是在我们的经验中，很多常量可以通过加注释得以改进。这不过是匆匆记下你在决定这个常量值时的想法⽽已。\n站在读者的角度 意料之中的提问 当别⼈读你的代码时，有些部分更可能让他们有这样的想法：“什么？为什么会这样？”你的⼯作就是要给这些部分加上注释。\n公布可能的陷阱 当为⼀个函数或者类写⽂档时，可以问⾃⼰这样的问题：“这段代码有什么出⼈意料的地⽅？会不会被误⽤？”基本上就是说你需要“未⾬绸缪”，预料到⼈们使⽤你的代码时可能会遇到的问题。\n例如，假设你写了⼀个函数来向给定的⽤户发邮件：\nC\u0026#43;\u0026#43; 折叠 复制 void SendEmail (string to, string subject, string body); 点击展开查看更多 这个函数的实现包括连接到外部邮件服务，这可能会花整整⼀秒，或者更久。可能有⼈在写Web应⽤时在不知情的情况下错误地在处理HTTP请求时调⽤这个函数。（这么做可能会导致他们的web应⽤在邮件服务宕机时“挂起”。）\n为了避免这种灾难，你应当为这个“实现细节”加上注释：\nC\u0026#43;\u0026#43; 折叠 复制 // 调⽤外部服务来发送邮件。（1分钟之后超时。） void SendEmail(string to, string subject, string body); 点击展开查看更多 “全局观”注释 对于团队的新成员来讲，最难的事情之⼀就是理解“全局观”──类之间如何交互，数据如何在整个系统中流动，以及入⼝点在哪⾥。设计系统的⼈经常忘记给这些东⻄加注释，“只缘身在此⼭中”。\n思考下⾯的场景：有新⼈刚刚加⼊你的困队，她坐在你旁边，⽽你需要让她熟悉代码库。在你带领她浏览代码库时，你可能会指着某些⽂件或者类说这样的话：\n“这段代码把我们的业务逻辑与数据库粘在⼀起。任何应⽤层代码都不该直接使⽤它。” “这个类看上去很复杂，但它实际上只是个巧妙的缓存。它对系统中的其他部分⼀⽆所知。” 在⼀分钟的随意对话之后，你的新团队成员就知道得⽐她⾃⼰读源代码更多了。\n这正是那种应该包含在⾼级别注释中的信息。\n下⾯是⼀个⽂件级别注释的简单例⼦：\nC\u0026#43;\u0026#43; 折叠 复制 // 这个⽂件包含⼀些辅助函数，为我们的⽂件系统提供了更便利的接！ // 它处理了⽂件权限及其他基本的细节 点击展开查看更多 不要对于写庞⼤的正式⽂档这种想法不知所措。⼏句精⼼选择的话⽐什么都没有强。\n总结性注释 算在⼀个函数的内部，给“全局观”写注释也是个不错的主意。下⾯是⼀个例⼦，这段注释巧妙地总结了其后的低层代码：\nPYTHON 折叠 复制 #Find all the items that customers purchased for themselves. for customer_id in all_customers: for sale in all_sales[customer_id].sales: if sale.recipient == customer_id: ... 点击展开查看更多 没有这段注释，每⾏代码都有些谜团。（我知道这是在遍历all_customers ……但是为什么要这么做？）\n在包含⼏⼤块的⻓函数中这种总结性的注释尤其有⽤。\nPYTHON 折叠 复制 def GenerateUserReport(): # Acquire a lock for this user ... # Read user\u0026#39;s info from the database ... # Write info to a file ... # Release the lock for this user ... 点击展开查看更多 这些注释同时也是对于函数所做事情的总结，因此读者可以在深⼈了解细节之前就能得到该函数的主旨。（如果这些⼤段很容易分开，你可以直接把它们写成函数。正如我们 前⾯提到的，好代码⽐有好注释的差代码要强。）\n注释应该说明“做什么”、“为什么”还是“怎么做”？\n你可能听说过这样的建议：“注释应该说明‘为什么这样做’⽽⾮“做什么’（或者‘怎么做’）”。这虽然很容易记，但我们觉得这种说法太简单化，并且对于不同的⼈有不同的含义。\n我们的建议是你可以做任何能帮助读者更容易理解代码的事，这可能也会包含对于“做什么”, “怎么做”或者“为什么”的注释（或者同时注释这三个⽅⾯）。\n最后的思考──克服“作者⼼理阻滞” 很多程序员不喜欢写注释，因为要写出好的注释感觉好像要花很多⼯夫。当作者有了这种“作者⼼理阻滞”，最好的办法就是现在就开始写。因此下次当你对写注释犹豫不决时，就直接把你⼼⾥想的写下来就好了，虽然这种注释可能是不成熟的。\n例如，假设你正在写⼀个函数，然后⼼想：“哦，天啊，如果⼀旦这东⻄在列表中有重复的话会变得很难处理的。”那么就直接把它写下来：\nC\u0026#43;\u0026#43; 折叠 复制 // 哦，天啊，如果⼀旦这东⻄在列表中有重复的话会变得很难处理的。 点击展开查看更多 看到了，这难吗？它作为注释来讲实际上没那么差——起码⽐没有强。可能措辞有点含糊。要改正这⼀点，可以把每个⼦句改得更专业⼀些：\n“哦，天啊”，实际上，你的意思是“⼩⼼：这个地⽅需要注意”。 “这东⻄”，实际上，你的意思是“处理输⼊的这段代码”。 “会变得很难处理”，实际上，你的意思是“会变得难以实现”。 新的注释可以是：\nC\u0026#43;\u0026#43; 折叠 复制 // ⼩⼼：这段代码不会处理列表中的重复（因为这很难做到） 点击展开查看更多 请注意我们把写注释这件事拆成了⼏个简单的步骤：\n不管你⼼⾥想什么，先把它写下来。 读⼀下这段注释，看看有没有什么地⽅可以改进。 不断改进。 当你经常写注释，你就会发现步骤1所产⽣的注释变得越来越好，最后可能不再需要做任何修改了。并且通过早写注释和常写注释，你可以避免在最后要写⼀⼤堆注释这种令⼈不快的状况。\n总结 注释的⽬的是帮助读者了解作者在写代码时已经知道的那些事情。本章介绍了如何发现所有的并不那么明显的信息块并且把它们写下来。 什么地⽅不需要注释：\n能从代码本身中迅速地推断的事实。 ⽤来粉饰烂代码（例如整脚的函数名）的“拐杖式注释”—应该把代码改好。 你应该记录下来的想法包括：\n对于为什么代码写成这样⽽不是那样的内在理由（“指导性批注”）。 代码中的缺陷，使⽤像TOD0：或者XCX：这样的标记。 常量背后的故事，为什么是这个值。 站在读者的⽴场上思考：\n预料到代码中哪些部分会让读者说：“啊？”并且给它们加上注释。 为普通读者意料之外的⾏为加上注释。 在⽂件/类的级别上使⽤“全局观”注释来解释所有的部分是如何⼀起⼯作的。 ⽤注释来总结代码块，使读者不致迷失在细节中。 第6章 写出言简意赅的注释 如果你要写注释，最好把它写得精确-越明确和细致越好。另外，由于注释在屏幕上也要占很多的地⽅，并且需要花更多的时间来读，因此，注释也需要很紧凑。\n关键思想 注释应当有很⾼的信息/空间率。\n让注释保持紧凑 避免使用不明确的代词 润色粗糙的句子 精确地描述函数的行为 假设你刚写了⼀个函数，它统计⼀个⽂件中的⾏数：\nC\u0026#43;\u0026#43; 折叠 复制 // Return the number of lines in this file. int CountLines(string filename) {...} 点击展开查看更多 上⾯的注释并不是很精确，因为有很多定义“⾏”的⽅式。下⾯列出⼏个特别的情况：\n\u0026ldquo;\u0026quot;（空⽂件）──0或1⾏？ \u0026ldquo;hello\u0026rdquo;──0或1⾏？ \u0026ldquo;hello\\n\u0026rdquo; ──1或2⾏？ \u0026ldquo;hello\\nworld\u0026rdquo; ──1或2⾏？ \u0026ldquo;hello\\n\\rworld\\r\u0026rdquo;──2、3或4⾏？ 最简单的实现⽅法是统计换⾏符（\\n）的个数（这就是Unix命令wc的⼯作原理）。下⾯的注释对于这种实现⽅法更好⼀些：\nC\u0026#43;\u0026#43; 折叠 复制 // Count how many new line bytes (\u0026#39;\\n\u0026#39;) are in the file. int CountLines(string filename) {...} 点击展开查看更多 这条注释并没有⽐第⼀个版本⻓很多，但包含更多信息。它告诉读者如果没有换⾏符，这个函数会返回0。它还告诉读者回⻋符（\\r）会被忽略。\n用输入/输出例子来说明特别的情况 对于注释来讲，⼀个精⼼桃选的输⼈/输出例⼦⽐千⾔万语还有效。\n声明代码的意图 正如我们在前⼀章中提到的，很多时候注释的作⽤就是要告诉读者当你写代码时你是怎么想的。遗憾的是，很多注释只描述代码字⾯上的意思，没有包含多少新信息。\n下⾯的例⼦就是⼀条这样的注释：\nC\u0026#43;\u0026#43; 折叠 复制 void DisplayProducts(list\u0026lt;Product\u0026gt; products) { products.sort(CompareProductByPrice); // Iterate through the list in reverse order for (list\u0026lt;Product\u0026gt;::reverse_iterator it = products.rbegin(); it != products.rend(); ++it) Displayprice(it-\u0026gt;price); ... } 点击展开查看更多 这⾥的注释只是描述了它下⾯的那⾏代码。相反，更好的注释可以是这样的：\nC\u0026#43;\u0026#43; 折叠 复制 // Display each price, from highest to lowest for (list\u0026lt;Product\u0026gt;::reverse_iterator it = products.rbegin(); ... ) 点击展开查看更多 这条注释从更⾼的层次解释了这段程序在做什么。这更符合程序员写这段代码时的想法。\n有趣的是，这段程序中有⼀个bug！函数CompareProductByPrice（例⼦中没有给出）已经把⾼价的项⽬排在了前⾯。这段代码所做的事情与作者的意图相反。\n这是第⼆种注释更好的原因。除了这个bug，第⼀条注释从技术上讲是正确的.循环进⾏的确是反向遍历）。但是有了第⼆条注释，读者更可能会注意到作者的意（先显示⾼价项⽬）与代码实际所做的有冲突。其效果是，这条注释扮演了冗余检查的⻆⾊。\n“具名函数参数”的注释 【python中可以使用 function(arg1=value1, arg2=value2)的调用方法，可以很方便的实现作者的理念； C++实现这个概念比较困难】\n采用信息含量高的词 总结 本章是关于如何把更多的信息装⼊更⼩的空间⾥。下⾯是⼀些具体的提示： 当像i和this这样的代词可能指代多个事物时，避免使⽤它们。 尽量精确地描述函数的⾏为。 在注释中⽤精⼼挑选的输⼊/输出例⼦进⾏说明。 声明代码的⾼层次意图，⽽⾮明显的细节。 ⽤嵌⼊的注释（如Function(/*arg-*/\u0026hellip;））来解释难以理解的函数参数。【对python来讲，只需要在函数调用的时候用具名参数即可】 ⽤含义丰富的词来使注释简洁。 第二部分 简化循环和逻辑 第⼀部分介绍了表⾯层次的改进，那是⼀些改进代码可读性的简单⽅法，⼀次⼀⾏，在没有很⼤的⻛险或者花很⼤代价的情况下就可以应⽤。\n第⼆部分将进⼀步深⼊讨论程序的“循环和逻辑”：控制流、逻辑表达式以及让你的代码正常运⾏的那些变量。和第⼀部分的要求⼀样，我们的⽬标是让代码中的这些部分容易理解。\n我们通过试着 最⼩化代码中的\u0026quot;思维包袱\u0026rdquo; 来达到⽬的。每当你看到⼀个复杂的逻辑、⼀个巨⼤的表达式或者⼀⼤堆变量，这些都会增加你头脑中的思维包袱。它需要让你考 虑得更复杂并且记住更多事情。这恰恰与“容易理解”相反。当代码中有很多思维包袱时，很可能在不知不觉中就会产⽣bug，代码会变得难以改变，并且使⽤它也没那么有趣了。\n第7章 把控制流变得易读 关键思想 把条件、循环以及其他对控制流的改变做得越“自然”越好。运用一种方式使读者不用停下来重读你的代码。\n条件语句中的参数顺序 if (length \u0026gt;= 10) 比if (10 \u0026lt;= length)更易读，while (bytes_received \u0026lt; bytes_expected)也比while (bytes_expected \u0026gt; bytes_received)更易读，通用的规则是：\n比较的左侧 比较的右侧 \u0026ldquo;被询问\u0026quot;的表达式，它的值更倾向于不断变化 用来做比较的表达式，它的值更倾向于常量 这样的规则也和语言的习惯一致。\nif/else语句块的顺序 在处理if/else语句块的时候，有些情况下一种顺序比其他要好：\n首先处理正逻辑而不是负逻辑的情况。例如，用if (debug)而不是if (!debug)。 先处理掉简单的情况。这种方式可能还会使得if和else在屏幕之内都可见。 先处理有趣的或者可疑的情况。 有时这些倾向性之间会有冲突，那么就需要你自己判断了。但在很多情况下这都会有明确的选择。 关键思想 相对于追求最小化代码行数，一个更好的度量方法是最小化人们理解它所需的时间。\n避免do/while循环 【相对do循环来讲，while循环是一个更好的选择。】\n从函数中提前返回 从函数中提前返回没有问题，⽽且常常很受欢迎。\n臭名昭著的goto 【这个在现代编程中已经基本不用了】\n最小化嵌套 套很深的代码很难以理解。每个嵌套层次都在读者的“思维栈”上⼜增加了⼀个条件。当读者⻅到⼀个右⼤括号(“}”)时，可能很难“出栈”来回忆起它背后的条件是什么。\n嵌套是如何累积而成的 关键思想 你对代码做改动时，从全新的⻆度审视它，把它作为⼀个整体来看待。\n通过提早返回来减少嵌套 减少循环内的嵌套 在循环中，与提早返回类似的技术是continue\n你能理解执行的流程吗？ 本章介绍低层次控制流：如何把循环、条件和其他跳转写得简单易读。但是你也应该从⾼层次来考虑程序的“流动”。理想的情况是，整个程序的执⾏路径都很容易理解──从main()开始，然后在脑海中⼀步步执⾏代码，⼀个函数调⽤另⼀个函数，直到程序结束。 然⽽在实践中，编程语⾔和库的结构让代码在“幕后”运⾏，或者让流程难以理解。下⾯是⼀些例⼦：\n编程结构 高层次程序流程是如何变得不清晰的 线程 不清楚什么时间执行什么代码 信号量/中断处理程序 有些代码随时都有可能执行 异常 可能会从很多个函数调用中向上冒泡一样执行 函数指针和匿名函数 很难知道到底会执行什么代码，因为在编译时还没有决定 虚方法 object.virtualMethod()可能会调用一个未知子类的代码 关键是不要让代码中使⽤这些结构的⽐例太⾼。如果你滥⽤这些功能，它可能会让跟踪代码像三牌赌博游戏（像卡通画中⼀样）。\n总结 有⼏种⽅法可以让代码的控制流更易读。\n在写⼀个⽐较时(while（bytes_expected \u0026gt; bytes_received）)，把改变的值写在左边并且把更稳定的值写在右边更好⼀些(while（bytes_received \u0026lt; bytes_expected）)。\n你也可以重新排列if/else语句中的语句块。通常来讲，先处理正确的/简单的/有趣的情况。有时这些准则会冲突，但是当不冲突时，这是要遵循的经验法则。\n某些编程结构，像三⽬运算符(:?)、do/while循环，以及goto经常会导致代码的可读性变差。最好不要使⽤它们，因为总是有更整洁的代替⽅式。\n嵌套的代码块需要更加集中精⼒去理解。每层新的嵌套都需要读者把更多的上下⽂“压入栈”。应该把它们改写成更加“线性”的代码来避免深嵌套。\n通常来讲提早返回可以减少嵌套并让代码整洁。“保护语句”（在函数顶部处理简单的情况时）尤其有⽤。\n第8章 拆分超长的表达式 关键思想 把你的超长表达式拆分成更容易理解的小块。\n在本章中，我们会看看各种可以操作和拆分代码以使他们更容易理解的方法。\n用作解释的变量 拆分表达式最简单的⽅法就是引⼈⼀个额外的变量，让它来表示⼀个⼩⼀点的⼦表达式。这个额外的变量有时叫做“解释变量”，因为它可以帮助解释⼦表达式的含义。\n下⾯是⼀个例⼦：\nPYTHON 折叠 复制 if line.split(\u0026#39;:\u0026#39;)[O].strip() == \u0026#34;root\u0026#34;: ... 点击展开查看更多 下⾯是和上⾯同样的代码，但是现在有了⼀个解释变量。\nPYTHON 折叠 复制 username = line.split(\u0026#39;:\u0026#39;)[O].strip() if username==\u0026#34;root\u0026#34;: ... 点击展开查看更多 总结变量 即使⼀个表达式不需要解释（因为你可以看出它的含义），把它装⼈⼀个新变量中仍然有⽤。我们把它叫做总结变量，它的⽬的只是⽤⼀个短很多的名字来代替⼀⼤块代码，这个名字会更容易管理和思考。\n例如，看看下⾯代码中的表达式:\nC\u0026#43;\u0026#43; 折叠 复制 if (request.user.id == document.owner_id) { // user can edit this document... } ... if (request.user.id != document.owner_id) { // document is read-only... } 点击展开查看更多 这⾥的表达式request.user.id == document.owner_id看上去可能并不⻓，但它包含5个变量，所以需要多花点时间来想⼀想如何处理它。\n这段代码中的主要概念是：“该⽤户拥有此⽂档吗？”这个概念可以通过增加⼀个总结变量来表达得更清楚。\nC\u0026#43;\u0026#43; 折叠 复制 final boolean user_owns_document = (request.user.id == document.owner_id); if (user_owns_document) { // user can edit this document... } ... if (!user_owns_document) { // document is read-only... } 点击展开查看更多 上⾯的代码看上去改动并不⼤，但语句if (user_owns_document)更容易理解⼀些。并且，在⼀开始就定义了user_owns_document，⽤于提前告诉读者“这是在整个函数中都会引⽤的⼀个概念”。\n使用德摩根定理 如果你学过“电路”或者“逻辑”课，你应该还记得德摩根定理1。对于⼀个布尔表达式，有两种等价的写法：\nJAVA 折叠 复制 1) not (a or b or c) \u0026lt;=\u0026gt; (not a) and (not b) and (not c) 2) not (a and b and c) \u0026lt;=\u0026gt; (not a) oI (not b) or (not c) 点击展开查看更多 如果你记不住这两条定理，⼀个简单的⼩结是“分别取反，转换与/或”（反向操作是“提出取反因⼦”）。 有时，你可以使⽤这些法则来让布尔表达式更具可读性。例如，如果你的代码是这样的： if (!(file_exists \u0026amp;\u0026amp; !is_protected)) Error(\u0026quot;Sorry, could not read file.\u0026quot;);\n那么可以把它改写成： if (!flle_exists || is_protected) Error (\u0026quot;Sorry, could not read file. \u0026quot;);\n滥用短路逻辑 下⾯例⼦中的语句当初是由某⼀位作者写的：\nC\u0026#43;\u0026#43; 折叠 复制 assert((!(bucket = FindBucket(key))) || !bucket-\u0026gt;IsOccupied()); 点击展开查看更多 ⽤英语来讲，这段代码是在说：“得到key的bucket。如果这个bucket不是空，那么确定它是不是已经被占⽤。”\n尽管它只有⼀⾏代码，但是它的确要让⼤多数程序员停下来想⼀想才⾏。现在和下⾯的代码⽐⼀⽐：\nC\u0026#43;\u0026#43; 折叠 复制 bucket = FindBucket(key); if (bucket != NULL) assert(!bucket-\u0026gt;IsOccupied()); 点击展开查看更多 它做的事情完全⼀样，尽管它有两⾏代码，但它要容易理解得多。\n那么为什么要把代码写在⼀个巨⼤的表达式⾥呢？在当时，它看上去很“智能”。把逻辑解析成⼀⼩段简明的码段。这可以理解—这就像在猜⼀个⼩⼩的谜，我们都想让⼯作有乐趣。问题是这种代码对于任何读它的⼈来讲都是个思维上的减速带。\n关键思想 要小心“智能”的小代码段──他们往往在以后会让别人读起来感到困惑。\n这是否意味着你应该避免利⽤这种短路⾏为？不是的。在很多情况下可以⽤它达到整洁的⽬的，例如：\nC\u0026#43;\u0026#43; 折叠 复制 if(object \u0026amp;\u0026amp; object-\u0026gt;method()) ... 点击展开查看更多 还有⼀个⽐较新的习惯⽤法值得⼀提：在像Python、JavaScript以及Ruby这样的语⾔中， “or”操作符会返回其中⼀个参数（它不会转换成布尔值），所以这样的代码：\nJAVASCRIPT 折叠 复制 x = a || b || c 点击展开查看更多 可以⽤来从a、b或c中找出第⼀个为“真”的值。\n例子：与复杂逻辑的战斗 【这个例子跟我之前写程序遇到的一个问题一模一样，同样的range 重叠与否的判断，开始也是从正向去思考，判断怎样才有overlap，最后发现最简单的是判断是否不可能有overlap：起点大于另外一个区域的终点，或者终点小于另外一个区域的起点】\n假设你在实现下⾯这个Range类：\nC\u0026#43;\u0026#43; 折叠 复制 struct Range( int begin; int end; //For example, [0,5) overlaps with [3,8) bool OverlapsWith(Range other); 点击展开查看更多 下面给出一些范围的例子： 请注意终点是⾮包含的。因此A、B和C互相之间不会有重复，但是D与所有其他重复。\n下⾯是对OverlapsWith()实现的⼀个尝试──它检查是否⾃身范围的任意⼀个端点在other的范围之内：\nC\u0026#43;\u0026#43; 折叠 复制 bool Range::OverlapsWith(Range other){ // Check if \u0026#39;begin\u0026#39; or \u0026#39;end\u0026#39; falls inside \u0026#39;other\u0026#39; return (begin \u0026gt;= other.begin \u0026amp;\u0026amp; begin \u0026lt;= other.end) || (end \u0026gt;= other.begin \u0026amp;\u0026amp; end \u0026lt;= other.end); } 点击展开查看更多 这⾥⾯有太多的情况和条件要去考虑，这很容易滋⽣bug。\n说到这⼉，这⾥还真有⼀个bug。前⾯的代码会认为Range［0,2）与Range［2,4）重叠，⽽实际上它们并不重叠。\n这⾥的问题是在⽐较begin/end值时要⼩⼼地使⽤\u0026lt;=或\u0026lt;。下⾯是对这个问题的修正：\nC\u0026#43;\u0026#43; 折叠 复制 return (begin \u0026gt;= other.begin \u0026amp;\u0026amp; begin \u0026lt; other.end) || (end \u0026gt; other.begin \u0026amp;\u0026amp; end \u0026lt;= other.end); 点击展开查看更多 现在已经改正了，是吗？实际上，还有另⼀个bug。这段代码忽略了begin/end完全包含other的情况。 下⾯是处理这种情况的修改：\nC\u0026#43;\u0026#43; 折叠 复制 return (begin \u0026gt;= other.begin \u0026amp;\u0026amp; begin \u0026lt; other.end) || (end\u0026gt;other.begin \u0026amp;\u0026amp; end \u0026lt;= other.end) || (begin \u0026lt;= other.begin \u0026amp;\u0026amp; end \u0026gt;= other.end); 点击展开查看更多 现在代码变得太复杂了。你不可能指望别⼈看了这段代码就对它的正确性有信⼼。那么我们该怎么办？怎么拆分这个⼤的表达式呢？\n找到更优雅的方式 这就是那种你该停下来从整体上考虑不同⽅式的时机之⼀。开始还很简单的问题（检查两个范围是否重叠）变得⾮常令⼈费解。这通常预示着肯定有⼀种更简单的⽅法。\n但是找到更优雅的⽅式需要创造⼒。那么怎么做呢？⼀种技术是看看能否从“反⽅向”解决问题。根据你所处的不同情形，这可能意味着反向遍历数组，或者往回填充数据结构⽽⾮向前。\n在这⾥，OverlapsWith()的反⽅向是“不重叠”。判断两个范围是否不重叠原来更筒单，因为只有两种可能：\n另⼀个范围在这个范围开始前结束。 另⼀个范围在这个范围结束后开始。 我们可以很容易地把它变成代码：\nC\u0026#43;\u0026#43; 折叠 复制 bool Range::Overlapswith(Range other) { if (other.end \u0026lt;= begin) return false; // They end before we begin if (other.begin \u0026gt;= end) return false; // They begin after we end return true; // Only possibility left: they overlap } 点击展开查看更多 这⾥的每⼀⾏代码都要简单得多——每⾏只有⼀个⽐较。这就使得读者留有⾜够的⼼⼒来关注\u0026lt;=是否正确。\n拆分巨⼤的语句 本章是关于拆分独⽴的表达式的，但同样的技术也可以⽤来拆分⼤的语句。\n【假如语句里面有很多重复的部分，可以将其提取出来做一个总结变量以简化代码】\n另一个简化表达式的创意方法 【在C++中使用宏来简化重复的表达式】\n总结 很难思考巨⼤的表达式。本章给出了⼏种拆分表达式的⽅法，以便读者可以⼀段⼀段地消化。 ⼀个简单的技术是引⼈“解释变量”来代表较⻓的⼦表达式。这种⽅式有三个好处：\n它把巨⼤的表达式拆成⼩段。 它通过⽤简单的名字描述⼦表达式来让代码⽂档化。 它帮助读者识别代码中的主要概念。 另⼀个技术是⽤德摩根定理来操作逻辑表达式──整洁的⽅式重写，例如if（!(a \u0026amp;\u0026amp; !b））变成if（!a || b）。\n本章给出了⼀个，把⼀个复杂的逻辑条件拆分成⼩的语句的例⼦，就像\u0026quot;if（a \u0026lt; b）...\u0026quot;。实际上，在本章所有改进过的示例代码中，所有的if语句内都没有超过两个值。这是理想情况,可能不是总能做到这样——有时需要把问题“反向”或者考虑⽬标的对⽴⾯。\n最后，尽管本章是关于拆分独⽴的表达式的，同样，这些技术也常应⽤于⼤的代码块。所以，你可以在任何⻅到复杂逻辑的地⽅⼤胆地去拆分它们。\n第9章 变量与可读性 在本章里，你会看到对于变量的草率运用如何让程序更难理解。确切地说，我们会讨论三个问题：\n变量越多，就越难全部跟踪它们的动向。 变量的作用域越大，就需要跟踪它的动向越久。 变量改变得越频繁，就越难以跟踪它的当前值。 减少变量 没有价值的临时变量 在下面的一小段 Python 代码中，考虑 now 这个变量：\nPYTHON 折叠 复制 now = datetime.datetime.now () root_message.last_view_time = now 点击展开查看更多 now 是一个值得保留的变量吗？不是，下面是原因：\n它没有拆分任何复杂的表达式。 它没有做更多的澄清 —— 表达式 datetime.datetime.now () 已经很清楚了。 它只用过一次，因此它并没有压缩任何冗余代码。 没有了 now，代码一样容易理解。\nroot_message.last_view_time = datetime.datetime.now () 减少中间结果 下面的例子是一个 JavaScript 函数，用来从数组中删除一个值：\nJAVASCRIPT 折叠 复制 var remove_one = function (array, value_to_remove) { var index_to_remove = null; for (var i = 0; i \u0026lt; array.length; i += 1) { if (array[i] === value_to_remove) { index_to_remove = i; break; } } if (index_to_remove !== null) { array.splice(index_to_remove, 1); } }; 点击展开查看更多 变量 index_to_remove 只是用来保存临时结果。有时这种变量可以通过得到后立即处理它而消除。\nJAVASCRIPT 折叠 复制 var remove_one = function (array, value_to_remove) { for (var i = 0; i \u0026lt; array.length; i += 1) { if (array[i] === value_to_remove) { array.splice(i, 1); return; } } }; 点击展开查看更多 通过让代码提前返回，我们不再需要 index_to_remove，并且大幅简化了代码。\n通常来讲，“速战速决” 是一个好的策略。\n减少控制流变量 有些时候你会在代码的循环中见到如下模式：\nJAVASCRIPT 折叠 复制 boolean done = false; while (/* condition */ \u0026amp;\u0026amp; !done) { ... if (...) { done = true; continue; } } 点击展开查看更多 甚至可以在循环里多处把变量 done 设置为 true。\n这样的代码通常是为了满足某些心照不宣的规则，即你不该从循环中间跳出去。根本就没有这样的规则！\n像 done 这样的变量，称为 “控制流变量”。它们唯一的目的就是控制程序的执行 —— 它们没有包含任何程序的数据。在我们的经验中，控制流变量通常可以通过更好地运用结构化编程而消除。\nJAVASCRIPT 折叠 复制 while (/* condition */) { ... if (...) { break; } } 点击展开查看更多 这个例子改起来很简单，但是如果有多个嵌套循环，一个简单的 break 根本不够怎办呢？在这种更复杂的情况下，解决方案通常包括把代码挪到一个新函数中（要么是循环中的代码，要么是整个循环）。\n你希望你的同事随时都觉得是在面试吗？ 来自微软的 Eric Brechner 曾说过一个好的面试问题起码要涉及三个变量。\n可能是因为同时处理三个变量会强迫你努力思考！这对于面试来讲还说得过去，因为你要尝试找到候选人的极限。但是你希望你的同事在读你的代码时感觉就像你在面试他们吗？\n缩小变量的作用域 我们都听过“避免全局变量”这条建议。这是一条好的建议，因为很难跟踪这些全局变量在哪里以及如何使用它们。并且通过“命名空间污染”（名字太多容易与局部变量冲突），代码可能会意外地改变全局变量的值，虽然本来的目的是使用局部变量，或者反过来也有同样的效果。\n实际上，让所有的变量都“缩小作用域”是一个好主意，并非只是针对全局变量。\n关键思想 让你的变量对尽量少的代码行可见。\n很多编程语言提供了多重作用域/访问级别，包括模块、类、函数以及语句块作用域。通常越严格的访问控制越好，因为这意味着该变量对更少的代码行“可见”。 为什么要这么做？因为这样有效地减少了读者同时需要考虑的变量个数。如果你能把所有的变量作用域都减半，那么这就意味着同时需要思考的变量个数平均来讲是原来的一半。\n另一个对类成员访问进行约束的方法是“尽量使方法变成静态的”。静态方法是让读者知道“这几行代码与那些变量无关”的好办法。\n或者还有一种方式是“把大的类拆分成小一些的类”。这种方法只有在这些小一些的类事实上相互独立时才能发挥作用。如果你只是创建两个类来互相访问对方的成员，那你什么目的也没达到。\n把大文件拆分成小文件，或者把大函数拆分成小函数也是同样的道理。这么做的一个重要的动机就是数据（即变量）分离。\n但是不同的语言有不同的管理作用域的规则。\n把定义下移 原来的C语言要求把所有的变量定义放在函数或语句块的顶端。这个要求很令人遗憾，因为对于有很多变量的函数，它强迫读者马上思考所有这些变量，即使是要到很久之后才会用到它们。（C99和C++去掉了这个要求。）\n因为读者在读到后面之前不需要知道所有变量，所以可以简单地把每个定义移到对它的使用之前。\n只写一次的变量更好 不断变化的变量更难让人理解。跟踪这种变量的值更有难度。\n要解决这种问题，我们有一个听起来怪怪的建议：只写一次的变量更好。\n“永久固定” 的变量更容易思考。当前，像这种常量：\nC\u0026#43;\u0026#43; 折叠 复制 static const int NUM_THREADS = 10; 点击展开查看更多 不需要读者思考很多。基于同样的原因，鼓励在 C++ 中使用 const（在 Java 中使用 final）。\n但是就算你不能让变量只写一次，让变量在较少的地方改动仍有帮助。\n关键思想 操作一个变量的地方越多，越难确定它的当前值。\n那么怎么做呢？能把一个变量改成只写一次吗？很多时间这需要修改代码的结构，就像你将在下面的例子中所见到的那样。\n最后的例子 作为本章最后一个例子，我们要给出一个能演示目前为止我们所讨论过的多条原则的例子。\n假设你有一个网页，上面有几个文本输入字段，布置如下：\nHTML 折叠 复制 \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;input1\u0026#34; value=\u0026#34;Dustin\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;input2\u0026#34; value=\u0026#34;Trevor\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;input3\u0026#34; value=\u0026#34;\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;input4\u0026#34; value=\u0026#34;Melissa\u0026#34;\u0026gt; ... 点击展开查看更多 如你所见，id 从 input1 开始增加。\n你的工作是写一个叫 setFirstEmptyInput () 的函数，它接受一个字符串并把它放在页面上第一个空的\u0026lt;input\u0026gt;字段中（在给出的示例中是 \u0026ldquo;input3\u0026quot;）。这个函数应当返回已更新的那个 DOM 元素（如果没有剩下任何空字段则返回 null）。下面是完成这项工作的代码，它没有遵守本章中的原则：\nJAVASCRIPT 折叠 复制 var setFirstEmptyInput = function (new_value) { var found = false; var i = 1; var elem = document.getElementById(\u0026#39;input\u0026#39; + i); while (elem !== null) { if (elem.value === \u0026#39;\u0026#39;) { found = true; break; } i++; elem = document.getElementById(\u0026#39;input\u0026#39; + i); } if (found) elem.value = new_value; return elem; }; 点击展开查看更多 这段代码可以完成工作，但看上去并不完美。什么地方不对？如何改进？\n有很多途径可以用来思考对这段代码的改进，但我们会从它所使用的变量这个角度开始考虑：\nvar found var i var elem 所有三个变量都存在于整个函数中，并且写入了多次。让我们来尝试改进它们中的每一个。\n如我们在本章前面讨论过的，中间变量（如 found）通常可以通过提前返回来消除。下面是这一点改进：\nJAVASCRIPT 折叠 复制 var setFirstEmptyInput = function (new_value) { var i = 1; var elem = document.getElementById(\u0026#39;input\u0026#39; + i); while (elem !== null) { if (elem.value === \u0026#39;\u0026#39;) { elem.value = new_value; return elem; } i++; elem = document.getElementById(\u0026#39;input\u0026#39; + i); } return null; }; 点击展开查看更多 接下来，看一下 elem。它在整个代码中以循环的方式多次用到，这让我们很难跟踪它的值。这段代码让我们觉得 elem 就是在迭代的值，实际上只是在累加 i。所以把 while 循环重写成对 i 的 for 循环。\nJAVASCRIPT 折叠 复制 var setFirstEmptyInput = function (new_value) { for (var i = 1; true; i++) { var elem = document.getElementById(\u0026#39;input\u0026#39; + i); if (elem === null) return null; // Search Failed. No empty input found. if (elem.value === \u0026#39;\u0026#39;) { elem.value = new_value; return elem; } } }; 点击展开查看更多 特别地，请注意 elem 是如何成为一个只写一次的变量的，它的生命周期只在循环内。用 true 来作为 for 循环的条件并不多见，但作为交换，我们可以在同一行里看到 i 的定义与修改。（传统的 while (true) 也是个合理的选择。）\n总结 本章是关于程序中的变量是如何快速累积而变得难以跟踪的。你可以通过减少变量的数量和让它们尽量“轻量级”来让代码更有可读性。具体有：\n减少变量，即那些妨碍的变量。我们给出了几个例子来演示如何通过立刻处理结果来消除“中间结果”变量。 减小每个变量的作用域，越小越好。把变量移到一个有最少代码可以看到它的地方。眼不见，心不烦。 只写一次的变量更好。那些只设置一次值的变量（或者const、final、常量）使得代码更容易理解。 第三部分 重新组织代码 第二部分讨论了如何改变程序的“循环与逻辑”来让代码更有可读性。我们描述了几种技巧，这些技巧都需要对代码结构做出微小的改动。\n本部分会讨论可以在函数级别对代码做的更大的改动。具体来讲，我们会讲到三种组织代码的方法：\n抽取出那些与程序主要目的“不相关的子问题”。 重新组织代码使它一次只做一件事情。 先用自然语言描述代码，然后用这个描述来帮助你找到更整洁的解决方案。 最后，我们会讨论你可以把代码完全移除或者一开始就避免写它的那些情况——唯一可称为改进代码可读性的最佳方法。\n第10章 抽取不相关的子问题 所谓工程学就是关于把大问题拆分成小问题再把这些问题的解决方案放回一起。把这条原则应用于代码会使代码更健壮并且更容易读。\n本章的建议是 “积极地发现并抽取出不相关的子逻辑”。我们是指：\n看看某个函数或代码块，问问你自己：这段代码高层次的目标是什么？ 对于每一行代码，问一下：它是直接为了目标而工作吗？这段代码高层次的目标是什么呢？ 如果足够的行数在解决不相关的子问题，抽取代码到独立的函数中。 你每天可能都会把代码抽取到单独的函数中。但在本章中，我们决定关注抽取的一个特别情形：不相关的子问题，在这种情形下抽取出的函数无忧无虑，并不关心为什么会调用它。\n你将会看到，这是个简单的技巧却可以从根本上改进你的代码。然而由于某些原因，很多程序员没有充分使用这一技巧。这里的诀窍就是主动地寻找那些不相关的子问题。\n介绍性的例子：findClosestLocation() 【将一个大的函数中相对独立的一部分拆出来，单独作为一个函数】这段代码的可读性好得多，因为读者可以关注于高层次目标，而不必因为复杂的几何公式分心。\n作为额外的奖励，spherical_distance()很容易单独做测试。并且spherical_distance()是那种在以后可以重用的函数。这就是为什么它是一个“不相关”的子问题——它完全是自包含的，不知道其他程序是如何使用它的。\n纯工具代码 【自己将常用的但是标准函数库里面没有的功能写成一些工具箱函数备用】\n通常来讲，如果你在想：“我希望我们的库里有XYZ()函数”，那么就写一个！（如果它还不存在的话）经过一段时间，你会建立起一组不错的工具代码，后者可以应用于多个项目。\n创建大量通用代码 ReadFileToString() 和 format_pretty() 这两个函数是不相关子问题的好例子。它们是如此基本而广泛适用，所以很可能会在多个项目中重用。代码库常常有个专门的目录来存放这种代码（例如 util），这样它们就很方便重用。\n通用代码很好，因为 “它完全地从项目的其他部分中解耦出来”。像这样的代码容易开发，容易测试，并且容易理解。想象一下如果你所有的代码都如此会怎样！\n想一想你使用的众多强大的库和系统，如 SQL 数据库、JavaScript 库和 HTML 模板系统。你不用操心它们的内部 —— 那些代码与你的项目完全分离。其结果是，你项目的代码库仍然较小。\n从你的项目中拆分出越多的独立库越多越好，因为你代码的其他部分会更小而且更容易思考。\n这是自顶向下或者自底向上式编程吗？ 自顶向下编程是一种风格，先设计高层次模块和函数，然后根据支持它们的需要来实现低层次函数。\n自底向上编程尝试首先预料和解决所有的子问题，然后用这些代码段来建立更高层次的组件。\n本章并不鼓吹一种方法比另一种好。大多数编程都包括了两者的组合。重要的是最终的结果：移除并单独解决子问题。\n项目专有功能 在理想情况下，你所抽取出的子问题对项目一无所知。但是就算它们不是这样，也没有问题。分离子问题仍然可能创造奇迹。\n简化已有接口 人人都爱提供整洁接口的库 —— 那种参数少，不需要很多设置并且通常只需要花一点工夫就可以使用的库。它让你的代码看起来优雅：简单而又强大。\n但如果你所用的接口并不整洁，你还是可以创建自己整洁的 “包装” 函数。\n【自己设计接口，要直观、简洁，符合人的本能思维逻辑，不需要动脑子就能一目了然】\n按需重塑接口 程序中很多代码在那里只是为了支持其他代码 —— 例如，为函数设置输入或者对输出做后期处理。这些 “粘附” 代码常常和程序的实际逻辑没有任何关系。这种传统的代码是抽取到独立函数的最好机会。\n过犹不及 像我们在本章的开头所说的那样，我们的目标是“积极地发现和抽取不相关的子问题”。我们说“积极地”是因为大多数程序员不够积极。但也可能会过于积极，导致过犹不及。\n为代码增加一个函数存在一个小的（却有形的）可读性代价。在前面的情况里，付出这种代价却什么也没有得到。如果你项目的其他部分也需要这些小函数，那么增加它们是有道理的。但是目前为止，还没有这个需要。\n总结 对本章一个简单的总结就是“把一般代码和项目专有的代码分开”。其结果是，大部分代码都是一般代码。通过建立一大组库和辅助函数来解决一般问题，剩下的只是让你的程序与众不同的核心部分。\n这个技巧有帮助的原因是它使程序员关注小而定义良好的问题，这些问题已经同项目的其他部分脱离。其结果是，对于这些子问题的解决方案倾向于更加完整和正确。你也可以在以后重用它们。\n阅读参考 Martin Fowler，《Refactoring: Improving the Design of Existing code》（Fowler etal., Addison-Wesley Professional,1999）描述了重构的“抽取方法”，而且列举了很多其他重构代码的方法。 Kent Beck，《Smalltalk Best Practice Patterns》（Prentice Hall,1996）描述了“组合方法模式”，其中列出了几条把代码拆分成得多小函数的原则。尤其是其中的一条原则“把一个方法中的所有操作保持在一个抽象层次上”。 这些思想和我们的建议“抽取不相关的子问题”相似。本章所讨论的是抽取方法中的一个简单而又特定的情况。\n第11章 一次只做一件事 同时在做几件事的代码很难理解。\n关键思想 应该把代码组织得一次只做一件事情。\n你也许听说过这个建议：“一个函数只应当做一件事”。我们的建议和这差不多，但不是关于函数边界的。当然，把一个大函数拆分成多个小一些的函数是好的。但是就算你不这样做，你仍然可以在函数内部组织代码，使得它感觉像是有分开的逻辑段。 【不一定机械地按照“一个函数只应做一件事”来操作，根据实际情况，一个函数做多件事情，但是把函数内部的代码逻辑组织好，易于理解，也是可以的。】\n下面是用于使代码 “一次只做一件事” 所用到的流程：\n列出代码所做的所有 “任务”。这里的 “任务” 没有很严格的定义 —— 它可以小得如 “确保这个对象有效”，或者含糊得如 “遍历树中所有结点”。 尽量把这件任务拆分到不同的函数中，或者至少是代码中不同的段落中。 总结 本章给出了一个组织代码的简单技巧：一次只做一件事情。\n如果你有很难读的代码，尝试把它所做的所有任务列出来。其中一些任务可以很容易地变成单独的函数（或类）。其他的可以简单地成为一个函数中的逻辑 “段落”。具体如何拆分这些任务没有它们已经分开这个事实那样重要。难的是要准确地描述你的程序所做的所有这些小事情。\n第12章 把想法变成代码 如果你不能把一件事解释给你祖母听的话说明你还没有真正理解它。\n阿尔伯特・爱因斯坦 当把一件复杂的事向别人解释时，那些小细节很容易就会让他们迷惑。把一个想法用 “自然语言” 解释是个很有价值的能力，因为这样其他知识没有你这么渊博的人才可以理解它。这需要把一个想法精炼成最重要的概念。这样做不仅帮助他人理解，而且也帮助你自己把这个想法想得更清晰。\n在你把代码 “展示” 给读者时也应使用同样的技巧。我们接受代码是你解释程序所做事情的主要手段这一观点。所以代码应当用 “自然语言” 编写。\n在本章中，我们会用一个简单的过程来使你编写更清晰的代码：\n像对着一个同事一样用自然语言描述代码要做什么。 注意描述中所用的关键词和短语。 写出与描述所匹配的代码。 清楚地描述逻辑 【用自己的语言描述要写的程序的逻辑的时候，有助于将思路理清】\n了解函数库是有用的 【使用合适的官方的函数库的函数会让代码更简洁】\n把这个方法应用于更大的问题 【完整地copy了这个例子，值得一步步跟着思考和练习】\n前一个例子把过程应用于小块代码。在下一个例子中，我们会把它应用于更大的函数。你会看到，这个方法可以帮助你识别哪个片段可以分离，从而让你可以拆分代码。\n假设我们有一个记录股票采购的系统。每笔交易都有 4 块数据：\ntime（一个精确的购买日期和时间） ticker_symbol（公司简称，如：GOOG） price（价格，如：$600） number_of_shares（股票数量，如：100） 由于一些奇怪的原因，这些数据分布在三个分开的数据库表中，在每个数据库中，time 是唯一的主键。\n![[Pasted image 20251113171453.png]]\n现在，我们要写一个程序来把三个表联合在一起（就像在 SQL 中的 JOIN 操作所做的那样）。这个步骤应该是简单的，因为这些行都是按 time 来排序的，但是有些行缺失了。你希望找到这 3 个 time 匹配的所有行，忽略任何不匹配的行。\n下面是一段 Python 代码，用来找到所有的匹配行：\nPYTHON 折叠 复制 def PrintStockTransactions(): stock_iter = db_read(\u0026#34;SELECT time, ticker_symbol FROM ...\u0026#34;) price_iter = ... num_shares_iter = ... # Iterate through all the rows of the 3 tables in parallel. while stock_iter and price_iter and num_shares_iter: stock_time = stock_iter.time price_time = price_iter.time num_shares_time = num_shares_iter.time # If all 3 rows don\u0026#39;t have the same time, skip over the oldest row # Note: the \u0026#34;\u0026lt;=\u0026#34; below can\u0026#39;t just be \u0026#34;\u0026lt;\u0026#34; in case there are 2 tied-oldest. if stock_time != price_time or stock_time != num_shares_time: if stock_time \u0026lt;= price_time and stock_time \u0026lt;= num_shares_time: stock_iter.NextRow() elif price_time \u0026lt;= stock_time and price_time \u0026lt;= num_shares_time: price_iter.NextRow() elif num_shares_time \u0026lt;= stock_time and num_shares_time \u0026lt;= price_time: num_shares_iter.NextRow() else: assert False # impossible continue assert stock_time == price_time == num_shares_time # Print the aligned rows. print \u0026#34;@\u0026#34;, stock_time, print stock_iter.ticker_symbol, print price_iter.price, print num_shares_iter.number_of_shares stock_iter.NextRow() price_iter.NextRow() num_shares_iter.NextRow() 点击展开查看更多 这个例子中的代码能运行，但是在循环中为了跳过不匹配的行做了很多事情。你的脑海中也许闪过了一些警告：“这么做不会丢失一些行吗？它的迭代器会不会越过数据流的结尾”？\n那么如何来把它变得更可读呢？\n用自然语言描述解决方案 再一次，让我们退一步来用自然语言描述我们要做的事情：\n我们并行地读取三个行迭代器。 只要这些行不匹配，向前找直到它们匹配。 然后输出匹配的行，再继续向前。 一直做直到没有匹配的行。 回头看看原来的代码，最乱的部分就是处理 “向前找直到它们匹配” 的语句块。为了让代码表现得更清楚，我们可以把所有这些乱糟糟的逻辑抽取到名叫 AdvanceToMatchingTime() 的新函数中。\n下面是代码的新版本，它使用了新的函数：\nPYTHON 折叠 复制 def PrintStockTransactions(): stock_iter = ... price_iter = ... num_shares_iter = ... while True: time = AdvanceToMatchingTime(stock_iter, price_iter, num_shares_iter) if time is None: return # Print the aligned rows. print \u0026#34;@\u0026#34;, time, print stock_iter.ticker_symbol, print price_iter.price, print num_shares_iter.number_of_shares stock_iter.NextRow() price_iter.NextRow() num_shares_iter.NextRow() 点击展开查看更多 如你所见，这段代码容易理解得多，因为我们隐藏了所有行对齐的混乱细节。\n递归地使用这种方法 很容易想象你将如何编写 AdvanceToMatchingTime()—— 最坏的情况就是它看上去和第一个版本中难看的代码块很像：\nPYTHON 折叠 复制 def AdvanceToMatchingTime(stock_iter, price_iter, num_shares_iter): # Iterate through all the rows of the 3 tables in parallel. while stock_iter and price_iter and num_shares_iter: stock_time = stock_iter.time price_time = price_iter.time num_shares_time = num_shares_iter.time # If all 3 rows don\u0026#39;t have the same time, skip over the oldest row if stock_time != price_time or stock_time != num_shares_time: if stock_time \u0026lt;= price_time and stock_time \u0026lt;= num_shares_time: stock_iter.NextRow() elif price_time \u0026lt;= stock_time and price_time \u0026lt;= num_shares_time: price_iter.NextRow() elif num_shares_time \u0026lt;= stock_time and num_shares_time \u0026lt;= price_time: num_shares_iter.NextRow() else: assert False # impossible continue assert stock_time == price_time == num_shares_time return stock_time 点击展开查看更多 但是让我们把我们的方法同样应用于 AdvanceToMatchingTime () 来改进这段代码。下面是对于这个函数所要做的事情的描述：\n看一下每个当前行：如果它们匹配，那么就完成了。 否则，向前移动任何 \u0026ldquo;落后\u0026rdquo; 的行。 一直这样做直到所有行匹配（或者其中一个迭代器结束） 这个描述清晰得多，并且比以前的代码更优雅。一件值得注意的事情是描述从未提及 stock_iter 或者其他解决问题的细节。这意味着我们可以同时把变量重命名得更简单，更通用。下面是这样做后得到的代码：\nPYTHON 折叠 复制 def AdvanceToMatchingTime(row_iter1, row_iter2, row_iter3): while row_iter1 and row_iter2 and row_iter3: t1 = row_iter1.time t2 = row_iter2.time t3 = row_iter3.time if t1 == t2 == t3: return t1 tmax = max(t1, t2, t3) # If any row is \u0026#34;behind,\u0026#34; advance it. # Eventually, this while loop will align them all. if t1 \u0026lt; tmax: row_iter1.NextRow() if t2 \u0026lt; tmax: row_iter2.NextRow() if t3 \u0026lt; tmax: row_iter3.NextRow() return None # no alignment could be found 点击展开查看更多 【最后这个函数非常简洁】 如你所见，这段代码比以前清楚得多。该算法变得更简单，并现在那种微妙的比较更少了。我们用了像 t1 这样的短名字，却不用再考虑那些具体涉及的数据库字段。\n总结 本章讨论了一个简单的技巧，用自然语言描述程序然后用这个描述来帮助你写出更自然的代码。这个技巧出人意料地简单，但很强大。看到你在描述中所用的词和短语还可以帮助你发现哪些子问题可以拆分出来。\n但是这个 “用自然语言说事情” 的过程不仅可以用于写代码。例如，某个大学计算机实验室的规定声称当有学生需要别人帮它调试程序时，他首先要对房间角落的一只专用的泰迪熊解释他遇到的问题。令人惊讶的是，仅仅通过大声把问题描述出来，往往就能帮这个学生找到解决的办法。这个技巧叫做 “橡皮鸭技术”。\n第13章 少写代码 知道什么时候不写代码可能对于一个程序员来讲是他所要学习的最重要的技巧。你所写的每一行代码都是要测试和维护的。通过重用库或者减少功能，你可以节省时间并且让你的代码库保持精简节约。 【代码并不是越多越好，有时候砍掉一些意义不大的功能，会让代码更清晰、皮实】\n关键思想 最好读的代码就是没有代码。\n别费神实现那个功能 —— 你不会需要它 当你开始一个项目，自然会很兴奋并且想着你希望实现的所有很酷的功能。但是程序员倾向于高估有多少功能真的对于他们的项目来讲是必不可少的。很多功能结果没有完成，或者没有用到，也可能只是让程序更复杂。\n程序员还倾向于低估实现一个功能所要花的工夫。我们乐观地估计了实现一个粗糙原型所要花的时间，但是忘记了在将来代码库的维护、文件以及后增的 “重量” 所带来的额外时间。\n质疑和拆分你的需求 不是所有的程序都需要运行得快，100% 准确，并且能处理所有的输入。如果你真的仔细检查你的需求，有时你可以把它削减成一个简单的问题，只需要较少的代码。让我们来看一些例子。\n例子：商店定位器 假设你要给某个生意写个 “商店定位器”。你以为你的需求是： 对于任何给定用户的经度 / 纬度，找到距离该经度 / 纬度最近的商店。\n为了 100% 正确地实现，你要处理：\n当位置处于国际日期分界线两侧的情况。 接近北极或南极的位置。 按 “每英里所跨经度” 不同，处理地球表面的曲度。 处理所有这些情况需要相当多的代码。\n然而，对于你的应用程序来讲，只有在德州的 30 家店。在这么小的范围里，上面列出的三个问题并不重要。结果是，你可以把需求缩减为： 对于德州附近的用户，在德州找到（近似）最近的商店。\n解决这个问题很简单，因为你只要遍历每个商店并计算它们与这个经纬度之间的欧几里得距离就可以了。\n【要大胆地砍掉用不到的功能】\n例子：增加缓存 我们曾有一个 Java 程序，它经常要从磁盘读取对象。这个程序的速度受到了这些读取操作的限制，因此我们希望能实现缓存之类的功能。一个典型的读取序列像是这样：\n读对像 A 读对像 A 读对像 A 读对像 B 读对像 B 读对像 C 读对像 D 读对像 D 如你所见，有很多对同一对象的重复访问，因此缓存绝对会有帮助。\n当面对这样的问题时，我们首先的直觉是使用那种丢掉最近没有使用的条目的缓存。在我们的库中没有这样的缓存，因此我们必须实现一个自己的。这不是问题，因为我们以前实现过这种数据结构（它包含一个哈希表和一个单向链表 —— 一共有大约 100 行代码）。\n然而，我们注意到这种重复访问总是处于一行的。因此不要实现 LRU（最近最少使用）缓存，我们只要实现有一个条目的缓存：\nJAVA 折叠 复制 DiskObject lastUsed; // class member DiskObject lookUp(String key) { if (lastUsed == null || !lastUsed.key().equals(key)) { lastUsed = loadDiskObject(key); } return lastUsed; } 点击展开查看更多 这样我们就用很少的代码得到了 90% 的好处，这段程序所占的内存也很小。\n【用很少的代码得到了 90% 的好处，这样的性价比相当高】\n怎么说 “减少需求” 和 “解决更简单的问题” 的好处都不为过。需求常常以微妙的方式互相影响。这意味着解决一半的问题可能只需要花四分之一的工夫。\n保持小代码库 在你第一次开始一个软件项目，并且只有一两个源文件时，一切都很顺利。编译和运行代码转眼就完成，很容易做改动，并且很容易记住每个函数或类定义在哪里。\n然后，随着项目的增长，你的目录中加进了越来越多的源文件。很快你就需要多个目录来组织它们了。很难再记得哪个函数调用了哪个函数，而且跟踪 bug 也要做更多的工作。\n最后，你就有了很多源代码分布在很多不同的目录中。项目很大，没有一个人自己全部理解它。增加新功能变得很痛苦，而且使用这些代码很费力还令人不快。\n我们所描述的是宇宙的自然法则 —— 随着任何系统的增长，把它粘合在一起所需的复杂度增长得更快。\n最好的解决办法就是 “让你的代码库越小，越轻量级越好”，就算你的项目在增长。那么你就要：\n创建越多越好的 “工具” 代码来减少重复代码（见第 10 章）。 减少无用代码或没有用的功能。 让你的项目保持分开的子项目状态。 总的来说，要小心代码的 “重量”。让它保持又轻又灵。 删除没用的代码 园丁经常修剪植物以让它们活着并且生长。同样地，修剪掉碍事和没用的代码也是个好主意。\n一旦代码写好后，程序员往往不情愿删除它，因为它代表很多实际的工作量。删掉它可能意味着承认在上面所花的时间就是浪费。不要这么想！这是一个有创造性的领域 —— 摄影家、作者和电影制版人也不会保留他们所有的工作。\n删除独立的函数很简单，但有时 “无用代码” 实际上交织在你的项目中，你并不知情。下面是一些例子：\n你一开始把系统设计成能处理多语言文件名，现在代码中到处都充满了转换代码。然而，那段代码不能很好地工作，实现上你的程序也从来没有用到过任何多语言文件名。为什么不删除这个功能呢？ 你希望你的程序在内存耗尽的情况下仍能工作，因此你有很多耍小聪明的逻辑来试着从内存耗尽的情况下恢复。这是个好主意，但在实践中，当系统内存耗尽时，你的程序将变成不稳定的僵尸 —— 所有的核心功能都不可用，再点一下鼠标它就死了。为什么不通过一句简单的提示 “系统内存不足，抱歉” 并删除所有内存不足的代码，终止程序呢？ 熟悉你周边的库 很多时候，程序员就是不知道现有的库可以解决他们的问题。或者有时，他们忘了库可以做什么。知道你的库能做什么以便你可以使用它，这一点很重要。\n这里有一条比较中肯的建议：每隔一段时间，花 15 分钟来阅读标准库中的所有函数 / 模块 / 类型的名字。这包括 C++ 标准模板库（STL）、Java API、Python 内置的模块以及其他内容。\n这样做的目的不是记住整个库。这只是为了了解有什么可以用的，以便下次你写新代码时会想：“等一下，这个听起来和我在 API 中见到的东西有点像……” 我们相信提前做这种准备很快就会得到回报，起码因为你会更倾向于使用库了。\n为什么重用库有这么大的好处 【标准库里面的代码质量高，更可靠，一般来讲也更高效】\n总结 冒险、兴奋 —— 绝地武士追求的并不是这些。\n—— 尤达大师 本章是关于写越少代码越好的。每行新的代码都需要测试、写文档和维护。另外，代码库中的代码越多，它就越 “重”，而且在其上开发就越难。\n你可以通过以下方法避免编写新代码：\n从项目中消除不必要的功能，不要过度设计。 重新考虑需求，解决版本最简单的问题，只要能完成工作就行。 经常性地通读标准库的整个 API，保持对它们的熟悉程度。 第四部分 精选话题 本书前三部分覆盖了使代码简单易读的各种技巧。在该部分中，我们会把这些技术应用在两个精选出的话题中。\n首先，我们会讨论测试 —— 如何同时写出有效而又可读的测试。\n然后，我们会历经一个设计和实现专门设计的数据结构的过程（一个 “分钟 / 小时计数器”），这将是一个性能与好的设计以及可读性互动的例子。\n第14章 测试与可读性 在本章中，我们会揭示一些写出整洁并且有效测试的简单技巧。\n使测试易于阅读和维护 测试代码的可读性和非测试代码是同样重要的。其他程序员会经常来把测试代码看做非正式的文档，它记录了真实代码如何工作和应该如何使用。因此如果测试很容易阅读，使用者对于真实代码的行为会有更好的理解。\n关键思想 测试应当具有可读性，以便其他程序员可以舒服地改变或者增加测试。\n当测试代码多得让人望而止步，会发生下面的事情：\n程序员会不敢修改真实代码。“啊，我们不想纠结于那段代码，更新它的那些测试将会是个噩梦！” 当增加新代码时，程序员不会再增加新的测试。一段时间后，测试的模块越来越少，你不再对它有信心。 相反，你希望鼓励你代码的使用者（尤其是你自己！）习惯于测试代码。他们应该能在新改动破坏已有测试时做出分析，并且应该感觉增加新测试很容易。\n【很多生物学信息人员都不喜欢写测试，或者不善于写测试】\n使这个测试更可读 作为一条普遍的测试原则，你应当 “对使用者隐去不重要的细节，以便更重要的细节会更突出”。\n创建最小的测试声明 【前面出现的测试代理省略，及时省略也可以理解本段的思想】\n要改进这段测试代码，让我们使用从第 12 章学来的技巧。让我们用自然语言来描述我们的测试要做什么：\n我们有一个文档列表，它们的分数为 [-5, 1, 4, -99998.7, 3]。 在 SortAndFilterDocs () 之后，剩下的文档应当有的分数是 [4, 3, 1]，而且顺序也是这样。 如你所见，在描述中没有在任何地方提及 vector\u0026lt;ScoredDocument\u0026gt;。这里最重要的是分数数组。理想的情况下，测试代码应该看起来这样：\nCPP 折叠 复制 CheckScoresBeforeAfter(\u0026#34;-5, 1, 4, -99998.7, 3\u0026#34;, \u0026#34;4, 3, 1\u0026#34;); 点击展开查看更多 我们可以把这个测试的基本内容精练成一行代码！\n然而这没什么大惊小怪的。大多数测试的基本内容都能精练成 “对于这样的输入 / 情形，期望有这样的行为 / 输出”。并且很多时候这个目的可以用一行代码来表达。这除了让代码紧凑而又易读，让测试的表述保持很短还会让增加测试变得很简单。\n实现定制的 “微语言” 【类似于写一些辅助函数来简化代码】\n让错误消息具有可读性 【错误消息应该有信息量，易懂，且容易帮助读者查找和解决问题】\n更好版本的assert() 手工打造错误消息 选择好的测试输入 有一门为测试选择好的输入的艺术。好的输入应能彻底测试代码，同时简单易读。\n关键思想 基本原则是，你应当选择一组最简单的输入，它能完整地使用被测代码。\n例如，测试CheckScoresBeforeAfter(\u0026quot;1, 2, 3\u0026quot;, \u0026quot;3, 2, 1\u0026quot;);虽简单，却未测试 “过滤掉负的分数” 的行为；而输入CheckScoresBeforeAfter(\u0026quot;123014, -1082342, 823423, 234205, -235235\u0026quot;, \u0026quot;823423, 234205, 123014\u0026quot;);又复杂得没必要。\n简化输入值 对测试CheckScoresBeforeAfter(\u0026quot;-5, 1, 4, -99998.7, 3\u0026quot;, \u0026quot;4, 3, 1\u0026quot;);，可简化输入：\n极端负值-99998.7可替换为-1（若需强调 “非常负”，用-1e100更明确）。 其他值简化为简单整数，且仅保留一个负数测试过滤逻辑。 简化后测试为：\nCPP 折叠 复制 CheckScoresBeforeAfter(\u0026#34;1, 2, -1, 3\u0026#34;, \u0026#34;3, 2, 1\u0026#34;); 点击展开查看更多 这样既简化了值，又未降低测试效果。\n关键思想 又简单又能完成工作的测试值更好。\n大型 “破坏性” 测试 对大的、不切实际的输入进行测试有价值，可发现缓冲区溢出等 bug。但直接写大型输入代码既吓人又低效，更有效的方式是用编程方法生成大型输入（如生成 100 000 个值）。\n一个功能的多个测试 与其建立单个 “完美” 输入，不如写多个小测试，后者往往更容易、更有效且更具可读性。\n每个测试应推动代码朝特定方向，尝试发现某种 bug。例如对SortAndFilterDocs()的 4 个测试：\nCPP 折叠 复制 CheckScoresBeforeAfter(\u0026#34;2, 1, 3\u0026#34;, \u0026#34;3, 2, 1\u0026#34;); // Basic sorting CheckScoresBeforeAfter(\u0026#34;0, -0.1, -10\u0026#34;, \u0026#34;0\u0026#34;); // All values \u0026lt; 0 removed CheckScoresBeforeAfter(\u0026#34;1, -2, 1, -2\u0026#34;, \u0026#34;1, 1\u0026#34;); // Duplicates not a problem CheckScoresBeforeAfter(\u0026#34;\u0026#34;, \u0026#34;\u0026#34;); // Empty input OK 点击展开查看更多 【分开的测试用例可让后续维护者更轻松，若引入 bug，失败的测试会指向具体用例。】 如果要非常地彻底，还可以写更多的测试。有分开的测试用例还可以使下一个负责代码相关工作的人更轻松。如果有人不小心引入了一个 bug，测试的失败会指向那个具体的失败测试用例。\n为测试函数命名 为测试函数选择一个好名字可能看上去很无聊而且也无关紧要，但是不要因此而诉诸没有意义的名字，像是 Test1 ()、Test2 () 这样。\n反而，你应当用这个名字来描述这个测试的细节。如果读测试代码的人可以很快搞明白这些的话，这一点尤其便利：\n被测试的类（如果有的话） 被测试的函数 被测试的情形或 bug 一种构造好的测试函数名的简单方式是把这些信息拼接在一起，可能再加上一个 “Test_” 前缀。\n例如，不要用 Test1 () 这个名字，可以用 Test_\u0026lt;FuncitonName\u0026gt;() 这样的格式：\nCPP 折叠 复制 void Test_SortAndFilterDocs() { ... } 点击展开查看更多 依照测试的精细程度不同，你可能会考虑为测试的每种情形写一个单独的测试函数。可以使用 Test_\u0026lt;FunctionName\u0026gt;_\u0026lt;Situation\u0026gt;() 这样的格式：\nCPP 折叠 复制 void Test_SortAndFilterDocs_BasicSorting() { ... } void Test_SortAndFilterDocs_NegativeValues() { ... } ... 点击展开查看更多 这里不要怕名字太长或者太繁琐。在你的整个代码库中不会调用这个函数，因此那此要避免使用长函数名的理由在这里并不适用。测试函数的名字的作用就像是注释。并且，如果测试失败了，大部分测试框架会输出其中断言失败的那个函数的名字，因此一个具有描述性的名字尤其有帮助。\n请注意如果你在使用一个测试框架，可能它已经有方法命名的规则和规范了。例如，在 Python 的 unittest 模块中它需要测试方法的名字以 “test” 开头。\n当为测试代码的辅助函数命名时，标明这个函数是否自身有任何断言或者只是一个普通的 “对测试一无所知” 的辅助函数。例如，在本章中，所有调用了 assert () 的辅助数都命名成 Check\u0026hellip;()。但是函数 AddScoredDoc () 就只是像普通辅助函数一样命名。\n那个测试有什么地方不对 在本章的开头，我们声称在这个测试中至少有 8 个地方不对：\nCPP 折叠 复制 void Test1() { vector\u0026lt;ScoredDocument\u0026gt; docs; docs.resize(5); docs[0].url = \u0026#34;http://example.com\u0026#34;; docs[0].score = -5.0; docs[1].url = \u0026#34;http://example.com\u0026#34;; docs[1].score = 1; docs[2].url = \u0026#34;http://example.com\u0026#34;; docs[2].score = 4; docs[3].url = \u0026#34;http://example.com\u0026#34;; docs[3].score = -99998.7; docs[4].url = \u0026#34;http://example.com\u0026#34;; docs[4].score = 3.0; SortAndFilterDocs(docs); assert(docs.size() == 3); assert(docs[0].score == 4); assert(docs[1].score == 3.0); assert(docs[2].score == 1); } 点击展开查看更多 现在我们已经学到了一些编写更好测试的技巧，让我们来找出它们：\n这个测试很长，并且充满了不重要的细节，你可以用一句话来描述这个测试所做的事情，因此这条测试的语句不应该太长。 增加新测试不会很容易。你会倾向于拷贝 / 粘贴 / 修改，这样做会让代码更长而且充满重复。 测试失败的消息不是很有帮助。如果测试失败的话，它只是说 Assertion failed: docs.size () == 3，这并没有为进一步调试提供足够的信息。 这个测试想要同时测试完所有东西。它想要既测试对负数的过滤又测试排序的功能。把它们拆分成多个测试会更可读。 这个测试的输入不是很简单。尤其是，样本分数 -99998.7 很 “嚣张”，尽管它是什么值并不重要但是它会引起你的注意。一个简单的负数值就足够了。 测试的输入没有彻底地执行代码。例如，它没有测试到当分数为 0 时的情况。（这种文档会过滤掉吗？） 它没有测试其他极端的输入，例如空的输入向量、很长的向量，或者有重复分数的情况。 测试的名字 Test1() 没有意义 —— 名字应当能描述被测试的函数或情形。 对测试较好的开发方式 有些代码比其他代码更容易测试。对于测试来讲理想的代码要有明确定义的接口，没有过多的状态或者其他的 “设置”，并且没有很多需要审查的隐藏数据。\n如果你写代码的时候就知道以后你要为它为写测试的话，会发生有趣的事情：你开始把代码设计得容易测试！幸运的是，这样的编程方式一般来讲也意味着会产生更好的代码。对测试友好的设计往往很自然地会产生有良好组织的代码，其中不同的部分做不同的事情。\n测试驱动开发 测试驱动开发（TDD）是一种编程风格，你在写真实代码之前就写出测试。TDD 的支持者相信这种流程对没有测试的代码来讲会做出极大的质量改进，比写出代码之后再写测试要大得多。\n这是一个争论很激烈的话题，我们不想搅进来。至少，我们发现仅通过在写代码时想着测试这件事就能帮助把代码写得更好。\n但不论你是否使用 TDD，其结果总是你用代码来测试另一些代码。本章旨在帮助你把测试做得既易读又易写。\n在所有的把一个程序拆分成类和方法的途径中，解耦合最好的那一个往往就是最容易测试的那个。另一方面，假设你的程序内部联系很强，在类与类之间有很多方法的调用，并且所有的方法都有很多参数。不仅这个程序会有难以理解的代码，而且测试代码也会很难看，并且既难读又难写。\n有很多 “外部” 组件（需要初始化的全局变量、需要加载的库或者配置文件等）对写测试来讲也是很讨厌的。\n一般来讲，如果你在设计代码时发现：“嗯，这对测试来讲会是个噩梦”，这是个好理由让你停下来重新考虑这个设计。表 14-1 列出一些典型的测试和设计问题：\n表 14-1：可测试性差的代码的特征，以及它所带来的设计问题\n特征 可测试性的问题 设计问题 使用全局变量 对于每个测试都要重置所有的全局状态（否则，不同的测试之间会互相影响） 很难理解哪些函数有什么副作用。没办法独立考虑每个函数，要考虑整个程序才能理解是不是所有的代码都能工作 对外部组件有大量依赖的代码 很难给它写出任何测试，因为要先搭起太多的脚手架。因此人们会避免写测试 系统会更可能因某一依赖失败而失败。对于改动来讲很难知道会产生什么的影响。很难重构类。系统会有更多的失败模式，并且要考虑更多恢复路径 代码有不确定的行为 测试会很古怪，而且不可靠。经常失败的测试最终会被忽略 这种程序更可能会有条件竞争或者其他难以重现的 bug。这种程序很难推理。产品中的 bug 很难跟踪和改正 另一方面，如果对于你的设计容易写出测试，那是个好现象。表 14-2 列出一些有益的测试和设计的特征。 表 14-2：可测试性较好的代码的特征，以及它所产生的优秀设计\n特征 对可测试性的好处 对设计的好处 类中只有很少或者没有内部状态 很容易写出测试，因为要测试一个方法只要较少的设置，并且有较少的隐藏状态需要检查 有较少状态的类更简单，更容易理解 类 / 函数只做一件事 要测试它只需要较少的测试用例 较小 / 较简单的组件更加模块化，并且一般来讲系统有更少的耦合 每个类对别的类的依赖很少；低耦合 每个类可以独立地测试（比多个类一起测试容易得多） 系统可以并行开发。可以很容易修改或者删除类，而不会影响系统的其他部分 函数的接口简单，定义明确 有明确的行为可以测试。测试简单接口所需的工作量较少 接口更容易让程序员学习，并且重用的可能性更大 走得太远 对于测试的关注也会过多。下面是一些例子：\n牺牲真实代码的可读性，只是为了使能测试。把真实代码设计得具有可测试性，这应该是个双赢的局面：真实的代码变得简单而且低耦合，并且也更容易为它写测试。但是如果你仅仅是为了测试它而不得不在真实代码中插入很多难看的塞子，那肯定有什么地方不对了。\n着迷于 100% 的测试覆盖率。测试你代码的前面 90% 通常要比那后面的 10% 所花的工夫少。后面那 10% 包括用户接口或者很难出现的错误情况，其中 bug 的代价并不高，花工夫测试它们并不值得。\n事实上你永远也不会达到 100% 的测试覆盖率。如果不是因为漏掉的 bug，也可能是因为漏掉的功能或者你没想到说明书应该改一改。\n根据你的 bug 的成本不同，对于你花在测试代码上的开发时间有一个合理的范围。如果你在建一个网站原型，可能写任何测试都是不值得的。另一方面，如果你在为一架飞船或者一台医用设备编写控制器，测试可能是你的重点。\n让测试成为产品开发的阻碍。我们曾见过这样的情形，测试，本应只是项目的一个方面，却主导了整个项目。测试成了要敬畏的上帝，程序员只是走走这些仪式和过场，没有意识到他们在工程上宝贵的时间花在别的地方可能会更好。\n总结 在测试代码中，可读性仍然很重要。如果测试的可读性很好，其结果是它们也会变得很容易写，因此大家会写更多的测试。并且，如果你把事实代码设计得容易测试，代码的整个设计会变得更好。\n以下是如何改进测试的几个具体要点：\n每个测试的最高一层应该越简明越好。最好每个测试的输入 / 输出可以用一行代码来描述。 如果测试失败了，它所发出的错误消息应该能让你容易跟踪并修正这个 bug。 使用最简单的并且能够完整运用代码的测试输入。 给测试函数取一个有完整描述性的名字，以使每个测试所测到的东西很明确。不要用 Test1()，而用像 Test_\u0026lt;FunctionName\u0026gt;_\u0026lt;Situation\u0026gt;这样的名字。 最重要的是，要使它易于改动和增加新的测试。\n第15章 设计并改进“分钟/小时计数器” 得到外部视角的观点 你可能已经注意到，我们已经有两次通过同事来帮助我们解决问题了。询问外部视角的观点是测试你的代码是否 “对用户友好” 的好办法。要试着对他们的第一印象持开放的态度，因为其他人可能会有同样的结论。并且这些 “其他人” 里可能就包含 6 个月之后的你自己。\n比较三种方案 【前面已经实现了三种方案】\n方案 代码行数 每次 HourCount () 调用的代价 内存使用情况 HourCount () 的误差 幼稚方案 33 O (每小时事件数)（约 360 万） 无约束 1/3600 传送带设计 55 O(1) O (每小时事件数)（约 5MB） 1/3600 时间桶设计（60 只桶） 98 O(1) O (桶的个数)（约 500 字节） 1/60 请注意最后那个有三个类的方案的代码数量比任何其他的尝试都多。然而，性能好得多，并且设计更灵活。而且，每个类自己都更容易读。这是一个正面的改进：有 100 行易读的代码比有 50 行不易读的要好。\n有时，把一个问题拆成多个类可能引入类之间的复杂度（在有单个类的方案中是不会有的）。然而，在本例中，有一个简单的 “线性” 链条连接着每个类，并且只有一个类暴露给了最终用户。总体来讲，拆分这个问题所得到的好处更大。\n【评价程序的好坏，不能机械式地按照代码数量来评估，应该因地制宜，一个比较好的判断的标准是，一个外人来理解和维护你的代码所需要的工作量和难易程度】\n总结 让我们回顾得到最后的 MinuteHourCounter 设计所走过的路。这是个典型的代码片段演进过程。\n首先，我们从编写一个幼稚的方案开始。这帮助我们意识到两个设计上的挑战：速度和内存使用情况。\n接下来，我们尝试用 “传送带” 设计方案。这种设计改进了速度和内存使用情况，但对于高性能应用来讲还是不够好。并且，这个设计不是很灵活：让这段代码能处理其他的时间间隔需要很多工作。\n我们最终的设计解决了前面的问题，通过把问题拆分成子问题。下面是创建的三个类，自下向上，以及每个类所解决的子问题：\nConveyorQueue：一个最大长度的队列，可以 “移位” 并且维护其总和。 TrailingBucketCounter：根据过去了多少时间来移动 ConveyorQueue，并且按所给的精度来维护单一（最后）的时间间隔中的计数。 MinuteHourCounter：简单地包含两个 TrailingBucketCounters，一个用来统计分钟，一个用来统计小时。 附录 深入阅读 关于写高质量代码的书 《Code Complete: A Practical Handbook of Software Construction, 2nd edition》, by Steve McConnell (Microsoft Press, 2004)\n一本严谨的大部头，是关于软件建构的所有方面的，包括代码质量以及其他。\n《Refactoring: Improving the Design of Existing Code》, by Martin Fowler et al. (Addison-Wesley Professional, 1999)\n一本关于增量代码改进哲学的好书，包含很多不同重构方法的具体分类，以及要在尽管不破坏东西的情况下做出这些改动所需的步骤。\n《The Practice of Programming》, by Brian Kernighan and Rob Pike (Addison-Wesley Professional, 1999)\n讨论了编程的多个方面，包含调试、测试、可移植性和性能，有很多代码示例。\n《The Pragmatic Programmer: From Journeyman to Master》, by Andrew Hunt and David Thomas (Addison-Wesley Professional, 1999)\n一系列好的编程和工程原则，按短小的讨论来组织。\n《Clean Code: A Handbook of Agile Software Craftsmanship》, by Robert C. Martin (Prentice Hall, 2008)\n和本书类似（但是专门为 Java），还拓展了其他如错误处理和并发等话题。\n关于各种编程话题的书 《JavaScript: The Good Parts》, by Douglas Crockford (O’Reilly, 2008)\n我们认为这本书的精神与我们的书相似，尽管该书不是直接关于可读性的。它是关于如何使用 JavaScript 语言中不容易出错而且更容易理解的一个清晰子集的。\n《Effective Java, 2nd edition》, by Joshua Bloch (Prentice Hall, 2008)\n一本杰出的书，是关于让你的 Java 程序更易读和更少 bug 的。尽管它是关于 Java 的，但其中很多原则对所有的语言都适用。强烈推荐。\n《Design Patterns: Elements of Reusable Object-Oriented Software》, by Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides (Addison-Wesley Professional, 1994)\n这本书是软件工程师用来讨论面向对象编程所用的 “模式” 这种通用语言的原始出处。作为通用的、有用的模式的一览，它帮助程序员在第一次自己解决棘手问题时避免经常出现的陷阱。\n《Programming Pearls, 2nd edition》, by Jon Bentley (Addison-Wesley Professional, 1999)\n关于真实软件问题的一系列文章。每一章都有解决真实世界中问题的真知灼见。\n《High Performance Web Sites》, by Steve Souders (O’Reilly, 2007)\n尽管这不是一本关于编程的书，但这本书也值得注意，因为它描述了几种不需要写很多代码就可优化网站的方法（与本书第 13 章的目的一致）。\n《Joel on Software: And on Diverse and …》, by Joel Spolsky\n来自于 http://www.joelonsoftware.com/ 的一些优秀文章。Spolsky 的作品涉及软件工程的很多方面，并且对很多相关话题都深有见解。一定要读一读 “Things You Should Never Do, Part I” 和 “The Joel Test: 12 Steps to Better Code”。\n历史上重要的书目 《Writing Solid Code》, by Steve Maguire (Microsoft Press, 1993)\n很遗憾这本书有点过时了，但它绝对在如何让代码中的 bug 更少方面给出了出色的建议，从而影响了我们。如果你读这本书，你会注意到很多和我们的建议重复的地方。\n《Smalltalk Best Practice Patterns》, by Kent Beck (Prentice Hall, 1996)\n尽管例子是用 Smalltalk 写的，但这本书有很多好的编程原则。\n《The Elements of Programming Style》, by Brian Kernighan and P.J. Plauger (Computing McGraw- Hill, 1978)\n最早的关于 “写代码的最清晰方法” 的书之一。大多数例子是用 Fortran 和 PL1 写的。\n《Literate Programming》, by Donald E. Knuth (Center for the Study of Language and Information, 1992)\n我们发自肺腑地赞同 Knuth 的说法：“与其把我们主要的任务想象成指示计算机做什么，不如让我们关注解释给人类我们希望让计算机做什么”（p.99）。但要小心：这本书中的大部分内容是关于 Knuth 的 WEB 文档编程环境的。WEB 实际上是一种语言，使用可以像写文学作品一样来写程序，以代码为辅助内容。\n我们自己用过衍生自 WEB 的系统，我们认为当代码变化频繁时（这很常见），相对于用我们所建议的实践方法，保持这种所谓的 “文学编程” 来更新代码更难。\n德摩根定理。可以简记为头顶上的帽子断开，中间的符号要翻转。 $$ \\overline{A\\cup B} = \\overline{A} \\cap \\overline{B} $$ $$ \\overline{A\\cap B} = \\overline{A} \\cup \\overline{B} $$\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","title":"编写可读代码的艺术"},{"link":"/posts/naval_again/","text":"两年前看过这本书，现在重新阅读，有更多的思考、理解和收获。\n本来是想摘抄精华部分，但是这本书基本字字珠玑，所以摘抄的量很大。\n那瓦尔亲述 在一无所有的人生中，如果至少还有一个人无条件地爱着你，你的自尊心就会得到极大的保护\n我出生寒门，一度困顿迷茫，而现在我的经济上宽裕，精神上幸福。我为达到这两个目标，付出了很多努力。\n我学到了一些经验和教训，总结了一些原则。我试着把自己的思考结集成文，希望对你有所启发。因为说到底，我什么也教不了。我只能给你带来些许发，或者还有几个你能记住的“金句”。\n第一部分 财富 如何不靠运气致富\n第一章 积累财富 认识财富创造的原理 赚钱不是一件想做就能做的事情，而是一门需要学习的技能。\n赚钱跟工作的努力程度没什么必然联系。即使每周在餐厅拼命工作80个小时也不可能发财。要想获得财富，你就必须知道做什么、和谁一起做、什么时候做。与埋头苦干相比，更重要的是理解和思考。当然，努力非常重要，不能吝啬自己的努力，但必须选择正确的方式\n如何致富(不靠运气)：\n追求财富，而不是金钱或地位。财富是指在你睡觉时仍能为你赚钱的资产。金钱是我们转换时间和财富的方式。地位，是你在社会等级体系中所处的位置。\n创造财富和坚持道德标准是可以兼得的，如果你内心鄙视财富，财富就会对你避而远之。\n无视一味追求社会地位的人，他们获得地位的手段就是攻击创造财富的人。\n依靠出租时间是不可能致富的。你必须拥有股权（企业的部分所有权），才能实现财务自由。\n获得财富的一个途径，就是为社会提供其有需求但无从获得的东西，并实现规模化。\n选择一个有长期发展前景的行业，找到可以长期合作的人。\n互联网极大地拓展了职业空间，但大多数人还没有清晰地认识到这一点。\n培养迭代思维。生活中所有的回报，无论是财富、人际关系，还是知识，都来自复利。\n选择聪明过人、精力充沛的商业伙伴，但更重要的是，他们要正直诚信。\n不要跟愤世嫉俗和消极悲观的人合作。他们的预言会自我实现。\n学会销售，学会构建，两技傍身，势不可当。\n用专长、责任感和杠杆效应武装自己。\n专长指的是无法通过培训获得的知识。如果社会可以培训你，那么社会也可以培训他人来取代你。\n要想有所专长，就要追求真正的兴趣和热爱，而不是盲目追逐热点。\n累积专长的过程，对你而言就像玩耍，对他人来说则很吃力。\n专长的传授需要通过师傅带徒弟的方式完成，而无法通过学校教育完成。\n专长往往具有高度的技术性或创造性，不能被外包或自动化。\n培养责任感，勇于以个人名义承担商业风险。社会将根据责任大小、股权多少和杠杆效应回报你。\n“给我一根足够长的杠杆和一个支点，我就能擺动地球。”一阿基米德\n要想获得财富，就必须充分利用杠杆效应。商业杠杆来自资本、劳动力和复制边际成本为零的产品（代码和媒体）。\n资本是指金钱。要想获得融资，需要运用自己的专长和责任感，并表现出良好的判断力。\n劳动力杠杆就是让别人为你工作。这是最古老、争夺最激烈的一种杠杆。拥有劳动力杠杆会让你的父母觉得你很了不起，但不要过度追逐劳动力杠杆。\n资本和劳动力是需要获得许可才能使用的杠杆。人人都在追逐资本，但得有人愿意出资。人人都想领导他人，但得有人愿意追随。\n代码和媒体是不需要许可就能使用的杠杆。这两个杠杆是新富阶层背后的杠杆。你可以创建软件和媒体，好让它们在你睡觉时为你工作。\n有一大批机器人可供我们免费使用。为了提高热效率、节约空间，这些机器人就集中放在数据中心。用起来吧。\n如果不会写代码，那就出书、写博客、做视频、录播客。\n杠杆是判断力的倍增器。\n判断力从经验中来，但可以通过学习基本技能快速建立起来。\n没有所谓的“商业”技能。不要把时间浪费在商业杂志和商业课程上。\n学习微观经济学、博弈论、心理学、说服术、伦理学、数学和计算机。\n读比听快，做比看快。\n你应该忙得没时间社交，但依然把日程安排得井然有序。\n设定一个大胆的个人时薪，并严格执行。如果解决一个问题节省的成本低于时薪，那就忽略问题；如果外包一项任务的成本低于时薪，那就选择外包。\n工作时要拼尽全力，毫无保留。不过，共事的人和工作的内容比努力程度更重要。\n在自己选择的职业领域里做到全球顶尖。不断重新定义自己的事业，直到理想成为现实。\n世界上没有快速致富的教程。即使有，那也只是提供教程的人想从你身上赚钱。\n运用专长，发挥杠杆效应，最终你会得到自己应得的。\n当你终于变得富有时，你会意识到，这并不是你最初的追求。\n但这是后话，此处暂且不提。\n总结：把自己产品化。\n“把自己产品化”是什么意思？ 这句话有两个重点，一个是“自己”，一个是“产品化”。“自己”具有独特性，“产品化”是发挥杠杆效应；“自己”具有责任感，“产品化”需要专长。“自己”其实也具有专长。因此，这两个重点就可以概括上述所有的理念。\n如果想要实现致富的长期目标，你就应该问问自己：“这是我真正想要的东西吗？我的规划目标是我真正想要的吗？”得到肯定的答案后，再问问自己：“我实现产品化了吗？我实现规模化了吗？我选择规模化的方式是劳动力、资本，还是代码或媒体？”由此可见，“把自己产品化”这个阐述方便简单，便于记忆。\n“把自己产品化”很难。所以我才说“把自己产品化”要花几十年——并不是要花几十年执行，而是要把大部分时间用于思考：我能提供什么独特的价值？\n财富和金钱的区别是什么？ 财富就是在你睡觉时也可以帮你赚钱的资产。财富是可以进行生产的工厂和机器人。财富是不分昼夜为客户服务的计算机程序。财富也可以是银行里被投资于其他资产或业务的钱。\n甚至房子也可以成为一种财富，因房子可以出租，带来租金收益。但与从事商业活动相比，这种土地利用方式的生产效益较低。\n所以，我对财富的定义是在睡觉时也能带来收入的企业和资产。\n技术让消费变得更大众化，也让生产变得集中在某个领域做到全球顶尖的人，现在可以为世界上任何人提供自己的产品或服务。\n社会总是需要新事物。如果想变得富有，你就要弄清楚你能社会提供哪些其有需求但无从获得的东西，而提供这些东西对你来说又是轻松自然的事情，在你的技术和能力范围内。\n下一步是思考如何规模化，因为只提供一个产品或一项服务是远远不够的，必须提供成千上万个，甚至几十万、几百万、几十亿个，最好人手一个。\n找到天赋所在，积累专长 在基因、成长环境和个人对环境的回应的共同作用下，每个人都形成了自己独一无二的专长。专长是一个人个性和身份的有机组成部分。一旦找到自己天生喜欢和擅长的领域，你就可以朝着这个方向持续前进。\n其实，人生大部分时间都是在寻找，寻找那些最需要你的人，寻找那些最需要你的事情。\n社会、商业和金钱是技术的下游，而技术本身又是科学的下游产物。应用科学是推动人类社会发展的引擎。由此得出的推论是应用科学家是世界上最权威的人，这一点在未来几年会更加突出。\n要积累和发展专长，就要发挥自己的天赋，研究自己真正好奇的东西，追寻自己的热情所在，而不是选择一个当下热门的专业，然后在毕业后进入投资者宣称的热门行业。\n只有独辟蹊径，才能避开竞争。\n致富最重要的技能是成为终身学习者，无论想学什么，你都得找到途径和方法……\n如今在9到12个月内成为一个全新领域的专家比在很久以前选择了“正确的”专业要重要的多。\n投资交友，着眼长远 生活中所有的回报，无论是财富、人际关系，还是知识，都来自复利。\n复利这个概念的内涵非常丰富。复利的概念来源于资本，但不止于此。复利的效应并不局限于资本领域。\n商业关系中的复利效应非常重要。看看社会上的顶级角色，为什么有些人能够担任上市公司首席执行官，或者管理几十亿美元的基金？这源于别人对他们的信任。之所以能够得到信任，是因为他们打造的人际关系和事业产生了复利效应。他们以极为直观和负责的方式投入事业，向世界证明自己的品行正直、高度诚信。\n个人声誉方面也存在复利效应。……\n与人共事也是同样的道理。……\n……\n一旦找到正确的事业和一同前行的人，就要全身心投入。接下来，持续精进几十年，就能从人际关系和经济利益上获得巨大的回报。因此，复利效应非常重要。\n99%的努力终将白费。……我不是说那99%的事情都不要做，因为我们很难确定剩下的1%到底是什么。我的意思是：努力找到不会被浪费的1%。这1%对你是有意义的，值得你用余生去追求，一旦找到你就要心无旁骛，全力以赴。\n承担责任 勇于以个人名承担商业风险，社会将根据责任大小、股权多少和杠杆效应回报你。\n获得财富需要杠杆。杠杆可以来自劳动力、资本、代码或媒体。劳动力和资本等大多数杠杆需要有给予方。要获取劳动力，必须有人追随你。要获得资本，需要有人为你提供资金、管理资产或机械设备。\n因此，要得到劳动力或资本，必须建立信誉，尽可能以个人信誉做担保，而这种操作存在风险。因此，责任是把双刃剑：进展顺利，责任人会得到褒奖；一旦失败，责任人就会首当其冲。\n明确的责任分配非常重要。没有责任，就没有动力。没有责任，就无法建立可信度。但责任也意味着风险：失败的风险，被羞辱的风险，以个人名誉承担失败的风险。\n幸运的是，现代社会没有债务人监狱。一个人不会因为损失了别人的资金被监禁或处决。但是，作为社会性动物，我们依然认为，在大庭广众之下遭遇个人失败是无法接受的事情。实际上，那些有能力以个人名义在公众面前承担失败风险的人，会获得很大的原动力。\n……\n当以个人名义公开发表看法时，你就是在为某些观点和做法承担风险。同时，你也会因此得到回报，从中获益。\n……\n商业风险可能体现在成为最后一个撤资人，成为最后一个获得时间报酬的人，等等。投人时间和资本都会有风险。\n要认识到，在现代社会，下行风险并没那么大。在良好的生态系统中，即使个人破产，债务也可以被一笔勾销。我最熟悉的是硅谷的环境，但是整体而言，只要个人诚实正直，确实付出了努力，人们就会原谅你的失败。\n失败真的没有那么可怕，所以我们都应该勇于承担更多责任。\n创立企业或买入股权 没有股权，就没有通往财务自由的途径。\n为什么企业股权是致富的关键所在？ 我们需要了解获得权益回报和赚取薪资报酬的区别。如果你是通过出租时间来换取报酬的，即使从事律师和医生等高薪职业，你能够获得的报酬也非常有限，不足以让你实现财务自由。而如果拥有企业股权，你就可以获得被动收入一即使你在度假，企业也在帮你赚钱。\n这应该是有关财务自由最核心的一点。大家似乎认为可以通过工作创造财富，但事实可能并非如此。其中的原因有很多。\n如果不持有企业股权，个人投入和收益的关联性就会非常强。几乎所有领取月薪的工作，即便是医生或者律师这样的高薪职业，也许有投入时间才能获得相应的收入。\n如果不持有企业股权，睡觉的时候没有收入，退休的时候没有收入，度假期间也没有收入。总之，收入是相对固定的，根本无法实现实质性突破。\n从本质上，看上班就是给人打工，而企业所有者在承担风险和责任的同时也拥有知识产权和品牌效应。……\n拥有企业股权意味着可以获得企业发展的收益，……。所以，要持有股权，没有企业股权，赚钱的机会就会非常渺茫。\n所以要努力工作，直到有能力拥有企业股权，你可以买入企业的股票成为小股东，也可以创办一家属于自己的企业，总而言之，要想方设法拥有企业的所有权，这一点真的非常重要。\n……\n但通常情况下，真正的财富是通过创建公司或者通过投资创造出来的。投资公司也是买入企业的股权，这些都是获得财富的途径。总之，真正的财务自由都不是靠单纯地投入大量时间来实现的。\n找到杠杆 如果一件事物一开始让你兴致盎然，后来又让你觉得索然无味，那么他只是暂时分散了你的注意力，并不是你心智上真正的好奇所在，请继续寻找。\n如果社会可以培训你，那么总有一天，社会也可以编写代码，用计算机取代你。\n要得到经济回报，你就需要提供社会有其需求但无从获得的东西。很多人认为，在学校里可以学到怎么赚钱，实则不然，学校教不会“经商”这个技能。\n认真想一想，社会上还有哪些尚未得到满足的需求，而你怎样才能成为第一个提供相关产品或服务的人，并将其规模化。这才是赚钱真正的挑战。\n关键在于，准确把握并满足社会所需每一代人所需的产品或服务都不一样，但绝大多数都与科技相关。\n当机会到来时，你就能最大限度地利用杠杠效应，扩大自己提供的产品或服务的规模。\n总体而言，杠杆有三种。\n第一种是劳动力杠杆，也就是让别人给你打工。\n资本是第二种相对较好的杠杆形式。 资本杠杆就是利用钱来扩大决策的影响力。……\n遍览最富有的人，你就会发现最有钱的是银行家，是腐败国家的政客，他们本质上都是可以动用大量资金的人。……\n资本杠杆的放大效应非常明显。管理资本要比管理人更容易，因为随着资本的不断增长，其管理的难度会远远低于管理不断扩张的团队。\n最后一种杠杆是最新出现的，也是普通人最触手可及的，这种杠杆就是“复制边际成本为零的产品”。\n其中包括书籍、媒体、电影、代码。在所有不需要他人许可就能使用的杠杆中，代码可以说是最强大的一种\u0026ndash;只需要一台计算机就够了。\n复制边际成本为零的产品是最值得研究的杠杆，也是最重要的杠杆。\n……\n这种最新形式的杠杆创造了全新的财富，创造了所有新晋亿万富翁。对上一代人来说，财富是由资本创造的，发大财的，是沃伦·巴菲特这些搞投资的人。\n而新一代富翁的财富都是通过代码或媒体创造的。……\n新杠杆最重要的特点之一就是，使用他们或获得成功都无需经过他人的许可。要使用劳动力杠杆，就得有人决定追随你，要使用资本杠杆，就得有人给你提供资金，你再去进行投资或开发产品。\n而编程、写书、录播客、拍视频，这些不需要经过任何人的许可。\n靠出租自己的时间是永远无法致富的。\n无论人生的哪个阶段，努力的目标都是不断提高自己的独立性，而不是升职加薪，拥有独立性，为自己独特的产出成果负责，而不是向打工一样为投入的时间负责，这才是最理想的状态\n人类在不断进化。曾几何时，人力社会是不存在杠杆的，如果我帮你砍柴打水，那八个小时的劳动所产出就只是八个小时的成果，投入与产出是相等的。后来人们人类发明了杠杆，发明了资本、合作、科技、生产力等各种手段，人类社会进入杠杆时代。在这样的时代，作为一名劳动者，只有最大化的发挥杠杆效应，才能利用有限的时间和体力产生巨大的影响力。\n与一个没有利用杠杆的劳动者相比，利用了杠杆的劳动者的产出，会增加成千上万倍。对利用杠杆的劳动者而言，判断力的重要性远超投入时间的长短和工作的努力程度。\n人生的一大目标应该是掌控自己的时间。理想的工作是利用杠杆效应的工作。在这种工作模式下，你可以掌控自己的时间，并能对自己的产出成果负责。\n如果你有专长，有责任感，又懂得如何利用杠杆效应，社会为你提供的金钱回报，就会与你的价值相匹配。这时你就能节省下更多时间，进而变得超级高效。\n每周工作40小时是工业时代的产物，知识劳动者的时间安排与运动员如出一辙，有训练和冲刺的时间，也有休息和重新评估的时间。\n任何一款产品的构建和销售都是这样的，投入与产出不存在必然联系。世界上的工作本质上分为两种：存在杠杆的工作和不存在杠杆的工作。所以不要选择类似客服这样的支持性工作，这种工作投入和产出的关系相对紧密，产出主要取决于投入时长。\n投入和产出之所以脱节，是因为工具和杠杆的存在。一个职业的创造性越高，其投入与产出的不匹配性越高。而投入和产出高度相关的职业，很难创造财富，从事这种职业也很难给自己带来财富。\n学会销售，学会构建。同时掌握这两种技能的人会势不可挡。\n销售和构建是两个非常宽泛的概念。构建产品很难，因为涉及多个变量，涵盖设计、开发、制造、物流、采购等环节，甚至还包括服务的设计和运营。因此，构建的定义非常多元化。\n……\n另一个概念是销售。销售的定义，同样很宽泛。销售不一定是针对个体顾客销售产品，也可以指市场营销、媒体传播、人才招聘、资金募集、员工激励、公共关系等，涉及面非常广。\n用头脑赚钱，而不是用时间赚钱。\n随着层级不断向上，杠杆效应愈加明显，责任愈加重大，需要的专长也越来越多。在劳动力杠杆的基础上增加资本杠杆，在劳动力杠杆和资本杠杆的基础上增加代码杠杆，通过这种方式，创业规模越来越大，也越来越接近拥有所有上行潜力，实现价值极值，而不再仅仅是领取薪水那么简单。\n以领取月薪的打工者为起点，志存高远，不断提升目标，努力获得更多杠杆效应，承担更多责任，学习更多专长。将这些结合起来，再加上复利效应的神奇作用，假以时日，你就可以变得非常富有。\n唯一需要避免的就是身败名裂的风险。\n避免身败名裂的意思就是不要银铛入狱。所以，不要做任何违法违纪的事情，任何事都不值得拿自己的自由和声誉去冒险。要避免一败涂地的灾难性损失。避免身败名裂也意味着不要做那些可能会威胁自身安全或健康的事情。你必须照顾好自己的身体。\n不要做可能会让你全盘皆输的事情。不要孤注一掷、铤而走险。相反，要把赌注押在那些胜算较大、能带来巨大利益的事情上。 用判断力赚钱 要获得更多的自由时间，就要对选择的专业领域、工作性质、职业路径以及与雇主达成的交易类型做出审慎的判断。一旦做出正确的决策，你就无须担心时间管理的问题了。于我而言，我希望单纯靠判断力来获得报酬，而不是靠劳作。我想让机器人、资本或计算机完成实际工作，而我只靠判断力赚钱。\u0026quot;\n我认为每个人都应该立志掌握某些领域的专业知识，并以此赚取经济回报。如果能够在实际工作中最大化地利用杠杆，无论是机器人、计算机，还是其他任何人或技术，那么我们都可以成为自己时间的主人，因为没有人会考核我们在工作中投入了多少时间，我们只需要对自己的产出负责。\n……因为多出的10%的判断力对于引导企业的方向极具价值。首席执行官的报酬之所以很高，就是因杠杆效应。在判断力和能力上，毫厘之差都会有天壤之别。\n在实际操作中展现出色的判断力，拥有可信可靠的判断力，这一点非常关键。巴菲特之所以被称为“股神”，是因为他的可信度极高。他对自己的业务极负责，一次又一次在公开场合做出正确的判断。他以高度正直著称，赢得了社会的充分信任，加上他判断力出色，所以人们敢在他身上押上不计其数的筹码。没有人问他工作有多努力，没有人问他几点起床、几点睡觉。大家都说：“巴菲特，你只要把业务搞好就行了。”\n要具有出色的判断力——尤其是经过实操验证的判断力，以及高度的责任感和优秀的业绩记录，这几点至关重要。\n普通人把时间浪费在短期思考上，浪费在毫无价值的繁重工作上。而巴菲特会用一年斟酌判断，然后用一天采取行动。他一天的行动可以影响未来几十年。\n只要在优秀的基础上稍微提高一点儿，做到卓越（比如把完成1/4 英里的短跑成绩提高零点儿秒），经济回报就会呈数量级增加。而杠杆效应进一步放大了经济回报的差异。在杠杆时代，在自己的领域做到极致非常重要。 分清主次，聚焦重点 给自己的时间设定价格，用时薪计算时间价值。如果用花钱的方式节省的时间价值更高，那就花钱，不要犹豫。要想真的赚到钱，先要相信你自己很值钱。\n要从时间成本的角度做决策，如果做某件事外包的成本低于时薪，那就外包；如果不做的损失低于时薪，那就不做；如果花钱请人的成本低于时薪，那就花钱请人。甚至做饭也是同样的道理，你可能想吃健康的家常菜，但是如果可以外包，那就外包吧。\n在商业世界里，大多数人在玩零和游戏，少数人在玩正和游戏，他们在人群中寻找志同道合者。\n这世上的游戏不外乎两种。第一种是金钱游戏。金钱不能解决所有问题，但可以解决所有和金钱有关的问题。大家都明白这一点，所以每个人都想赚钱。\n但与此同时，许多人内心深处觉得自己是赚不到钱的，所以，他们不喜欢看到创造财富的故事。他们会攻击整个商业体系，宣称“赚钱是邪恶的，不应该赚钱。”\n但其实他们在玩第二种游戏，这种游戏叫地位游戏。他们之所以说“我不需要钱，我不想要钱”，是因为他们想占领高地，让别人高看一眼。地位就是一个人在社会等级中的位置。\n在人类进化史上，财富创造是近代才出现的活动，是一个正和游戏。而地位之争自古有之，是一个零和游戏。那些攻击财富创造的人往往只是为了追求地位。\n地位这个零和游戏非常古老，猴子在没有进化成人的时候就已经开始玩地位游戏了。……\n政治游戏就是地位游戏的一种。体育竞赛也是一种地位，游戏有赢家就必定有输家。……\n问题的关键在于，要想在地位游戏中获胜，就必须击败他人。这就是为什么应该避免在生活中玩地位游戏，因为这个钩心斗角、损人利己的游戏会让人变得心态失衡、易怒好斗，你会一直以贬低对手、打败他人为己任，从而让自己和自己喜欢的人上位。\n玩愚蠢的游戏，就只能贏得愚蠢的奖品。\n对初出茅庐的年轻人来说，最重要的事情是什么？ 最重要的是，要在重大决定上花更多时间。人生早期有三个重大决定：在哪里生活，和谁在一起，从事什么职业。\n在开启一段亲密关系之前，我们总是很少花时间深思熟虑。我们把大量时间用于工作，却很少花时间想清楚自己应该从事什么样的工作。居住的城市几乎可以完全决定一个人的生活轨迹，但我们很少花时间认真思考哪个城市更宜居。\n……\n对于重要的问题，你应该放下手头所有的事情，专门拿出时间认真思考。而以上可能是人生最重要的三个问题。\n找到如玩耍般的工作 你对退休的定义是什么？\n退休就是不再为了想象中的明天而牺牲今天。当你能活在当下，内心充盈地度过每一天时，你就达到了退休的状态。\n如何达到退休状态？\n第一种方法是存钱。只要存款够多，被动收入（不用动一根手指）就能满足开销。\n第二种方法是把开销降为零—一出家修行。\n第三种方法是做自己热爱的事情，完全乐在其中，有钱没钱无所谓。所以，实现退休状态有很多种方法。\n避开竞争陷阱的方法就是做独一无二的自己，找到自己能做到独步天下的事情。做到最好，只因热爱。如果你真的热爱一个事物，那就追随本心，努力找到利用它满足社会真实需求的切人点，利用杠杆效应扩大规模，以个人名义担起责任。这样，在承担风险的同时，你也将获得相应的回报，拥有自己所提供产品或服务的所有权或股权，然后持续精进。\n赚到多少钱会让你有安全感？ 当然，对贪欲的惩罚也是与金钱相伴相生的。赚到钱的人只会想要更多，他们会变得敏感、多疑、偏执，害怕失去眼下拥有的一切。天下没有免费的午餐，每个人都要为自己的贪欲买单。\n赚钱的目的是解决财务问题，满足物质需求。我认为，摆脱金钱贪念最好的办法就是，赚了钱之后不要升级自己的生活方式。赚到钱的人往往会自然而然地提高生活水准。假设你一次性赚到一大笔钱，而不是靠日积月累。此时你依然保持着原有的生活方式，还没来得及升级，你的金钱就会远远超出你的实际需求和欲望，这反而让你达到一种财务自由的状态。\n对刚刚开启职业生涯的人来说（甚至稍晚阶段的人也一样），最重要的资源是公司能给你带来的人脉资源。要思考一下自己会跟什么样的人共事，他们将来会如何发展。\n如何获得运气？ 获得好运的方法：\n希望好运不期而至。\n不停地折腾，直到撞上大运。\n做好心理准备，对别人错过的机会保持敏感。\n把你所做的事情做到极致。精益求精，直到名副其实。让机会自动找到你，让运气成为必然。\n因果关系如此确定，所以运气就不再是运气了。所谓运气其实就是必然的结果。第四种运气总结一下就是，以某种方式塑造自己的性格，之后就由性格决定命运。\n我认为，赚钱很关键的一点就是知名度和信誉度，也就是说，大家要知道你、信任你，这样人们便会通过你达成某些交易。前面举了潜水员的例子，由于你的潜水技能非常出色，知名度很高，寻宝的人会主动来找你，并分给你一些宝藏，以换取你的技能。\n……\n人品和声誉是可以自己建立的。一旦有了人品和声誉，你就会有很多机会。别人认为你是运气好，但你知道那不是运气，而是人品。我的联合创始人尼维说过：“在一个长线游戏中，似乎每个人都在让彼此变得富有。而在一个短线游戏中，似乎每个人都在让自己变得富有。”\n我觉得这个说法非常精准。长线游戏是正和游戏，我们在一起做蛋糕，把蛋糕越做越大。而短线游戏只是在分蛋糕。\n我认为商业社交纯属浪费时间。我知道有很多人和公司在推广“打造社交网络”这个概念，因为这符合他们的利益，能为他们的商业模式服务。但事实上，如果你建造的东西很有意思，那就会有更多人想要了解你。在经营业务之前先试图建立业务关系完全是在浪费时间。我的人生哲学会让人觉得更舒适：“做一个创造者，创造出人们想要的有趣的东西。展示你的技能，练习你的技能，最终会有合适的人找到你。”\n保持耐心 大凡优秀之人，假以时日，都会大放异彩。这个时间期限可能比你想象的要长，也可能与他们自己的预期不符，但是，是金子总会发光。\n运用专长，结合杠杆效应，最终，你的才华和努力会得到相应的回报。\n成功需要时间。即使万事俱备—你已经把成功所需的各个要素收入囊中，需要投人的时间也具有不确定性。而如果一直在掐算时间，在成功真正到来之前，你的耐心就会被消磨殆尽。\n人人都想一夜暴富，但世界的运行遵循由量变到质变的规律，大自然的法则是春播秋收，极少有事情是立竿见影的。时间的投入是必需的，所以我认为，你需要做的就是拥有专长，有责任感，有影响力，利用杠杆效应，获得独步天下的技能组合，在自己的专业领域做到首屈一指\n对自己热爱的事物孜孜不倦，乐此不疲，不断精进，日积月累。不要去计算自己投入的时间和精力，因为一旦开始计算，你就会失去耐心。\n江山易改，本性难移。所谓“性格决定命运”，就是一个人不断重复自己的行为模式，好的坏的、优点缺点，最终会得到与自己的行为相对应的结果。\n始终主动付出、不断奉献，不要斤斤计较、患得患失。\n人生真正的履历，其实就是一生所承受痛苦的集合。如果临终前要直面真正的自我，回顾这一生做过哪些有意义的事，那么你能想起来的一定都是你所做出的牺牲和迎接过的挑战。\n第二章 增强判断力 真正聪明的人，从不走捷径。\n判断力 把时间花在省钱上是不会致富的。\n省出时间来赚钱才是正确的思路。\n你能给判断力下个定义吗？ 我对智慧的定义是“知道个人行为的长期后果”，用于解决外部问题的智慧其实就是判断力。或者说，智慧和判断力是高度关联的：一个智慧而富有判断力的人，首先要知道个人行为的长期后果，然后做出正确的决策并付诸行动。\n在杠杆时代，一个正确的决策可以帮你赢得一切。\n不付出努力，就无法培养判断力，也不会获得任何杠杆。\n时间的投入是必需的，但判断力更重要。在前进的过程中，方向比速度更重要，特别是运用了杠杆以后。在每个岔路口选对方向，其重要程度要远远超过前进的努力程度。人生就是选择正确的方向，然后朝这个方向奋力前行。\n如何清晰地思考 与“聪明”相比，“思路清晰”是一种更好的赞誉。\n真正的知识具有内在的关联性，就像一根链条，从基础层面到应用层面环环相扣。以数学为例，如果不懂算术和几何，你就无法理解三角函数。如果有人用词花哨，动辄谈论宏大而复杂的概念，那么他们很有可能并不了解自己所谈论的东西。我认为最聪明的人是可以把事情深入浅出地给孩子讲解清楚的人，否则他自己也没有真正理解。这是一个我们都熟知的观点，确实说得很对。\n真正聪明的人是思路清晰的思考者。他们把基础知识和基础层面了解得非常透彻。相较于背诵各种复杂的概念，我更愿意吃透基础知识。\n感受跟事实是两码事，感受只是自我对事实的部分误解。\n事实上，留出空闲时间非常重要。如果每一天都被各种会议占满，都是忙忙碌碌的，你就无法进行思考。\n没有思考，你就不会有出色的商业创意，也不可能做出正确的判断。我鼓励大家每周至少花一天时间来思考（最好是两天，因为即使预留了两天，最终也可能变成一天）。\n悠闲的大脑才能产生伟大的创意。一个倍感压力、案牍劳形、四处奔波、焦头烂额的人，是没有办法思考的。所以，一定要为思考挤出时间。\n非常聪明的人往往都是特立独行的，他们坚持独立思考、来力亲为，以厘清事情的来龙去脉。\n逆势而为者并非总是反对一切，事实上，反对一切是墨守成规的另一种表现。逆势而为者会根据实际情况独立思考，能够顶住盲目从众的压力。\n玩世不恭很容易，随波逐流也很容易。\n成为逆势而为的乐观主义者才最难得。\n摆脱自我束缚，认清世界真相 只有立场却没有是非，这是不可取的。如果你所有的信念都能被整整齐齐地打包成某个“主义”，或某个思想流派，你就要对自己的信念保持高度怀疑。\n在任何一个层面上实现自我认同，都会形成很多所谓的“稳定信念”。我不喜欢这种做法，因这会妨碍我独立思考。\n从长远看，承受痛苦也是人生的必修课，它可以带来两大收获：\n一是痛苦可以让人接受世界的本来面目；\n二是痛苦可以大大改变一个人的自我，虽然过程非常煎熬。\n学习决策技巧 当把成功归于自己时，你要更加谨慎，因为难免出现认知偏差。\n几乎所有的偏见都是为了帮助人们在信息不完整的情况下迅速做出判断。对于重要的决策，要抛开记忆和身份，专注于问题本身。\n我从不考虑“我喜欢或不喜欢”这样的问题。我只关注事实，我思考问题的角度是“事实就是这样”，或者“事实不是这样”。\n—理查德．费曼 做一个诚实的人对我来说极为重要。我不会有意做那些卑鄙下流之事。做人除了要极度诚实，还可以参照巴菲特很久之前说过的一个建议：具体地表扬，泛泛地批评。我努力遵循这个建议，虽然并不总能做到，但它确实给我的人生带来了积极的改变。\n如果要提出批评意见，不要批评某个人，可以批评工作方法，或者批评某一类行为。如果要表扬，那就找到一个榜样，表扬这个特定的人。这样有助于维护你身边人的自尊心和身份感，获得他们的支持，让他们为你所用，而不是与你作对。\n发现好的心智模型 在决策的过程中，大脑是一台根据过往记忆进行预测的机器。\n在根据记忆进行预测的过程中，推理逻辑是最靠不住的：“这件事在过去发生了，因此在未来也会发生。”这种推理过于依赖特定环境，带有经验主义色彩。其实，做决策要具体问题具体分析，有效决策需要的是原则和心智模型。\n目前我发现的最好的心智模型来自进化论、博弈论和查理•芒格。\n进化论 我认为，现代社会的很多现象都可以用进化论来解释。有一种理论认为，文明的存在是为了解决交配权的分配问题。从纯粹的性选择角度看，人类社会精子充足，卵子稀少，所以存在分配问题。\n究其根本，人类的所有发明和成就都是为了解决交配权的分配问题。\n人生的很多问题都可以从进化论、热力学、信息论和复杂性理论中找到解释和预测。\n反推法 我认为自己并没有能力找到“正确方法”。相反，我努力的方向是逐一排除不奏效的方法。我认为成功就是不犯错。成功的关键并不在于做出正确判断，而在于避免做出错误判断。\n复杂性理论 20世纪90年代中期，我开始沉迷于研究复杂性理论。随着研究的深入，我越发认识到人类知识和预测能力的局限性。复杂性理论对我产生了至关重要的影响。这个理论帮助我打造了一个系统，它可以在存在信息盲点的情况下正常运作。我相信，从本质上说，人类是无知的，是极不善于预测未来的。\n经济学 微观经济学和博弈论都是基础性学科。如果不能深刻理解供求关系、劳资关系、博弈论等问题，你就不可能在商业上取得成功，甚至也无法很好地适应现代社会。\n委托和代理问题 在我看来，委托和代理问题是微观经济学中最基本的问题。如果不了解什么是委托、什么是代理，你就无法在这个世界上应对自如。如果想成功创业、成功达成交易，你就一定要研究委托和代理问题。\n委托和代理问题非常容易理解。恺撒大帝有句名言：“如果你想完成一件事，那就亲自去做。如果不想完成，那就派人去做。”他的意思是，如果想把事情做好，你就必须自己去做。如果你是委托人，你就会有主人翁的责任感，因为在意结果，所以你会做得很好。而如果你是代理人，你就是在为别人做事，你可能会做得很糟糕，因为你不在乎。你追求的是自身利益最大化，而不是委托人资产最优化。\n公司规模越小，每个人越会觉得自己是委托人、是主人。越不觉得自己是代理人，工作就会做得越出色。增加所获报酬与创造价值之间的相关性，可以改变员工的认知，让他们越发觉得自己是委托人，而不仅仅是代理人。\n我认为，我们内心深处都知道这一点。我们会天然地被委托人这个角色吸引，内心也更贴近这个角色。但媒体和现代社会不断给大众洗脑，让大众认社会需要代理人，代理人在社会中发挥着不可或缺的作用，代理人学识渊博，等等。这样一来，大多数人会心甘情愿地成为勤勤恳恳的代理人。\n复利效应 一提到复利，大部分人都知道这是一个金融词语。如果不懂复利是什么，那么你可以自行学习一下微观经济学教科书。从头到尾认真研读一本微观经济学教科书，你会受益匪浅。\n……\n在智力成果领域，复利效应同样适用。一家公司现有100个用户，如果用户以每月20%的复合速率增长，公司将在短时间内累积起数百万用户。有时候，即使是公司的创始人，也会对如此庞大的业务规模感到惊讶。\n基础数学 我认为，基础数学的重要性真的被低估了。如果要賺钱或者投资，你就必须学好基础数学。创业和经商不需要学习几何学、三角函数，微积分，也不需要学习其他任何复杂的数学课程，但是需要学习算法、概率学和统计学，这些分支学科都非常重要。要吃透基础数学，真正掌握加减乘除、复利计算、概率论和统计学。\n黑天鹅 概率统计学有一个新的分支，这个分支是关于“尾部事件”的。黑天鹅事件是极端概率事件。这里我想重提一下纳西姆•塔勒布，我认为他是我们这个时代最伟大的哲学家和科学家之一。他在研究黑天鹅事件方面做了很多开创性工作。\n微积分 我们可以借助微积分了解和认识变化的速度和自然界的运作方式，但更重要的是，要理解微积分的原理。微积分通过小的离散或连续事件来测量变化。进行积分运算或根据需要进行推导并不重要，因为在商业世界里你不需要这样做。\n可证伪性 对那些声称“科学”站在自己一边的人来说，最重要的原则，同时也是他们理解得最不透彻的原则，就是可证伪性。如果不能做出可证伪的预测，那就不是科学。要让人们相信某个理论是真理，这个理论就应该具有预测能力，而且必须是可证伪的。\n我认为宏观经济学不可信，因为宏观经济学家做出的预测是不可证伪的，而可证伪性才是科学的标志。现实只有一个，所以在那究经济时，反例永远不会出现，你永远不可能在美国经济发展的同时，找到另一个完全一样的国家做相反的经济实验。\n如果难以抉择，那答案就是否定的 如果面临艰难选择，比如：\n我应该跟这个人结婚吗？ 我应该接受这份工作吗？ 我应该买这栋房子吗？ 我应该搬到这个城市吗？ 我应该和这个人做生意吗？\n如果你难以抉择，答案就是否定的。原因是，现代社会充满了选择，有成千上万个选择。我们生活在一个有70亿人口的星球上，我们和互联网上的每个人都相互连接，世界上有成千上万的职业供我们选择。大千世界，芸芸众生，选择永远不缺。\n……\n一个重大决策可能会影响未来十几年，甚至几十年的人生轨迹。创业可能需要10年时间。一段恋情可能会持续5年甚至更久。搬部一个城市可能会住上10年、20年。这些改定都将产生深还的影啊，人做不到绝对确定，但是我们一定要在非常确定的情况下再做出决定。\n有时候我们实在难以抉择，甚至需要列出清单，对不同选项的利弊进行对比和权衡。选择放弃吧，如果难以抉择，答案就是否定的。\n迎难而上 一条简单的人生经验：如果在一个艰难的决定上意见不统一，你就应该选择短期内更痛苦的道路。\n如果面对两个选择，利弊各占 50%，你就应该选择短期内更艰难、更痛苦的道路。\n从本质上看，两条道路中的一条会带来短期痛苦，而另一条会在未来引发更长久的痛苦。为了回避矛盾，大脑会本能地选择摆脱短期痛苦。\n前提条件是，两个选择利弊相当，但如果一条道路会带来短期痛苦，那么它也会带来长期收益。而根据复利效应，长期收益才是你想要的。\n大脑会过分看重短期快乐，试图避免短期痛苦。\n因此，你必须进行自我训练，主动迎接短期痛苦，压制回避痛苦的倾向（这种潜意识倾向非常强大）。如你所知，我们生命中的大部分收获都来自承受短期痛苦而获得的长期回报。\n以运动为例。运动对我来说并不是一件快乐的事。因为我会在短期内感到痛苦。但是从长远看，我会变得更好，因为我的肌肉更发达了，身体更健康了。\n当运动时，肌肉会感到酸痛或疲劳。读书也一样，读有难度的书会让大脑不堪重负，短时间内感到疲劳。但从长远看，读书会让我变得越来越聪明，因为我在持续挑战大脑处理信息的极限，提高大脑的工作能力，进而不断吸收新概念。\n因此，一般来说，应该选择短期痛苦，以换取长期收益。\n建立新的心智模型最有效的方法是什么？ 海量阅读，多多益善。\n学会热爱阅读 读书唯一的原因应该是喜欢，不需要其他理由。不要把读书当成一项任务，读书就是因为乐在其中。\n我发现自己现在开始重读很多书，甚至超过了读新书的时间。\n不要比谁读书更快。书越好，你越要慢慢阅读、慢慢吸收。\n我不知道大家的情况，但我本人注意力非常差。我会略读、速读、跳读，也记不住书里具体的段落或内容。但这些并不重要，重要的是，在某个更深的层面，我吸收了书中的精华，这些书成为我心灵织锦上的丝线，编织成我灵魂的一部分。\n问：如果想成为一个更清醒、更独立的思考者，在接下来的60天里，我能做些什么？\n答：阅读数学、科学和哲学领域的经典作品。不要读畅销书，不要看新闻。避免加入任何所谓的“读书俱乐部”，避免追求任何的社群认同。把真理置于社群认同之上。\n我们现在身处推特和脸书的时代，得到的都是碎片化的智慧精华，吸收起来非常困难。读书对现代人来说已经非常困难了，因为我们的大脑已经被训练成特定模式，大脑同时接受了两个相互矛盾的训练。\n在解决问题时，问题越古老，解决方案存在的时间越长。\n如果想学开车或者驾驶飞机，你就应该阅读一些现代指南，因为这个问题是在现代社会产生的，而且现代社会可以提供很好的解决方案。\n而如果是一个古老的问题，比如如何保持身体健康，如何保持冷静和平和，什么样的价值体系是好的，如何经营好家庭，诸如此类的问题，古老的解决方案可能更好。\n任何流传了两千年的图书都经过了许多代人的甄别和筛选，其中的一般性原则更有可能是正确的。我想重新开始阅读这类书。\n一颗平静的心，一个健康的身体，一个充满爱的家。这些东西是金钱买不到的，必须通过努力才能获得。\n第二部分 幸福 人生的三大要素是财富、健康和幸福。\n我们依次追求财富、健康和幸福，但按重要性排序，则是反过来的。\n第三章 学习幸福 别太把自己当回事。你只是一只会做计划的猴子。\n幸福需要心境平和 我觉得，大多数人都有如影随形的轻微焦虑感。有时你四处奔忙，感觉状态一般。这时，如果停下来感知一下自我，你就会发现大脑在一刻不停地念叨。又或许，你就是没有办法安静地坐下来。\n即使身体坐下来了，你的大脑也会一直想着“下一步”应该做什么。\n事情总是一件压着一件，处理完这件，下一件会接踵而至，永远有做不完的事，所以焦虑感才会普遍存在。\n如果你找个地方坐下来，尝试着什么都不做，这个时候，焦虑感是最明显的。我说的什么都不做，是不要读书，不要听音乐，不要做任何事情，只是坐着。只是这一件事，你就做不到，因为焦虑感会让你如坐针毡，会不停地催促你站起来去做事。所以，很重要的一点就是，你要意识到，是焦虑感让你感到不快乐。而这种焦虑感源于一连串不断涌现的想法。\n我应对焦虑的方法就是不与之对抗，让自己意识到这种焦虑感源于脑海中此起彼伏的想法。然后，我会问自己：“我是想一直执着于这些想法，还是想重获内心的平静？”如果大脑中一直存在各种各样的想法，我就无法获得平静，所以，答案是显而易见的。\n你也注意到了，我说的“幸福”，指的就是拥有平和的内心。\n很多人说的幸福指的是开心快乐，但于我而言，幸福就是内心的平和。\n幸福的人并不是时时刻刻都快乐的人。\n幸福的人是可以轻松地以特定的方式诠释事件、保持内心平和的人。\n成功不一定带来幸福 就个人的经验而言，我最想要的就是内心的平和。\n平和是静态的幸福，幸福是动态的平和。只要愿意，你就随时可以把平和激活，使之变成幸福。但是大部分时间你想要的其实是被封印的幸福，即平和。如果你是一个内心平和的人，那么无论做什么事你都可以获得幸福的体验。\n人们以为，获得平和心境的方式是解决所有的外部问题。但外部问题是无穷无尽的。\n因此，获得内心平静的唯一方法是摒弃“问题”这个概念。\n幸福源于好习惯 “五只黑猩猩理论”讲的是，通过观察最常与一只黑猩猩一起玩耍的五只黑猩猩，你就能准确预测这只黑猩猩的行为方式。我觉得这一理论也适用于人类。这也是为什么我们在选择朋友时一定要明智，道理的确如此。不能因一个人恰好是你的邻居或同事，你就不加选择地跟他成为朋友。最幸福和最乐观的人会选择五只正确的黑猩猩做朋友。\n如何改变习惯 选择一件事情，许下一个愿望，并使其具象化。\n规划一条可持续的路径。 确定需求、诱因和替代品。 把自己的规划告诉朋友。 一丝不荷地稳步前行。 自律是通向新的自我形象的桥梁。 全面接受新的自我形象，这就是现在的你。\n这就是改变习惯的步骤：首先，知道自己要做什么；其次，知道该怎么做；再次，把规划告诉朋友，让一致性偏见发挥作用；最后，严格自律，知行合一，进行自我重塑，直至蜕变成全新的自己。\n第四章 自我救赎 医生不能让你健康。\n营养学家不能让你苗条。 老师不能让你变聪明。 禅师不能让你冷静。 智者不能让你富有。 教练不能让你健壮。 最终，你必须自己负起责任。 救赎靠自己。\n选择做自己 你的人生目标是找到最需要你的人、事业、项目或艺术。大千世界，芸芸众生，总有一些人和事会与你完美契合。不要基于别人正在做的事为你自己列清单、做决策。你永远不会成为他们，你永远都不擅长做另一个人。\n要做出原创性贡献，必须非理性地痴迷。\n选择关爱自己 我生活中的第一要务是我的身体健康。对我来说，健康的重要性高于幸福，高于家庭，高于工作。我的身体健康是一切的起点，排在第一位，紧随其后的是我的心理健康和精神健康。接着是家人的健康和幸福。在确保了这些之后，我就可以按照自己的意志在这个世界上自由活动了。\n健康问题是对人生影响最大的问题。\n作为一种高级动物，人类应该遵循符合自然规律的生活方式，现在社会是如何让我们逐渐背离了应有的生活方式的？ 这种背离体现在方方面面。\n从生理层面看，现代人的饮食结构不符合进化的目标。正确的饮食结构应该更接近旧石器时代，以蔬菜主，辅以少量的肉类和浆果。\n就运动而言，人类更应该去户外玩耍活动，而不是在跑步机上挥汗如雨。在正常的进化过程中，我们本该更均衡地使用视觉、听觉、嗅觉、味觉、触觉这五种感官，而不是如此侧重视觉。在现代社会，几乎所有的输人和交流都依靠视觉。我们在走路时本不该穿鞋，很多背部和脚部问题都是穿鞋造成的。我们不应该一直穿着衣服来保持身体的温度，而应该不时接触冷空气，因为寒冷可以激活人体的免疫系统\n我们本不该生活在一个完全无菌、彻底干净的环境中，因为这种环境无法有效训练人体的免疫系统，进而导致过敏频发，这就是所谓的“卫生假说”。我们应该一直生活在成员众多、子孙满堂的部落式大家庭中，因为这样的家庭模式有利于心理健康。……\n你认为哪种运动习惯对你的生活有最积极的影响？ 晨练。晨练完全改变了我的人生。晨练让我感觉更健康、更年轻。为了晨练，我得早早起床，这样我就不能太晚回家了。想要养成晨练的好习惯，其实很简单。但是，基本上，无论你什么时候跟别人分享所谓的好习惯，他们都会给自己找到借口，最常见的借口就是“我没时间”。表面上说的是“我没时间”，但其实说的是，“这对我来说不是优先事项”。到底要不要做，就要看这件事是不是你优先考虑的事项。如果一件事是你的首要任务，你就会去做。生活就是这样。如果你有10个或15个不同的优先事项，都不分主次地被丢到同一个筐里，那就等于没有优先级，最终你一件事都做不成。\n我所做的就是，认定我生命中的第一要务是自己的身体健康，这件事的优先级高于我的幸福，高于我的家庭，高于我的工作。一切始于身体健康。我把身体健康放在第一位，所以我永远不会以“没时间”为理由不去健身。基本上我每天都坚持晨练，不管多长时间，我都会坚持，雷打不动。如果这一天没有晨练，我就不会开始工作。即使是山崩地裂、世界末日我也不管，世界可以再为我等30分钟，直到我完成晨练。\n我几乎每天早上都锻炼，只有个别几天，可能因为旅行、受伤、生病，或别的什么原因，不得不休息。我每年跳过晨练的次数屈指可数。\n养成习惯的方法和过程并不重要，甚至连做什么都不重要，重要的是每天坚持。很多人纠结于举重训练、网球、普拉提、高强度间歇训练和“快乐身体”健身法到底哪个最有效。其实他们搞错了重点。我要重复一遍，每天坚持才是最重要的，坚持做什么是次要的。对个人而言，最好的锻炼就是每天都能坚持去做的那种锻炼。\n边走边开会的好处：\n提高大脑工作效率 锻炼身体，享受阳光 时间简短，省去客套话 增加对话交流，减少自说自话 不用播放幻灯片 结束很简单——走回去就行了 生活中的所有事情都一样，如果愿意做出短期的牺牲，你就会得到长期的好处。我的体能教练耶日•格雷戈雷克是个非常聪明的人。他总是说：“选择简单模式，人生会越来越困难；选择困难模式，人生会越来越简单。”\n现在选择困难的饮食模式，也就是虽然很想吃垃圾食品，但是忍住不吃，同时选择困难的锻炼模式，不怕辛劳。长此以往，你的生活会变得越来越容易。你不会轻易生病，不会不健康。价值观的培养、未雨绸缪的储蓄、人际关系的处理都是如此。如果你现在选择一条容易的路，那么你的未来会变得更加艰难。\n选择自我塑造 最了不起的超能力就是改变自我的能力。\n再强调一次，习惯就是一切——主导着我们的一切行为和思维方式。有些习惯是从小养成的，包括如厕、什么时候能哭、什么时候不能哭、什么时候能笑、什么时候不能笑等等。于是，我们逐渐养成了各种习惯——通过后天学习，一些行为变成了我们的一部分。\n长大后，我们已经累积了成千上万个习惯。习惯成自然，这些习惯在我们的潜意识里不间断地运行，而大脑皮质只会留出一点点思考力来应对新问题。我们终究会成为自己的习惯。\n我是从自己健身的过程中认识到这一点的。我以前从未坚持日常训练。后来，我的健身教练给我制订了每天的训练计划，内容并不难，不会给身体带来太大的负担，但我必须每天坚持。久而久之，我感觉自己的身心状况发生了令人难以置信的变化。\n想要拥有内心的平静，必须先拥有身体的平静。\n迅速采取行动，并对结果保持耐心。\n一旦决定去做，就要迅速采取行动，并全神贯注，全力以赴。同时，要对结果保持耐心，因为你唯一能把握的只有自己，他人和外界环境都纷繁复杂、充满变数。\n市场接受一个产品需要经历很长时间。商业上的合作、职场上的配合都需要一定的磨合期。想要做出优秀的产品是需要时间的，因为你需要不断地、一遍又一遍地打磨它。一旦采取行动，就要速战速决，但等待结果要从容沉着。正如尼维所说，灵感易逝。当灵感乍现时，要马上行动起来。\n选择自我成长 我觉得设定具体目标的做法并不科学。史考特•亚当斯有句名言：“要建立系统，而不是设定目标。”运用你的判断力确定什么样的环境有助于你苗壮成长，然后在周围创造一个这样的环境，由此增加成功的概率。\n如果有什么事情是你以后想做的，现在就去做，人生没有“以后”。\n流血流汗，埋头苦干，直面困难，这些都是一夜成名的必经之路。\n如果你要给子女传授一两条人生原则，这些原则会是什么？ 第一条原则是阅读，广泛地阅读。 阅读面要广，不要局限于社会认可的书，更不要局限于我推荐的书。要为了阅读而阅读，培养对阅读的热爱。即使喜欢读言情小说、侦探书或漫画书也没关系，不存在所谓的垃圾。开卷有益，尽管读吧。假以时日，你会找到那些你应该读和喜欢读的东西。\n第二条原则是，掌握与阅读技巧相关的数学和说服技能。 这两种技能有助于你在现实世界里活得游刃有余、畅行无阻。\n拥有说服技能很重要，因为如果能影响自己的同胞，你就可以做成很多事情。我认为，说服力是一项实实在在的技能，而且是可以学会的，并没有那么难。\n数学有助于解决生活中所有复杂的难题。如果想赚钱，如果想研究科学，如果想了解博弈论、政治、经济、投资或计算机，你就需要学好数学，因为所有这些都以数学为核心。数学是自然界最基本的语言。\n数学是大自然的语言。所以，我们可以利用数学对大自然进行逆向工程，以此了解大自然。不过，我们目前的了解也只是皮毛。但幸好，作为普通人我们并不需要掌握很多数学知识，只需要知道基本的统计学、算术等就够了。你应该对统计学和概率了如指掌，烂熟于心。\n选择解放自己 最难的不是做自己想做的事，而是知道自己想要什么。\n珍惜自己的时间。你唯一真正拥有的就是时间。时间比金钱更重要，比朋友更重要，比什么都重要。你的时间就是你的一切。不要浪费自己的时间。\n珍惜时间并不意味着不能放松下来享受生活。只要是做自己想做的事情，你就不是在浪费时间。但是，如果没有把时间花在想做的事情上，既没有赚到钱，也没有学到东西，你就要问问自己到底在瞎忙什么\n不要花自己的时间去取悦别人。别人快不快乐是他们的问题，不是你的问题。你快乐了，别人也会快乐。你快乐了，别人会问你是如何快乐起来的，他们会从中学到点儿什么，但是你没有责任让别人快乐。\n一旦品尝到自由的滋味，你就再也不想被别人雇用了。\n现代斗争：\n孤独的个体召唤出非人的意志力，进行断食、冥想、锻炼对抗大批科学家和统计学家以充足的食物、药物和电子屏幕为武器制造出的垃圾食品、标题党新闻、无限的色情内容、无穷无尽的游戏、令人上瘾的毒品。\n第五章 哲学 按照自己的价值观生活 你的核心价值观是什么？ 诚实是我最核心的价值观之一。……\n另一个基本的价值观是，我不赞成任何短期思维或短期交易。如果生意伙伴在跟他人的合作中一味追求短期利益，我就不想跟他们合作了。生活中所有的回报，无论是财富、人际关系、爱情、健康、活动，还是习惯，都来自复利。我只想选择值得一辈子深交的伙伴和能获得长期回报的事情。\n另一个价值观是，我赞同平级关系，不接受等级关系。我不想高于任何人，也不想低于任何人。如果我和别人不能像平级那样对待彼此，我就不想和他们交往了。\n还有一个价值观，现在我觉得愤怒是毫无意义的。年轻的时候我认为愤怒是好事，是男子汉气概的象征，但现在，我喜欢佛教的说法：“执怒就像握了一把要丢向他人的热煤炭，被烫伤的人反而是你。”我不想生气，也不想和愤怒的人在一起。我把愤怒的人从自己的生活中剔除了。我不是在评判他们。我自己也经历了很多愤怒。他们必须自己解决这个问题。去别的地方生别人的气吧，不要影响我。\n理性佛教 你如何定义智慧？ 智慧是一种知道个人行为的长期后果的思维能力。\n灵感本易逝，行动应当时。\n纳瓦尔的推荐读物 我阅读不是为了自我提升，而是出于好奇心和兴趣。最好的书就是让人欲罢不能、爱不释手的书。\n图书 大量阅读可以提高阅读品位，然后你会自然地开始阅读更多理论、概念和非虚构类作品。\n非虚构类 《无穷的开始：世界进步的本源》，戴维•多伊奇 《人类简史：从动物到上帝》，尤瓦尔•赫拉利 《理性乐观派：一部人类经济进步史》，马特•里德利 《基因组：生命之书23章》 《红色皇后：性与人性的进化》 《美德的起源：人类本能与协作的进化》 《自下而上：万物进化简史》 《非对称风险》，纳西姆•塔勒布 《随机生存的智慧：黑天鹅语录》，纳西姆•塔勒布 纳西姆在书中呈现了一系列古代智慧。他的其他著作包括《黑天鹅》《反脆弱》《随机漫步的傻瓜》等，这些书都值得一读。 《费曼讲物理：入门》，理查德•费曼 《费曼讲物理：相对论》 《费曼手札》 《天才：理查德•费曼的生命与科学》 《万物解释者：复杂事物的极简说明书》，兰道尔•门罗 《趣味物理寻答集》，刘易斯 •卡罗尔•爱泼斯坦 《历史的教训》，威尔•杜兰特、阿里尔•杜兰特 《主权个体：把握向信息时代的过渡》（The Sovereign Individuak：Mastering the Transition to the Information Age），詹姆斯•戴尔•戴维森、威廉•里斯-莫格勛爵 《穷查理宝典：查理，芒格智慧箴言录》，查理，芒格、彼得•考夫曼（编） 《现实不似你所见：量子引力之旅》，卡洛•罗韦利 《七堂极简物理课》，卡洛．罗韦利 哲学和灵性类 杰德•麦肯纳的全部作品。 《万物理论（启蒙的视角）》—梦境三部曲 《杰德 •麦肯纳笔记本》（Jed McKenna\u0026rsquo;s Notebook） 《杰德演讲 ＃1》（Jed Talks # 1） 《杰德演讲 # 2》（Jed Talks # 2） 医学博士卡皮尔•古普塔的全部作品。 《大师的生活秘语：消除生活噪声，寻求生命真相》（A Masters Secret Whispers: For those who abhor noise and seek The Truth\u0026hellip; about life and living ) 《直触真理：如何应对人生问题》（Direct Truth: Uncompromising non-prescriptive Truths to the enduring questions of life ） 《生命之书》，吉杜·克里希那穆提 《全然的自由：克里希那穆提要义》，吉杜·克里希那穆提 《悉达多》，赫尔曼·黑塞 《爱的方式：安东尼•德•梅勒的最后沉思》（The Way to Love：The Last Meditations of Anthony de Mello），安东尼•德•梅勒 《清醒地活》，迈克•辛格 《沉思录》，马可•奥勒留 《让爱自己变成好习惯》，卡马尔•拉维坎特 《塞涅卡之道：斯多葛派大师的实用书信》（The Tao of Seneco：Practical Letters from a Stoic Master) 《改变你的心智》，麦可•波伦 《醒思录：李小龙的生活智慧》，李小龙 《先知》，纪伯伦 科幻类 《虚构集》，豪尔赫•路易斯•博尔赫斯 《你一生的故事》，特德•姜 《呼吸》，特德•姜 《软件体的生命周期》 特德·姜 《雪崩》，尼尔•斯蒂芬森 《最后的问题》 艾萨克·阿西莫夫 纳瓦尔的写作 生命公式一（2008年） 幸福 = 健康 + 财富 + 良好的人际关系 健康 = 锻炼 + 饮食 + 睡眠 锻炼 = 高强度耐力训练 + 体育运动 + 休息 收入 = 责任 + 杠杆 + 专长 责任 = 个人品牌 + 个人平台 + 承担风险？ 杠杆 = 资本 + 人力 + 知识产权 专长 = 无法通过培训获得的知识 投资回报 = 买入并持有 + 估值 + 安全边际 纳瓦尔的个人原则（2016年） 人生要义：活在当下。 欲望即痛苦。（佛陀） 执怒就像握了一把丢向他人的热煤炭，被烫伤的人反而是你。（佛陀） 如果不想跟一个人共事一生，那就一天都不要和他共事。 阅读（学习）是终极元技能，可以换来其他任何东西。 生活中所有的回报都来自复利。 用头脑赚钱，而不是用时间赚钱。 99%的努力终将白费。 任何时候都要完全诚实。诚实待人、积极向上，这是我们几乎在任何时候都可以做到的。 具体地表扬，泛泛地批评。（沃伦•巴菲特） 真理是具有预测能力的理论。 观察每一个想法。（自问：“为什么我会有这个想法？”） 生命的伟大在很大程度上源于苦难。 爱是给予，不是接受。 思考的间隙即开悟。（埃克哈特•托利） 数学是自然的语言。 每一刻都自成一体，自有意义。 ","title":"重读纳瓦尔宝典"},{"link":"/posts/%E6%9D%A8%E6%8C%AF%E5%AE%81/","text":"直接引用微信公众号“赛先生”的文章《物理学巨擘、伟大的爱国者杨振宁逝世，享年103岁 | 纪录片完整版》的编者按：\nTEXT 折叠 复制 编者按： 据央视新闻报道，著名物理学家、诺贝尔物理学奖获得者，中国科学院院士，清华大学教授、清华大学高等研究院名誉院长杨振宁先生，因病于2025年10月18日在北京逝世，享年103岁。 “中国人在国际科学上有建立不朽之功勋者，乃自杨振宁始。” 杨振宁先生是跨世纪的伟大的物理学家，经历了二战，经历了冷战，经历了中国的封闭、之后的改革开放、经济腾飞，经历了中国对科学的重新提倡和新世纪的飞速发展。一百年来，不变的，是他对科学的热爱、追求和提倡，对祖国的赤子之心。 他以诗人般的优雅，将对物理之美的追求，凝练成寥寥数行的数学方程，不仅帮助人类描绘了宇宙中基本作用力的基本原理，更以其自身的经历，提升了中国人的信心，并为中美科学界的沟通起到重要的桥梁作用。 杨振宁先生千古！ 点击展开查看更多 这里记录一下我觉得很有道理的、杨振宁先生在多个场合讲过的，关于“直觉”的一段话，作为对杨先生的纪念。找了一个B站的链接 。\n…… 我事后想这件事情，我就得到一个结论，这个结论对于你们学习任何东西，尤其是学习物理，有非常重要的一个意思。\n就是一个人在随时都有种种的直觉，这当然，你从小为着生存你当然就有直觉。你知道，平常说一个狗也知道直线是最短的距离，这就是它有一个直觉。所以说我们有一些直觉，你能够生存，你必须有直觉。\n然后呢，你在学东西的时候呢，有时候呢他那个的结果跟你的直觉不一样，就是我刚才讲，发现这个加速度原来不是在那个速度的方向，是在跟它垂直的方向，这个跟我第一眼看到的时候，觉得这个跟我的直觉不一样。这种情形是一个最重要的一个学习的时候，你必须把这事情想清楚，不能放弃。你如果把这想清楚以后，想得很清楚以后，就把你的直觉改了，以后你就变成了一个更正确的直觉。就是换一句话说，要随时希望把你新学的东西变成了你的增加了的直觉，这个增加了的直觉是非常之重要的。\n我一生所做的研究工作，很多都是关于对称的。对称是一个很复杂的观念，那么你有一个数学上的公式，这个不够，你必须要把那个数学上的公式变成你的直觉。我第一次对于这个了解就是我到美国在芝加哥大学念书，我跟泰勒────泰勒后来变得非常有名，因为他叫做氢弹之父，因为他发明了这个美国氢气弹里头的一个窍门────那么我跟他谈了以后就发现了，他很会弄啊，对称的原理，可是他讲不清楚是怎么回事情，所以渐渐地我就知道，他的对称的原理是在他的直觉里头，而那个直觉他还没有能够把它变成一个公式，这一点给了我一个很深的印象。\n换一句话说，这个学习，尤其到了复杂的物理学，它有具体的东西，有知觉，这两个要互补。这两个要是不对的时候，你就得要坐下来仔细想。为什么呢，你本来的直觉是不对的，等到你把这个想清楚了以后，你就把这个推演出来的东西变成了你的新的直觉，这你就进了一步了，这是非常重要的一个学习的方法。如果你想不清楚，你就马马虎虎算了，这不行，因为你下回到类似的情形，你就不会举一反三。\n","title":"杨振宁去世，享年103岁"},{"link":"/posts/ai_in_10000days/","text":"《未来10000天的可能》是Kelvin Kelly的新作，书中讲述了自己理解的AI在未来10000天的可能性，我觉得这些可能性不一定能实现，但是很有启发性，有助于开拓思路。下面是目录，可以看到大致的理念和内容：\n序言 导语/凯文·凯利 序/吴晨 1. 镜像世界——下一代互联网的崛起 智能眼镜如何取代智能手机 现实世界与数字孪生的无缝连接 镜像世界的特点 镜像世界产生的新业态 2. 类人智能——重新定义AI 为什么AI不是人类的复制品 AI将重新定义创造力 专用AI vs. 通用AI：未来的智能分工 AI与人类的协作：从替代到共生 AI的终局：承认我们的无知 3. AI助理——你的私人管家无处不在 从CEO的私人秘书到全民AI助理 AI助理如何改变工作与生活 B2B（Bot-to-Bot）时代：AI助理之间的协作 4. 透明社会——数据驱动的未来 为什么透明是未来的必然？ 隐私 vs. 个性化：我们该如何选择？ 互见性：双向透明的社会规则 5. 内容井喷——AI重塑内容创作 未来25年我们如何创作和阅读 AI时代创作者如何生存 6. AI的技术演进 AI是镜像世界最重要的基石 AI发展的三种可能性 重新定义真实 全球AI的商业格局 7. AI驱动的终极信息化国家 从大数据到AI治理：如何构建透明社会？ 全球数据治理机制的建立 8. AI如何重塑组织 最重要的组织变革发生在中层 组织结构更加扁平、去层级化 AI时代的公司形态 AI无法取代企业家 AI不会取代大多数人的工作 9. AI如何颠覆教育 个性化教育：AI助教如何改变学习方式？ 未来的中学教育，最重要的是什么？ 重塑大学的体验 10. AI如何颠覆医疗 量化自身：AI如何推动定制化医疗？ 全民基因测序：中国在生命科学中的领先机会 医疗助理与制药的未来 11. 机器人爆发——从工厂到家庭 人形机器人的未来：梦想与现实 工业机器人与无人工厂：制造业的巨变 机器人如何改变蓝领工作？ 12. 自动驾驶与车内第三空间 自动驾驶的渐进式发展 车内第三空间：移动的办公室与娱乐中心 未来出行：共享 vs. 私人定制 13. 太空竞赛——下一个太空世纪的开启 月球基地与火星探险：中美太空竞赛 太空经济的未来：从旅游到资源开采 机器人 vs. 人类：谁更适合星际旅行？ 14. 生命科学——解码百岁人生的未来蓝图 AI推动的三大永生路径 全民基因测序：中国领跑健康大数据时代 基因编辑：重塑生命的可能与边界 AI加速器：生物医药研发的新动力 人造器官：为何科技突破比想象更慢 15. 脑机接口：人机共生的未来 侵入式VS非侵入式：脑机接口的双轨竞赛 脑机接口的终极想象 解码大脑：信号捕捉与双向交流的挑战 从昆虫大脑到分布式智能 16. 2049——一个更加乐观的未来 中美高科技博弈：从竞争到合作 AI与镜像世界的全球格局 中美如何推动互信？ 全新“中美国”:合作共赢的未来 中国的未来：终极信息化国家 制造4.0:：从世界工厂到全球智造 能源、量子与人类行为的科学狂想 终章 预测未来的思维模型 结语 注解未来25年的10个关键词 后记 2049酷中国/凯文·凯利 ","title":"未来10000天的可能 - Kelvin Kelly"},{"link":"/posts/internet_viewership/","text":"看到一个有意思的观点 ：\nPLAINTEXT 折叠 复制 上周，Cloudflare 创始人兼 CEO 马修·普林斯（Matthew Prince）接受了访谈。 他说了一个全新的观点，互联网\u0026#34;流量为王\u0026#34;的时代就要结束了，AI 将终结传统的互联网商业模式。 我觉得，他表达得很完整，很有说服力，不愧是英语系和法学院的毕业生。我整理出来，分享给大家。 1、 过去25年，互联网的操作入口一直是搜索。你想要什么，就要去搜索。 谷歌主宰着搜索。 为了自己的利益，它有动机推动互联网发展。互联网越多样化，越混乱，对谷歌越有利，因为人们就会离不开搜索，来处理混乱的信息。 所以，谷歌一直激励人们为互联网创造内容。只有源源不断的内容，才能提升搜索的价值。 2、 作为回报，它为内容生产商提供流量，并帮助生产者将流量货币化（主要方法是为内容配上广告）。 谷歌是世界最大的搜索引擎，也是世界最大的广告商，这绝非偶然。 实际上，谷歌是过去25年互联网最大的赞助商。如果没有像谷歌这样的公司来创造流量激励机制，让内容生产商可以把流量变成金钱，互联网就不会是今天蓬勃发展的样子。 3、 情况现在发生了变化。互联网的操作入口，正从搜索引擎变成答案引擎。 以前，谷歌给你一张藏宝图，你需要自己去访问链接找出答案。现在，大模型直接给你答案，省去了藏宝图。 甚至就连谷歌都有单独的 AI 模式，只有答案，不需要访问链接。 这确实方便了用户，但这样就无法产生流量了，整个基于流量的互联网模式就开始崩溃。 4、 一旦没有了流量，内容生产商就没有了货币化方式。他赚不到钱，只能减少或放弃内容生产。 现在互联网上，人类生产的内容已经萎缩了，根本原因就是传统的\u0026#34;流量变现\u0026#34;模式行不通了。 未来有两种可能。一种是大模型公司和平台公司，自己雇人来生产内容；另一种是它们分出一部分收入给内容生产者，换取后者向它们提供内容。 无论是哪一种可能，都意味着我们熟悉的互联网形态将不复存在。 点击展开查看更多 确实有道理，前面三点都完全认同，第四点是对未来的预测，我还不确定。\n关于第三点，我个人在日常使用中，已经很大程度上用AI替代了搜索引擎。\nAI相对于搜索引擎的好处是，假如AI的答案是对的话，那么AI的答案的质量明显好于搜索引擎，且不需要像后者那样可能需要查看很多网页才能得到满意的答案。 但是AI也有可能一本正经地说胡话，有些答案似是而非，要经过检查和确认。究其原因，可能是因为AI储存的是相关性，而不是因果关系，有些信息因为经常在一起出现，会被AI当作有关联，但是其实不是我们想要的因果关系。 有时候想看多一些答案或者选项，还是会用搜索引擎。 但是不管怎么说，搜索引擎很大程度上会被AI取代。\n关于第四点，我感觉以后互联网上的内容生产会更多，并且可能还是以用户产生为主。\n互联网刚开始的时候，能够自己码字生产内容的不多，能够生成视频信息的更不多，但是现在随着各种IT工具的出现，随着AI的出现，自己生产文字内容和视频内容的门槛急剧下降，以后的内容应该是越来越多，而不是越来越少，可以参考tiktok/抖音的快速风靡。\n内容太多之后，会出现另外一个问题，无法对内容的相关性及质量进行过滤和筛选，会导致信息过载，反倒也还是不能很高效、快速地获取自己所需的信息。这个有点像网页刚爆发的时候，网页太多，雅虎的分类目录完全不符合生产力的要求，用户完全不知道应该去看哪些，由此导致了搜索引擎的爆发。\n所以，我觉得搜索引擎不会被边缘化，应该还会发挥重要的作用，以后的搜索引擎可以针对各种内容（包括人工生成/AI生成，包括文字、图片、视频）进行搜索。这时候又会有另外一个问题，现在很多平台的内容，都是比较封闭的，比如微信公众号的内容、抖音的视频，怎样跨平台搜索，是需要解决的一个问题。\n","title":"“流量变现正在崩塌”，以及由此的思考"},{"link":"/posts/current_enconomy/","text":"这些想法形成已久，也多次跟人交流的时候提到过，但是一直没有总结过。\n全球形势 - 百年未有之大变局 俄乌战争 俄乌战争，以一种大家未预料的方式，在未预料的时间发生，给全球政治格局带来深远的影响。\n战争初期，俄罗斯的表现着实令人大跌眼镜，打个乌克兰都这么费劲；战争发生至今三年多，俄罗斯的任性也着实令人佩服，基本上是俄罗斯一己之力对抗整个美西方，并慢慢在战场上扩大赢面。最近欧洲似乎有看清了俄罗斯的实力，敢于直接参战的趋势，拭目以待。中国应该不会允许俄罗斯失败，有中国在后方，也足以保证俄罗斯不败。\n中俄关系不出意料继续加强，这是一个必然的结果，也是以后相当长时间内国际关系的一个重要基础设施。\n欧洲非常愚蠢地过于投入地支持乌克兰，跟俄罗斯注定成为世仇，而懂王和美国政界明显也看不上欧洲。所以我曾经乐观估计，欧洲将不得不选择跟中国和解，因为欧洲不能在美国跟他疏远的同时与中俄同时交恶。然而，欧洲卑躬屈膝献身美国的意志被我低估了，所以现在欧洲还是死贴着美国，跟中国的关系比我预期的要差不少。\n欧洲内部两极分化愈演愈烈，法国、德国的右翼政党获得越来越多的民众支持，最近英国也爆发反移民游行。欧洲在对待乌克兰的态度上内部也有分歧。欧洲以后可能会走向分裂，长远来看，欧洲在国际政治上的重要性和影响力会下降。\n中东混战 哈马斯进攻以色列以后，以色列入侵巴勒斯坦，估计要陷进去很长时间。没想到以色列在美国的影响力这么大，以至于美国敢冒天下之大不韪持续支持以色列。\n叙利亚被灭，伊朗被打，卡塔尔被打，没有人说话。中东仅剩胡塞武装，英勇无畏。阿拉伯兄弟们的愚昧与分裂，可能要持续很久，中东的混乱估计也要持续很久。\n印度 印度其实也是一个不可忽视的力量，在巴以空战之后，美国对印度继续加税，现在似乎有跟中国缓和的趋势。\n中美争霸 懂王，注定是一个载入全球史册的人。不是因为三次参选，两次当选，而是他对全球政治、经济的深刻影响。\n懂王第一次上台，作为一个政治新手，（现在看来）贸易战的策略收效不大，对内对外都没有很大的效果。第二次上台之后各项政策的执行情况都远远超出第一届。\n懂王也屡次刷新了一国元首行为的边界，一个真小人，一个真商人。\n美国的各项措施，实体清单、关税，以中国为最重要对手，也覆盖全球其他国家。正在永久性地改变世界政治、经济格局。\n美国的科技仍然强大、领先，但是中国跟进的速度极快，以AI为例，最早的创新是在美国，但是发扬光大并在实际应用中发挥巨大效能的，是中国。中国强大的工业能力，远远超过所有其他国家，这会是中国全球争霸的最主要力量。\n国内 新冠期间很艰苦，大家都觉得熬过去就好了。\n2022年底放开，2023年初几个月，经济快速复苏，公司年初几个月，同比增长超过50%，大家满心期待这样继续发展下去。但是到5月份的时候，各项指标已经扭头向下，各种困难显现出来。\n当时大家以为熬过2023年，2024年应该会好起来。到了2024年，发现没有好转的迹象，好吧，继续熬。当熬到2025年，发现还没有好转的迹象，也没有下行趋势放缓的迹象，整个行业、整个社会的信心，突然受到了巨大的打击。虽然新闻上GDP在持续增长，但是行业内的裁员、倒闭越来越多。\n过去十年的政策，明白无误地让人确信：医保的定位是低价、普惠、基础的医疗保障。\n回看过去的政策，可以看到，医疗保障各个环节，只要哪个环节利润太高，国家就会来挤这个环节的利润：\n药品零加成、药品集采 医疗器械集采 体外诊断试剂集采、带量采购 检测服务招标、检测套餐解绑 除了集采、招标，还有持续的医疗反腐，让医院、医生都不敢有大的动作，医院的采购有极大的压缩。具医院人士讲，医院在这个环境中，也很艰难，盈利情况持续下滑。\n现在每年GDP还在缓慢增长，考虑到新兴行业（新能源、芯片、AI等）行业的快速发展，一定是有很多传统行业在走下坡路才导致整体GDP的缓慢增长。所以有一种说法是现在的现状是“K”型发展，部分新兴行业向上，部分传统行业向下。\n检测服务 具体说到检测服务，招标的价格越来越低。据说公司成立之初，85折的时候生意就很好做，二十年过去了，去年25折中标是很骇人听闻的，现在18折、15折中标已经屡见不鲜。考虑一下，假如一个公司所有的直接成本、人员工资、运营成本，还有坏账计提，都要从这收到的15%里面去支付，有多少公司能提供保质保量的服务，有多少公司能给员工发展机会，有多少公司能保持运营？\n另外，还有更可恶的其实是，公司收到的检测价格这么低，但是医院并不会降低对病人的（尤其是医保内）检测项目收费，检测公司让出的利润，其实去补了医院其他地方的坑。\n过去十年，检测行业确实给临床检测带来了巨大的技术进步和成本下降，而且，作为一个强监管的行业，处在其中的检测公司、风险投资，都经过了高标准的准入和日常监管的考验，经过长期的投入，却并没有得到实惠。究其原因有二：监管的落后与保守，医院极其不合理的绝对垄断地位。具体以后再谈。\n生物技术 再谈谈生物技术。\n我一直有一个观点，在生物技术行业，假如一个国外公司的产品，跟国内公司的产品有代差，那么这个公司可以活得很好；但是，假如产品没有代差，那就过得非常艰难。或者简单说，假如一个细分行业，国内公司已经可以做了，那么这个领域就没啥好做的了。\n远的看一下Thermo Fisher，历史上多少领先的产品，一代测序、qPCR仪器，以及各类酶和检测试剂，都远远领先，但是看看现在，已经裁员好几轮了。\n再看一下Illumina，即使没有自己做死被上了实体清单，也不会有人再买它的仪器了，我自己亲身经历，国产测序仪已经赶上来了，而且测序质量更好，仪器稳定性有待提高，但是illumina的仪器和配件、试剂的质量，也在显著下降。\n据说现在三代测序，国产公司的产品也质量很好了，拭目以待。\n面向未来 国际形势，未来可能会持续振荡，也可能会恶化到世界大战，反正不会再回到长时间的和平年代。 中美争霸，假如美国能认识到中国的实力，认识到中国不可以阻挡，形成二者均势，或者至少要等到一方认输才有可能稳定，才可能会有一段时间的相对稳定。但是长远来讲，我更看好中国，美国的内部问题太多。 检测行业，长期来讲，都不是一个乐观向上的行业，这里面机会不多。 对于个人 只能在检测行业里找一个细分的自己有优势或者短期可以建立优势的领域，低成本投入进去，看是否可以做成一番事情（不敢用“事业”二字）。 在检测行业之外，尤其是可以直接面向用户（消费者或者公司）的领域，假如有其他可能性，也积极去探索，去尝试。 ","title":"对当前经济形势的一点思考"},{"link":"/posts/744d7b0/","text":"偶然看到的一封抗战家书，常德会战周致远致未婚妻林绣英书：\n绣英妹：\n今夜炮声暂歇，借烛光写此信，恐是最后之言。你我订婚三载，原定今冬完婚，然倭寇犯境，致远身为军人，唯有先国后家。若不幸战死，请将订婚玉镯退还家母，另附箱底压着的二十元法币，权当误你青春的赔礼。\n昨日巷战，我排兄弟以刺刀搏杀日军七人。血溅长街时，忽想起你说最怕见血，竟笑出声来\u0026ndash;我如今满身血污，你若见了定要晕厥。\n城破在即，师长下令“与常德共存亡”。我已在胸前缝入你绣的平安符，黄泉路上也算有个念想。\n来生若逢太平年，再与你共看沅江桃花。\n民国三十二年十一月廿八夜\n周致远 绝笔\n","title":"常德会战周致远致未婚妻林绣英书"},{"link":"/posts/%E8%92%8B%E4%BB%8B%E7%9F%B3%E4%BC%A0/","text":"怎样登上权力中心 与我们这个时代的其他军人政治家一样，蒋介石是个无所畏惧的人，无论是在心理上还是精神上都是这样。\n在决策时他虽然有时会略前顾后，但一旦作出决策，他就会毫无顾是地以惊人的速度加以实施。那些向他挑战的人都一个个先后被处死或投人牢狱。\n在军事谋略方面，蒋介石受过良好的训练，久经沙场，但他只是一个战术家而非战略家。他的真正天才是善于搞政治阴谋。观其一生，他总是使各个派系互相敌视，对自己的追随者也是疑心重重。\n。。。他的同学们认为他傲慢。不过他对一个人是例外，那就是张群—他是蒋介石当时的同学，并赢得了蒋介石的终生信赖。除了蒋夫人和蒋经国外，张群要算蒋介石最亲密的知己了。\n他的领袖天赋是无可非议的，但良好的判断并不能说明一切，他对军事和战略的分析在地缘政治方面不无道理，但他对政治的领悟还远远不够，他主要是从军事上来理解权力，而一旦他靠操纵他人对自己的忠诚来行使权力时，他就将自己的那种对政治的理解如实地、毫不掩饰地付诸行动。最后，他也就无法理解权力赖以维持的社会和政治因素。\n他最终失败的原因盖源于此。\n在7月9日的第二封信中，蒋介石抱怨情况越来越糟，他“身心憔悴”，有些地区土匪活动猖獗，但由于部队纪律涣散，内部派系斗争严重，他们根本无力对付土匪。为避免人们指责他迷恋官职，喜欢投机，蒋介石决定辞去第二支队司令一职。\n在蒋介石的生涯中，每当形势不能如他所愿时，他就以辞职的方式来以退为进。他多次辞职，试图以此来证明他是不可缺少的，其结果也往往是他一旦复出，职权就会更大。 这次孙中山和陈炯明再三挽留，但蒋介石都予以拒绝。\n6月16日，陈炯明倚仗北洋政府在政治和军事上的支持，公然派他的部队炮击孙中山的官邸，企图谋害孙中山。\n这时，蒋介石还在上海，他后来回忆说，陈炯明曾向他的部下许诺，如果能杀死孙中山，则犒赏20万美元，他还要洗劫广州城三天。\n孙中山坚持到最后，只是在他的同志们的劝说下才离开广州。在广州的大街上，他一度与叛军相遇，但侥幸的是未被认出来，孙中山逃到停泊在黄埔港的“永丰”号军舰上。\n尽管孙中山不听蒋介石的劝告，以致到了今天这样的处境，但蒋介石如果不忠诚于孙中山，他也将一文不值。\n蒋介石闻讯立即由沪南下，继续追随孙中山。他们在舰上待了56天。舰上闷热难熬，又缺乏食物和淡水。一到晚上，蒋介石就上岸寻找食物，天亮则回到舰上睡觉或在甲板上警戒。\n他们没有很快乘舰离开，因他们寄希望于蒋的同事许崇智率领讨伐军打败陈炯明。但是，他们的希望落空了。8月6日他们得到许战败的坏消息。7日，他们又得知详细情况。两天以后，他们的内线报告有人要阴谋杀害孙中山。终于，这艘英国军舰同意将孙中山及其不多的追随者送往香港，再从那里去上海。\n蒋介石曾拒绝在军校工作以表现他似乎对此漠不关心，然而一旦他开始从事这项工作，他便倾注了极大的精力。很明显，黄埔军校校长这一职务是他获取大权的一个台阶。\n在当时，蒋的资历以及政治上的天生弱点使他还不能进入更高的国民党政治决策机构，不论人们是征求他的意见还是仅仅采纳他的建议，他的主张都不可能被当做命令来执行，但作为被任命来训练未来的国家军队的人，他的影响则在逐步扩大，他至少已开始组建一支军队，使之听命于实际存在的中央权威，而不是满足某个军阀的强权和贪婪。\n很难说那时候蒋就考虑在短期内攫取个人最高权力，因为孙中山仍健在，而且只有58岁，相对而言还是年轻的。\n学员们肯定都被相互对立的学说弄糊涂了。共产党人在给学员讲课时带来的是热情和苏维埃式的作风，国民党则有很多人忙于宣传孙博士的新思想。\n然而在国民党这一边，已存在明是的意识形态不统一的迹象。\n军校的政治委员廖仲恺代表了左派，他们热心于同俄国人和中国共产党人进行全面的合作。国民党宣传部长汪精卫是中间派人物，他最先组建国民党，支持与俄国人联系，是因为孙博士倡导这样做。而保守的右派胡汉民则公开反对这样做。\n蒋介石的立场是模棱两可的，而且使其同事们颇感困惑。在赴莫斯科之前，他满腔热情地与布尔什维克合作。他从俄国回来后改变想法这一事实几乎无人知晓。\n孙中山忽视了蒋的具有相反意见的赴俄考察报告，廖仲恺也未重视他的来信。这时，他还未决定公开反对共产党人，他仍然亲近地同俄国人共事，特别是加伦将军。因而他通常被看做是左派阵线中的一员。\n在孙中山逝世后，国民党内部展开了一场争郁继承权的斗争。在开始的时候，蒋介石算不上一个真正的竞争者。\n一方面，人们认为他太年轻了，他当时还不到40岁，另一方面，他是一个军人—一而不是一个搞党务的人（尽管他是一个党员）。\n汪精卫、胡汉民和廖仲恺三人则是真正有实力的竞争者一一孙中山对他们三人几乎都给予了同样的信任。此外，他们三人还有一个有利条件，他们都是广东人，这一条是蒋介石所欠缺的。人们都知道孙博士对他的广东同乡较为偏心，他与大多数广东人一样，认为自己的同多比其他省的人更聪明更富于革命性，那些不幸的外省人免不了在孙中山的背后议论说他不能摆脱“老乡观念”。\n汪精卫后来由于在1937 ~1945年中日战争期间与日本人合作而在中国历史上留下了恶名，他在日本人手下担任傀儡政府主席的职务，从此他被冠以 “汉奸”、“傀儡”之类的称呼。\n但在20世纪20年代，汪精卫被公认为是一个有献身精神的革命者，他曾在1910年试图刺杀清王朝的摄政王并因此而受到监禁。革命发生后他才重获自由，从此他身上就笼罩着某种神圣的光环。在三个竞争者中，他是唯一一个陪孙博士北上的人。在孙中山弥留之际，由汪精卫负责起草了他的政治遗嘱，该遗嘱经孙中山修改后于 1925年2月20日被抄录下来。由于汪精卫后来背叛祖国，有些国民党人又试图对这份遗嘱提出疑问，但这份遗嘱只不过表达了孙中山希望自己的追随者要继续自己未竟的事业这一愿望，它并没提谁是孙中山的继承人，怀疑汪精卫伪造了这份文件的想法是没有根据的。\n在中国，年纪大的人比年轻人更受尊敬。汪精卫的一个不利之处在于他是三个竞争者中最年轻的一个。他在公共场合总是强烈支持与俄国人进行合作。因此，人们认为他是个左派，但他从未明确表示过他有什么特别的原则。\n廖仲恺则是一个更富有献身精神的左派，右翼的国民党人怀疑他是一个共产党的秘密党员（尽管他们并没有掌握任何有力的证据），他曾受孙中山的派遣，到日本与苏联代表越飞就国民党与苏联合作一事进行过长达一个月的会谈。\n第三个竞争者胡汉民是一个保守派。他对俄国人抱有很深的疑虑。胡汉民有着光菜的革命经历，因为他过去一直都在协助孙中山进行革命工作，他曾在香港编辑出版一份报纸并因此而闻名全国。胡汉民是一个学者，曾担任过孙中山的秘书——汪精卫也偶尔干过这工作。比起另外两个竞争者来，胡汉民还有一大优势，那就是孙中山在起程前往北京之前曾任命他为代理大元帅。\n当时的竞争局面就是这样的，但蒋介石这匹黑马却取得了最后的胜利。\n中国当时还发生了两起流血事件，从而进一步激起了中国人的仇外情绪。当外国人得罪了中国人时，国民党总是能从中获益。这一次俄国人也成了受益者，因这一次他们没有与帝国主义列强同流合污。\n英国人把这两次发生的事称为“事件”，而中国人则称之为“惨案”，这牵涉到谁是受害者的问题。\n第一件是“5月30日事件”（或者说是中国历史学家所称的“五卅惨案”），英国军官指挥各国巡捕向上海的示威群众开枪射击，当场打死了很多人。鲍罗廷得知了这个消息之后说：“我们没有制造五卅惨案，这是别人送上门来的礼物。”\n第二件是“沙基惨案”（或者说“沙基事件”）。6月23日，一艘停泊在广州英国租界旁边的法国炮舰向正在就“五卅惨案”举行示威的群众开炮，英国人则用机枪进行扫射，造成了很多人的伤亡。而大约在10天前，也就是6月12日，蒋介石刚刚从云南和广西军阀手中夺回了广州，粉碎了这两个地方的军阀企图利用孙中山的逝世而夺权的计划。\n当时的广州明显地笼罩着一种对外国人既恨又怕的气氛，其中又混杂着一些胜利的喜悦情绪，因为这时国民党正要进行重新改组，它所控制的地盘也有所扩大。国民觉的大元帅府也改称为“国民政府”，这样听起来就显得更正式一些了。所有忠于国民觉的军队现在也改称为“国民革命军”。1925年7月1日，国民党选出了一个 16人的委员制的国民政府和一个8人的军事委员会。汪精卫当上了这两个委员会的主席。在大多数人看来，汪精卫这时明显地被推上了孙中山的继承人的位置。\n。。。。。。\n尽管汪精卫偏向左派，但他同时也为国民党右派所接受。正因为他是左右两派都可接受的人物，才使得他在竞争中压倒了胡汉民和廖仲恺而夺得主席的宝座，尽管他比他们两人都年轻，胡汉民为左派所僧恶，而廖仲恺则得不到右派的信任。不过，这两人也都当选国民政府的委员和军事委员会的委员。蒋介石也当选为军事委员会的委员。\n清王朝被推翻后，谋杀和背叛在中国成了司空见惯的事，1925年8月25日，廖仲恺被人暗杀，毫无疑问，暗杀是右派分子策划的。胡汉民的堂弟胡毅生也是暗杀的策划者之一，此事令胡汉民十分难堪。\n鲍罗廷认为胡汉民与此事也有牵连，由于胡毅生已经逃跑，因此鲍罗廷要求惩罚胡汉民，但蒋介石和汪精卫都不相信这一指控。蒋介石还将胡汉民藏在自己的家里。不久，胡汉民被有意派到苏联去执行一项特别使命，这在某种程度上算是对他的一种奇怪的惩罚。由于此事严重地削弱了国民党右派在党内的地位，一批右派离开广州，到上海或北方去另起炉灶。\n此事使得汪精卫在党内的竞争中处于领先地位，蒋介石则紧随其后。\n但情况并不这么简单。军事部长许崇智当时是蒋介石的上级，尽管他不是一个积极的竞争者，但他的存在对蒋介石可能抱有的政治野心仍不失为一个障碍。在廖仲恺被暗杀后，国民党成立了一个处理军政事务的特别委员会，许、汪、蒋三人是这个特别委员会的“三巨头”。\n接下来的是进一步的钩心斗角。人们后来发现，许崇智与被击败的客家人陈炯明将军保持着秘密接触，而且他手下的军官也与廖仲恺一案有牵连。\n9月20日，蒋介石率领他手下的黄埔军校学员突然解除了许票智部队的武装，而这些部队后来被并入蒋介石的第一军。\n第二天，许崇智被解除了军事部长的职务，并被剩夺了对粤军的指第权。他还被从广州驱逐到上海。现在，竞拿国民党最高领导人的对平只制下蒋、汪两人了。\n。。。。。。\n接着便是“3 20事件”（“中山舰事件”）。\n蒋声称中山舰开到黄埔，“是共产党的一个阴谋”，他以广东警备司令的名义宣布了戒严令。\n根据他的命令，25名共产党员被逮捕或受到严密监视，其中包括周恩来。1926年3月20日凌晨3点，在广东有更多的人遭到逮捕。1925年6月20日“沙基事件”后，为支持全面罢工而成立的由共产党领导的省港罢工委员会武装纠察队，这一次也被缴械。军队进驻总工会和中山舰，苏联顾问被软禁。\n由于完全没有准备，蒋对共产党的突然袭击是毁灭性的。中共和俄国人都没有事先觉察。冯玉祥到达莫斯科两个月之后，有人告诉他，在蒋早些时候访苏时，给人的印象是比俄国人所见到的其他中国人还要左，还要革命，“320事件”使俄国人和在莫斯科的中国人感到惊讶。冯写道：“他们无法想象出发生了什么事。”\n非常突然的是，汪以中国特有的方式承认在这次间接的权力斗争中的失败。[1] 作为一个糖尿病患者，他对紧张局势感到厌倦。21日，蒋试图给他写信，但又不知从何说起。蒋在日记中写道：\n“我既不想对朋友虚情假意，又不能够向他倾吐肺腑，所以，很难下笔。”22日，由汪主持召开政治委员会，会上他以使蒋感到奇怪的热情认可了蒋的行动。\n第二天，汪失踪了，表面理由是治病。后来，汪在一封给朋友的信中道出了事情的真相：“我受到怀疑和厌恨，所以，我再也不想承担政治责任了。”5月份，胡汉民从俄国回来不久，汪精卫便去了法国，他在那儿待了一段时间。蒋向他道歉并请他回国，但汪深感伤害、差辱、不可谅解，依然沉默地待在那里。\n这样一来，蒋成了国民党中占压倒优势的人物。在他的对手中，一个死了，另一个由于受到怀疑而漂泊海外，还有一个也将受到驱逐。\n蒋曾在日记中表示他不喜欢政治，他写道：\n“政治使人过狗一般的生活……道德何在？友谊何在？”但是不久表明，在政治权术方面，他是一个“进步”很快的新手\n在蒋对俄国人和中共的打击中，右派看到了希望。但是，蒋给他的学生的一封信打破了他们的这种希望。他写道：“孙先生认为，容纳共产党是我们的革命原则。我也认为，如果不容纳共产党，革命战线就不能统一。”他警告右派，他仍然认为“西山会议”是个错误。\n事件的发生表明，蒋自从访苏以后，就一直是一个反共者。\n但蒋自己在叙述这些事件的时候很谨慎，没有提到这方面的内容，这样他就可以不对自己的矛盾行为作出解释了。从当时的情况来看，如果蒋要担任国民革命的领袖，而他的北方对手又依赖其他势力的话，那么他仍然需要苏联的帮助。因此，蒋当时还不能完全和共产党与俄国人闹翻\n另外，右派领袖胡汉民即将从俄国回来，蒋从左派那里抓到了领导权，也不会把它交给右派。事实上，当胡汉民5月份从俄国回到广东时，就没有被安排任何职务，他在广东待了几天就到上海去了。\n蒋在采取镇压行动以后，又表示要改善“和共产党之间的关系”。4月29日，鲍罗廷回到广东同蒋进行了多次会晤。5月15日，蒋介石召开中央执行委员会紧急会议，他第一次主持了会议。在紧张的气氛中，通过了一项在党内限制共产党的新规则，鲍罗廷对此没有提出反对意见。\n蒋极为老练地扩大了自己的战果，他甚至通过解散“孙文学会”来表示他的“让步”。然而，共产党却丧失了许多席位。毛失去了在宜传部1的职务（允许他继续保留农讲所负责人的职务，在那里他继续培训农民鼓动者，后来打败了蒋介石），另外两名共产党员也被解除了重要职务。\n4月初，蒋向国民党提出了一个关于北伐的详尽计划。6月5日，他被任命为北伐军总司令，在此前后他还被选为中央执行委员会主席和国民政府军事委员会主席，并担任国民党中央组织部和军事部长。\n^[1］在“中山舰事件”中，蒋不仅还陷共产党人，也诬陷汪参与此事，汪因此受到打击。\u0026ndash; 译者注\n蒋的统治为什么不稳 蒋介石自己及外界认为，他在1928年年底已经取得了中国的“统一”。然而，这只不过是一个残酷的假象。\n这一假象表面显得堂而皇之，并给人留下深刻的印象，但如果仔细观察一下，就会发现它实质上并没有什么真东西。\n蒋介石率军北伐一事深得民心，这使得许多敌对部队及其将领都投到他的麾下。但是这也带来了这样的问题：尽管蒋介石为了保住自己的权力而不时与各地的军阀进行激烈的战斗，但他却从没有真正地控制他的对手或征服他们的地盘。\n他们只是以一种中国传统的方式承认蒋介石比自己强大，因而才决定顺风转舵。这就是蒋介石在战场上为什么能够推进得如此迅速以及国民军能在1928年号称拥有200万人，比最初的10万人增加20倍的原因。\n尽管从严格的意义上说，佛朗哥对西班牙的征服与蒋介石对中国的所谓征服是不可比的，但如果将这两者之间的不同列举出来，也不无益处。\n佛朗哥经过了差不多32个月艰苦和血腥的战争才成了整个西班牙的主人，而蒋介石只花了12个月时间\u0026ndash;其中头9个月是在1926年和1927年之间。随后是一个政治上的休战时期；后3个月是在1928年4月至6月就“征服”了面积比西班牙大7倍的中原。\n佛朗哥消灭了自己的敌人，在战场上击败了他们，并将残余的敌人流放或处死，而蒋介石却满足于对手们形式上的屈服。\n北伐开始之前的中国与1928年年底的中国之主要不同在于，那些原来与国民党为敌的军阀后来都声称自己是国民党党员。在大多数情况下，这些军阀在自己的地盘内仍保留着原有的权力。\n由于蒋介石急于迅速取得成功，因为这会给他带来一时的荣耀和威望，所以他忽视了在一个封建的国家里进行领士征服所应注意的唯一正确的原则，那就是：他应该除掉那些最初反对他的人，用自己选定的人来代替这些人，而新选出的人应该忠于新生的民国，并忠于民国首脑蒋介石。\n蒋介石未能取得对地方的实际控制权，他很容易就满足于地方军阀对他的毫无意义的效忠，这是他判断上的最大失误。\n在后来的岁月里，蒋介石的权威多次受到地方军阀的挑战。虽然蒋介石总是胜利者，但这些接连不断的地区战争消耗了他的力量，并使他无法集中注意力来处理中国真正面临的问题。与此同时，中国共产党的根据地正在日益扩大。此外，从1931 年起，蒋介石还要应付日本侵略者所造成的巨大威胁。\n1929年，蒋介石试图通过裁军来削弱地方军阀的势力，结果引起一场危机，这使他深切地感到自己权力之有限。其他任何事都不曾像这使他清醒地认识到这一点。【由此造成了桂系的不满及后来起兵、兵败、下野】\n毛泽东后来告诉埃德加·斯诺，共产党没有和福建军队联合起来，这是当时所犯的一个重大错误。\n事实的确如此，如果他们联合起来，将比各自为战给南京政府造成的威胁更大。\n最后，对蒋介石的一生进行总结，蒋介石有自己的勇气、精力和领袖品质，他不仅是一个有很大缺陷的人物，而且从希腊悲剧的意义上讲，他也是一个悲剧性的人物。\n他的悲剧是他个人造成的。\n","title":"蒋介石传-布莱恩克罗泽"},{"link":"/posts/software_philsophy/","text":"设计原则总结 以下是本书讨论的重要的软件设计原则。\n1）复杂性是增量的：你必须在细枝末节上下功夫（见2.4节）。\n2）能工作的代码是不够的（见3.2节）。\n3）不断进行小额投资，改进系统设计（见3.3节）。\n4）模块应该是深的（见4.4节）。\n5）接口的设计应使常见情况尽可能简单（见4.7节）\n6） 模块的简单接口比简单实现更重要（见第8章和9.7节）。\n7）通用模块更深（见第6章）。\n8）将通用代码和专用代码分开（见6.6节和9.4节）。\n9）不同层应有不同的抽象（见第7章）\n10）降低复杂性（见第8章）。\n11）定义错误不存在（见10.3节）。\n12）设计两次（见第11章）。\n13）注释应描述代码中不显而易见的内容（见第13章）。\n14）软件的设计应该便于阅读，而不是便于编写（见18.2节）。\n15）软件开发的增量应该是抽象概念，而非特性（见19.2节）。\n16）把重要的东西和不重要的东西分开，强调重要的东西（见第21章）\n警示信号总结 以下是本书讨论的一些重要的警示信号。系统中出现任何这类表现，都表明系统设计存在问题。\n浅模块：类或方法的接口并不比其实现简单多少（见4.5节和13.5节）。\n过度暴露：应用程序接口迫使调用者了解很少使用的特性，仅仅为了使用常用特性（见5.1节）。\n信息泄露：一个设计决策反映在多个模块中（见5.2节）。\n时序分解：代码结构基于操作的执行顺序，而非信息隐藏（见5.3节）。\n直通方法：一个方法除了将其参数传递给另一个具有类似签名的法，几乎什么也不做（见7.1节）。\n重复：不重要的代码片段重复出现（见9.3节）。\n专用-通用混合：专用代码与通用代码没有明确区分（见9.4节）。\n连体方法：两个方法有很多依赖关系，如果不理解其中一个方法的实现，就很难理解另一个方法的实现（见9.7节）。\n注释重复了代码：注释中的所有信息在注释旁边的代码中立即就能看出来（见13.2节）。\n实现文档污染了接口：接口注释描述了用户不需要的实现细节（见13.5节）\n含糊的名称：变量或方法的名称过于不精确，无法传达太多有用信息（见14.3节）。\n难以取名：很难为一个实体取一个精确而直观的名字（见14.3节）。\n难以描述：为了完整，变量或方法的文档必须很长（见15.3节）。\n不显而易见的代码：代码的行为或含义不容易理解（见18.2节）。\n","title":"软件设计的哲学"},{"link":"/posts/%E9%87%91%E9%92%B1%E5%8D%9A%E5%BC%88/","text":"感觉以流水账为主，有意思的不多。\n投资者的素质 假如问我一个成功的投资者需要具备什么素质，我能想到的第一个要素就是善断。有人说勤奋最重要。我认勤奋是第二位。因为如果判断失误，那么勤奋只能是徒劳或适得其反。这就像跑超级马拉松，方向错了，累死了也白搭。 …… 多谋善断和锲而不舍是成功的必要条件，但仍然不够。用经济学的话来说，仅此还不构成足够条件。有一个条件时常能决定投资结果，却完全不可控，那就是运气。有时，投资者让自己的成功冲昏头脑，志得意满，以为全是因为自己的本事，却完全没有意识到自己的成功也是和运气分不开的。这样的人往往越来越敢于冒险，最终可能因为好运不再而吃大亏。 …… 如果认识到运气也是投资成功与否的一个重要因素，投资者就会少一些自以是，多一些谦虚谨慎。谦逊的人通常很慎重，小心防范风险，如此会避免重大失误。少犯错才能保证长期投资成功。\n投资的最佳时机 大卫·庞徳曼先生对我说：“从历史经验来看，当到处布满危机之时，也是投资的最佳时机，但成功的条件在于能够设计好交易架构。”\n这当然需要长期积累的专业知识和能力。历史证明，他说得一点儿都没错。\n为对方着想 在任何重大交易中，都需为对方着想，否则很难谈拢。\n大使的服务 无论如何，“双方将很快恢复谈判”。他（韩国金监会主席，对新桥收购韩国第一银行有影响力）告诉（美国驻韩国）大使。\n大使让李宪宰放心，新桥声誉良好，曾使许多公司扭亏为盈，完全有能力扭转韩国第一银行的经营。\n时隔多年，我回想起来，深感美国外交官的影响力。新桥是美国公司，得益于此。汇丰银行是英国公司，我估计英国就没有这种影响力。美国的大使馆将美国公司提供服务视工作职责的一部分，尽心尽力帮助，不是我们去找他们，而是他们找到我们，主动帮忙。从我的经验来看，这不光是在韩国，在中国也是如此。几年后，我率领的新桥团队收购深圳发展银行，美国驻华大使也是关怀备至，还主动出面拜会监管部门，表示重视。如果一个国家的外交机构和外交官为本国的公司服务到这种程度，岂非很好地维护了本国的利益？这段体会，在本书的英文版中没有，行文至此，与中文版的读者分享。\n沟通的有效性的关键 沟通的有效性在于点到为止，说得越多，能够记住的就越少，能够复述的就更少。\n尽量采用对方的行文和语言 但是他建议在回复金监会的时候，我们应该尽量采用对方行文的方式和语言，这样他们会认为我们认真考虑了他们的建议，比较容易接受。他还建议避免使用新术语或引人新概念。比如，他注意到金监会不喜欢“灰色池”这个词，建议我们换一种说法，“尽量使用他们的词汇”。\n我赞同他的建议。他毕竟是一名老资格外交官，懂得如何在不违背原则的情况下让对方感觉良好。\n","title":"金钱博弈-单伟建"},{"link":"/posts/%E5%85%B3%E5%B1%B1%E5%A4%BA%E8%B7%AF/","text":"人生怎么开始 你若问人生怎么开始，乡中父老说过一句话：小孩子是骗大的。李仙洲没骗我们，所以我们还没长大，李仙洲失势了，没法再照顾我们，我们在山场里等着挨骗。\n行骗 后来才知道，抗战八年，军事第一，国民政府开出多少空头支票！各地军政当局从未因为欺骗人民受到处罚，即使是严重的陷害。我们总算幸运，没有受害，也正因为太幸运，不知道防范。抗战虽然胜利了，国民政府还得准备内战，罗网依然张开。如何使骗术得逞，考验吴连长的才能，也关乎他的荣辱穷通。他的快乐要建筑在别人的痛苦上。\n你如果行骗，必定骗最相信你的人，骗一向朝夕共处的人，骗曾经倾心吐胆的人。有一个人欺骗他的朋友，受骗者抗议：“我们是朋友，你怎么可以骗我？”他得到的回答是：“正因为是朋友，我才骗得到你。”这是定律，政府也得受它支配。所以公务员、军人、青年学子受害最大。政府只好打击拥护它的人，削弱它的基础，饥不择食，蜻蜓咬尾巴，自己吃自己。\n我后来知道，骗子得手以后逃走了，消失了，他再也不会和你共同相处，你没有机会追究报复，可是“国家”不同，国家无计可逃，无处可藏，它永远面对被骗的人，还等着被骗的人对它效忠，为它牺牲。种种昨日，“国家”大而化之，难得糊涂，被骗的老百姓可是刻骨难忘！\n到了关键时刻，这些人若是士兵，只要每次战斗每个人少放一枪，敌人就脱逃了，若是公务员，只要每个人每天积压一件公文，民怨就增加了；街谈巷议，只要每个人传播一句流言，民心就涣散了。这也是你应得的惩罚。\n也许政治人物命中注定要说谎，拿破仑承认，他在公众之前没说一句老实话。抗战八年，每一个相信国家许诺的人都受了伤，都正在护理谎言重创后的心灵，而中共新兴乍起，犹能以遥想的理想铸造钢铁骑士！我写这篇文章的时候，美籍华人小说家哈金的《战争垃圾》（Far Trash）出版，描写“朝鲜战争”后的劫余人物，哈金对我说，他喜欢人家把这本小说的名字译成《战废品》。中国对日抗战制造大量废品，但中共养精蓄锐，国共内战可说是废品对新品的战争。\n虽不光明，仍然磊落 不经一事不长一智。原来劝酒出于郑排长安排，趁我没注意，他离座走进屋去检查我的书包，取走我的毕业文凭。他以为我没有文凭就没有其他出路，也就没有脱队的动机，我的态度可能左右其他同学。经他导演，这些同学都做了称职的演员。我同甘苦共患难的伙伴啊！不经一事，不长一智，后来我到台湾，又遇见美酒当前唯我独尊的场面，一伙平时自视甚高的人忽然谦虚和蔼，我就料到是怎么一回事了。\n郑排长虽不光明，仍然磊落，我们接受新兵训练一个多月的时候，他忽然来到营房探访我们，他只说来看看大家，没有一句八股，然后他掏出那张文凭当众还给我，说明他为什么扣下我的文凭。\n山外山中 山中人腿短，个子细小，像山上的苦竹，他们爬山太多，脚趾抓者鞋子生长。男女都穿自己染色的粗布，黑如铁片。七岁八岁的孩子光着屁股，但是眉清目秀，看了觉得“疼”爱。他们沉默，不问山外事，我们喧哗，不问山中事，彼此面对面，中间隔着无形的山。\n老百姓 夜间紧急集合是一个完善的样本。紧急集合号声，把大家从梦中惊醒，穿衣服的时限是五分钟，动作慢一拍的人要挨打，罪名是“老百姓”。有人匆忙中把裤子穿反了，并不惊怕，好像挺有幽默感，该打，罪名是“老油条”。有人担心自己来不及，穿着衣服睡觉，该打，罪名是“神经病”。老百姓，老油条，神经病，班长每天动手动脚，念念有词。\n尤其是“老百姓”，这一条是每个新兵的原罪。班长打一下，骂一声活老百姓，打一下，骂一声死老百姓，好像和老百姓有深仇大恨。\n兵士来自民间，带着民间的习性和身段，也许和军事训练的目标相悖，但是你不该因此污辱老百姓，不该借此丑化老百姓，以致教育出几百万卑视百姓、欺凌百姓的官兵来。\n也就是这个时候吧，八路军走出解放区，蹲在收复区农家的灶门，亲亲热热叫声老大娘老大爷：“八路军把鬼子打退了，蒋介石要下山来摘桃子……”\n以我亲身体会，那时国军士兵所受的训练，要把“兵”从百姓中分化出来，与百姓对立，以百姓为耻。这样的军队怎么能得到老百姓支持。一九四九年，那时国民政府已吞下一切苦果，我到台湾卖文为生，下笔东拉西扯，不知轻重。我给具有军方背景的《扫荡报》副刊写了一篇文章，直陈军中不可把 “老百姓”当做骂人的话使用。\n提起千斤，放下四两 班长们常说，你的事到了我的手里，要多轻松有多轻松，要多严重有多严重，这叫“提起千斤，放下四两”。多谢那些班长给我启了蒙、开了给，五十年代的台湾，政府以“白色恐怖”安内，许多事不可以常情常理度量，我把千斤四两的心法传给好几位朋友，帮他们趋吉避凶。据说，殷海光教授听到这八个字，嗟叹久之，他把这八个字转换成学术用语，称为“不确定感”，并附以英文原名。他在一篇文章里说，国民党用“不确定感”统治台湾。\n法律用语 【宪兵学法律】“本法所称以上以下俱连本数计算”，七年以上和七年以下都包括“七年”在内，不留漏洞。这些文句，我看一遍就能背诵，也了解为什么这样写，它们影响了我的文字风格。\n这个跟大陆现在的法律一样，法文的“以上”、“以下”都含本数。\n","title":"关山夺路-王鼎钧"},{"link":"/posts/%E6%80%92%E7%9B%AE%E5%B0%91%E5%B9%B4/","text":"从此天涯海角，再无归路 这一年，鲁籍名将第二十八集团军总司令李仙洲，率九十二军驻扎安徽阜阳，就地成立 “私立成城申学”（不久改称国立第二十二中学），收容山东逃出的流亡青年。阜阳离我家五百华里，那时交通不便，人们又安土重迁，我的家乡兰陵镇一带没人去过阜阳，没人听说过这个地名。只因为李仙洲是山东长清人，山东老百姓相信他；只因为我的二表姐已经早走一步，人学读书；只因为那时基督教掩护抗日青年，而我家是基督徒。所以我在这年夏天也到了阜阳，从此天涯海角，再无归路，山东，临沂，兰陵，永远只能在地图上寻找。\n人人以为殊途同归，谁能料到这一步跨出去，后来竟是刀山血海，你死我活 七七事变发生后，有一个青年对他的母亲说：“我已经十八岁了，不应该留在家里，我要去参加抗战。”母亲非常感动，问他打算跟谁一起。\n他说：“我去参加八路军，您看好不好？”母亲说：“很好！很好！”动手儿子准备行李。\n三年以后，这个青年的弟弟对母亲说：“我也十八岁了，我要去参加抗战。”\n母亲非常感动，问他打算跟谁一起。\n他说：“我去参加中央军，您看好不好？”母亲说：“很好！很好！”动手为儿子准备行李。\n可怜的老百姓，可爱的青年，他们怎能预料，他们以后用很多很多时间互相厮杀。\n那时，有人到大后方（后来叫做国统区），有人去解放区（当时也叫共区），大半由因缘决定，人人以为殊途同归，谁能料到这一步跨出去，后来竟是刀山血海，你死我活。中华人民共和国成立以后，二十二中的老同学屡次受到严厉的责问；你当年为什么不投奔解放区？被问的人哑口无言，因为它实在没有答案。\n一九八零年，中国对外开放，内战期间逃出来的人回乡探亲，回首三十多年，家乡的亲人少者已壮、壮者已老、老者已死，历劫余生悲愤怨恨，责问归人：你当年为什么投奔国统区？这一问，只有一把鼻涕一把泪，也没有答案。\n你到重庆去打听打听，来封信告诉我，他（汪精卫）到底是真汉奸还是假汉奸 探亲证明的大标题是“良民通行证”，铅印，重磅纸，纸面发亮，拿在手里哗哗响，精神一振。那巡官跟我谈汪精卫，汪在一九三九年投奔日本，成立另一个国民政府。汪是中华民国开国元勋，是追随中山先生的革命先进，他怎么会当汉奸？有人猜测，汪在抗战局势最恶劣的时候有此一举，是国家设定的计谋，汪蒋两人之间有默契，他这个汉奸是假的。这猜测在沦陷区流行，使下水当汉奸的人也可以有一番说群。那巡官说；“我认为汪先生不是汉奸，我才跟着汪先生走。你到重庆去打听打听，来封信告诉我，他到底是真汉奸还是假汉奸。”\n我没能替他办到，他太高估了我。也许他并不真正需要答案，只是向我，向一个到大后方参加抗战的人表明心迹，尽管我还是个孩子。看来汪精卫还是发生了作用，使做汉奸的人有个道德立场，对人对己，有个交代。\n女学生 （由日伪区奔赴国统区读书）带我同行的是两个女学生，她们到重庆去读大学。依照计划，我和她们过涡河以后分手，她们向西，我向南。\n女学生是一个变数，我惴惴不安。当年，女学生这个名词的含义，今人很难体会。\n那年代，在我们家乡，“女学生”一词的含义比现在复杂。读小学读初中的女孩只是“女生”，不是女学生。带职进修或退休后再读大学的白发女学士从来没有，至少是没人见过。所谓“女学生”，通常是泛指由高中到大学，十七八岁到二十出头。那时女子能受高等教育，必定是家里有钱，家长的思想也开明，有这种背景的女孩子多半漂亮。\n那时读大学同时是一种享受，有音乐、有体育、有社交，这些女孩子多半明朗可爱。那时候，“女学生”一词中有个什么样的形象，可以想见。\n所以，那年代，女学生在眼前出现是一件大事，使女人嫉妒，男人窥伺，使男人女人都放下手里的工作想一想自己的命运。那年代，某一支游击队攻打日军防守的城池，指挥官发明了一句口号：“打进xx城，一人一个女学生”，每个人都知道绝对不会这么办，可是仍然提高了士气。眼前的这两位女学生敢闯封锁线，敢闯大后方，不怕道路坎坷、人心险恶，了不起，可是我找人同路原是图个安全，与女学生同行，岂不等于伴着两枚炸弹\n既而一想，此行本来就是冒险嘛！怕什么？最危险的事情最简单！\n为的是证明他也支持抗战 我要慎重地记下来，最后越过封锁线的时候，全靠女学生的机智和勇气，化险为夷。详细经过我写进小说体的《山里山外》第一篇，大致情形是，检查哨所的伪军早就识破我们的行藏，等到行人过尽，夕阳西下，由一个上校来亲自处理，我猜检查哨的勤务由他指挥。我们编好的谎话，他摇头不听，我们提出的探亲证明，他摆手不看，一定要我们实话实说，才肯放行。可是，说了实话真能过关吗？万一结果相反呢？当时的情况危险极了，可是也简单极了，拖到不能再拖的时候，那位漂亮的女学生在上校耳旁悄悄说了一句：“我们是到阜阳升学的学生。”\n后来，女学生说，反正那句话别人听不见，只有“他”听见，如果“他”翻脸，我就赖。真想不到，上校很爽快：你早说这句话，不早就过河了吗！他真的听到实话就放行，他这样做，为的是证明他也支持抗战，身在曹营心在汉。\n现在我追忆前尘，感念那位同行的大姐，不知道她们进了哪家大学，是否顺利完成学业，后来天下大乱，她们是否仍能逢凶化吉。\n被征服者的反叛 我也常常想起那几位汉奸，他们分裂的人格，可有小说家费心描写？后来知道，南京汪精卫政权的要员，大都和重庆的国民政府通气，重庆派到上海南京的情报人员，竟然能把无线电台设在高官的家里。并吞异族太难了，被征服者表面的驯顺，背后用加倍的反叛来平衡，他们是沙子，使你盲肠永远发炎。从征服者的角度看，异族都忘恩负义，反复善变，殊不知这正是他们的正义。咳，天下本无事，侵略者自扰之！\n这里提到的电台，应该是唐生明的故事，沈醉的书里有详细描述。\n帮助学生作弊的学校 第一步手续是到教务处报到，承办人问我：有没有伪政府发的自民证？有没有日本人开给的通行证？本来有一张峄县警察局发给的证件，可是在宿州车站又被收回去了。那么火车票呢，车票也可以当证明文件。我当然连火车票也拿不出来，心情非常紧张。想不到承办人说：“我给你写证件遗失。”这才松一口气。\n有人真聪明，他在宿县下火车，把票根藏起来，谎报遗失，申请补票，来到阜阳，凭票根入学。我也并非一点凭据都没有，兰陵小学开给我一张结业证明书，我还记得校长署名是王九三。问答之间，我完全忘记这张文件，等到入学手续办好才想起来。\n流亡学校采证太宽松了，办学的人处处替你设想，你从敌伪占领区来，经过重重盘查，任何一封信，一张字条，一个印章，都可能使你被捕，你怎么把那种官样文章带出来？今生今世，我很少很少碰见这样体恤下情的当权派。\n承办人看了我一眼，胸有成竹，自下结论：“你来读初中，年龄太大了，我只能给你写十四岁。记住了，你今年十四。”紧接着奇峰突起：“生日是哪一天？” 这一问，我无地自容。依故乡风俗，忘记自己的生日是大不孝，但是我，从小到大没吃过生日面，没收过生日红包，从来没人对我说，今天是你的生日。 他马上替我解围： “不知道，我给你写四月四日，记住了，四月四日，男儿志在四方。”“要不要改个名字？”这一问，我更是目瞪口呆。 他的效率奇高。看来他处理过许多同样的案例，他一一帮助那些孩子渡过难关。学生想改名换字，他无条件赞成，以为这样日本鬼子就找不着这个孩子了。好吧，我也换个新名字。说起来他也还是个大孩子，刚刚离开大学，一脸童子军的表情，不知道世事艰难复杂，所以办起事来这么果断，这么有担当。他后来离开学校，到西安去做公务员，我还和他通信。很惭愧，我终于还是忘了他的姓名。有时想起他，也不知官场把他磨圆了没有。 报到的手续办完了，旁边有一位老师，光头、圆脸，身材矮胖，操着难以听懂的胶东口音，朝我们开了一炮：“任何学校都要防止学生作弊，唯有咱们这个学校，想尽办法帮助学生作弊。这真是教育界的奇谈！\n盛饭的口诀 （学校里面）盛饭有口诀：“一半二平三溜尖”，第一碗盛半碗，散热快，早些吃完去装第二碗。第二碗饭装到碗口，这时饭已不会烫嘴，可以狼吞虎咽。如果还有机会装第三碗，那就尽量多取，因为这是最后的机会了。他拿着碗，一面讲解一面比画。指粗掌厚，好像很有魄力。\n这个跟我老爸讲，他们当兵时欢迎新兵的第一顿好饭，也是最后一顿好饭的窍门一样。老兵告诉他第一碗只能盛半碗，吃完之后再就狠狠的装一大碗，然后慢慢吃。\n春种一粒粟，秋收万石谷 一九八八年六月，校友程明光也到济南探望老校长李仙洲先生，事后发表访问记，谈到学校由私立改为国立的经过。老校长对他说，成城中学改国立，国民政府蒋主席—黄埔军校的老校长没有兴趣，认为既是爱国青年，可以编人军队。老校长大惊失色，连忙进言：招兵是招兵，招生是招生，如果山东父老以为他用招生的名义招兵，对政府失去信心，他对不起蒋主席。\n据程明光记述，蒋氏要老校长去找陈立夫，陈主管青年政策，长期担任教育部长。成城中学改制，陈立夫愿意促成，山东籍的党国要人丁淮汾、空军名将王叔铭也很帮忙，但是管钱的人有异议。从会计观点看，流亡学生是个无底洞，必须截止。老校长着了急，连声质问：\n“你们懂不懂？青年是麦苗谷种，春种一粒粟，秋收万石谷！”\n世往今来，管钱的人坏了多少事，丧失过多少人心，对首长最忠心的是他，可是对首长的理想和长远目标弃之不顾的也是他。还是教育部有行政经验，把公费改成“贷金”，钱不是送给学生，是借给学生，将来学生毕了业，能赚钱，再把钱还给政府，或者由政府一个月一个月从他的薪水里零零碎碎扣回去。管钱的人听得懂借方和贷方，这才不再留难。 七十年代，我在台北听立夫先生演讲，谈到战时教育。他说他一向主张收容教育陷区青年，当年有一句话遍告政要：“孩子进流亡学校，至少他的父母不会去当汉奸。”他也一向反对把学生编进部队当兵，又有一句话遍告政要：“现在还没到送学生上前线的时候。”他这两句名言作用极大，成全了千万矢志向学的下一代，功德无量。 一九九四年，陈立夫出版回忆录《成败之鉴》，把这一段政绩说个详细。他“不顾当时行政院政务处和财政部内部人员反对”，批准了救济战区（也就是陷区）青年的方案，陷区青年在后方中等以上学校读书，由国库文给饮金，书中说。“这一笔宠大的费用，在国家财务安出上仅次于军费”。五万多名中等学校的学生赖以完成学业，大专学生还没有计算在内。 校友解维宁，一九四五年抗战胜利那年高中毕业，他在《贷款念书》一文中说，他的毕业文凭注明欠交贷金四万八干四百零二元九角三分。这笔钱并未扣回分文。\n青天白日 教化学的滕清芳老师，那时大概刚刚大学毕业。短发齐耳，天蓝色阴丹土林布旗袍，两者之间有冰肌玉肤。这色彩，我们叫青天白日。\n勇者乐迅雷风烈（烈风？） 那一阵子我们忙着给从军的同学题字留念，最流行的句子是“永怀斡地排天志，各要千锤百炼身”（作者供名），还有“会师中原同一醉，待从头收拾旧山河”（罗家伦）。我写过“仁者乐山，智者乐水，勇者乐迅雷风烈”，只能算是集句，在我们那个小圈子里倒也传诵一时。\n老百姓养他另外一半 大兵扰民，网在《昨天的云》里面写了不少，本书后面还要再写。我十分痛恨这种行为，常常设想怎样制止、怎样惩罚。后来我也枉费了不少心机。终于一天想通了，大兵的待遇那么低，政府只养了他一半，他靠老百姓养他另一半，他因此养成了各种坏习惯，战后待遇提高了，老毛病仍然改不掉。我会记下他们后来吞食的恶果，能惩罚世人的，只有因果律。\n泥坯中的手印 。。。。但房舍不敷师范部使用，师范部的同学只好自己“拓坯”，再雇匠人来盖屋。在某一段时间内，三王寨一望全是赤膊的男生，手足并用，把稀泥碎草填进木框里，晒干了、垒墙。男生在烈日下操作，女生送茶水，开饭的时候把省下的半个馒头送过去，想到出力干活的人食量大。这一授一受，两个人的脸都红上好一阵子，此后见了面反而不说话了！第二天只是傻干。有位同学说，他在湿坯中心印下自己的手印，祝祷砌墙以后，他的手印正好挨着某一个女生的书桌或是枕头。\n维持会长的选择 那时，高中部一年级有位同学，名叫高国武，对西迁“过路”作出重要贡献，堪称无名英雄。如今《校史资料汇编》出版，才正式公布真相。\n二十二中的师生，要想平安穿越平汉铁路，必须“瞒敌不瞒伪”，绝对不能让日军知道，但是绝对要得到伪军的谅解。高国武同学家在驻马店，“过路”正要经过驻马店南郊，学校当局和高国武商量，希望他能回乡布置。\n高家在当地有声望，高家的长子、高国武的哥哥，又是一支游击队的领袖，凭借地利人和，作了最佳配合。其中高潮是——高国武这个不到二十岁的青年，单身进入驻马店城区，拜访汉奸领袖维持会会长。\n真是英雄出少年，高国武拿出二十二中以校长李仙洲名义发给的证件进行谈判，维持会答应提供日军行动的情报，在最安全的日子派出人员，接送校本部“过路”的队伍。任务圆满达成，维持会长还安排自已的儿子和甥女随队同行，教两个少年人到汉中投亲，脱离沦陷区。\n不可中断自己的历史，除非你能真正进入别人的历史 父亲从老家来信，希望我到校本部和二表姐同队，我如命奔往柴集，第一批出发。这是一件糊涂事，没人告诉我，子在外，父命有所不受。我的朋友都在二分校，离开了他们，就不能和他们同甘共苦结下更深的友谊，多少人的喜怒哀乐真性至情也看不见了。我的历史在二分校，离开了它，这一路上我的成长和它的成长失去了关联，在这最重要的时刻，它的美，它的丑，它的奋斗，都不能成为我的回忆，一向的积累，酝酿，忽然中断了！此刻，我要写下：不可中断自己的历史，除非你能真正进人别人的历史。\n最留恋这房屋的人，也许并不是曾经住在里面的人 整个女生宿舍现在是一艘弃船，又没有人去搜索占领，空荡荡地停在那里。现在男生可以大摇大摆走进去了，某些曾经在夜晚远远望着窗口灯光发呆的男生，现在可以快快乐乐地站在窗里了。最留恋这房屋的人，也许并不是曾经住在里面的人！\n哀民生之多艰 “你告诉他，老百姓太苦了，摊派太多了！完粮纳税那是理所当然，可是天天有摊派，有时候，一天摊派两次，今天就是上午一次，下午一次。你告诉他，如果他还要老百姓，就得禁止摊派。”\n我忽然站起来。我想指着他的头皮质问，你现在吃的是什么，喝的是什么，这岂不是今天的第三次摊派，你是不是要我也对蒋委员长说出来！\n多年以后，我看到一份资料，它说抗战后期，河南有两百四十多种摊派，名目稀奇古怪，每一个“保”每年要负担法币一万两千五百元。\n当然，“招待学兵”之类还不在内。\n保长是因执行摊派获得权力的人，是利用摊派乘机自肥的人，连他都忍不住了，教摊派重压下的老百姓怎么忍得住！\n连我也忍不住。\n能教日军烧杀，不要汤军驻扎 想到军纪，问她“能教日军烧杀，不要汤军驻扎”这话可是真的？她说，汤恩伯的军队很多，纪律有好有坏，最坏要数汤恩伯在河南成立的挺进纵队，这是地方武力，中央不发粮饷，一切用度都在河南当地想办法，这些人胡作非为，的确有人说过他们比日本人还要坏！而这样的挺进纵队有五十个之多！\n老大娘说，挺进纵队的故事可以说三天三夜，挺进纵队的什么人想捉一只鸡，鸡在前头跑，他在后头追，一直追进人家的内室，看见墙角里站着个大姑娘。他转身出来就托联保主任做媒，硬要娶人家做媳妇。\n老大娘说，挺进纵队的什么人，看中了一座四合房，就命令房主在七天之内搬家，让给他住。他住进去以后又嫌不方便，找了匠人来东拆西补，也不给匠人工钱。\n老大娘说，挺进纵队可狠呢，抓了个八路，问不出口供来，就在地上挖个坑，把那个八路插在坑里，慢慢地填土，一边填土一边告诉他，不说是死，说出来是活。先是怎么也不肯说，等土埋到肚子，上气不接下气，不说是不行了，那就干脆说吧。既然人家都说出来了，就该饶人一命啊，可是填土填得更快，到底还是活埋了人家。\n老大娘说，你们穿的草鞋是稻草打的，挺进纵队的人打草鞋不用稻草，用老百姓的被单。他们从老百姓的床上把被单揭起来，当场撕成布条，几个人围成一圈打草鞋，有说有笑。你在路上可曾看见有人穿布条打成的草鞋？颜色不光是白的，有蓝的，也有花花绿绿的。那个穿鞋的人就是挺进队员。\n政府几乎忘了农村 我这次深入河南农村，沿途没看见派出所，没看见邮政代办所，没看见卫生所，没看见小学，甚至没看见布告和标语，更没有经过规划的公共建设。“天生赤壁，不过周郎一战，苏子两游！”一九四三年飞蝗成灾，政府事先没有防治，事后没有赈济，还给老百姓开了个小玩笑：为了鼓励灭蝗，宣称每十斤蝗尸可以换两斤粮食。事后才知道这是模仿曹孟德的“望梅止渴”。政府几乎忘记了农村！遂令别廷芳成名。\n怎么可以不长进 回想离家远走的幕前幕后，回想我在《昨天的云》一书之末记下的因果，我怎么可以不长进！不长进，为什么要离家流亡！不长进，怎样负起命运交下来的责任！很不幸，这般症状忽轻忽重，缠绕我很多年。以后，汉阴、沈阳、天津、上海，一直到台湾，几十年后才走出它的煎熬，它没能压垮我，我也没能消灭它，漫长的散步演变出漫长的战争。\n陈世美 我们的护士实在是个好人。她本来也是学生，和未婚夫一同出来流亡，宁愿自己就业，让未婚夫去读高等学位，她用那一份微薄的收入接济爱人，养活自己，还把爱人的小弟弟带在身边，照顾他读书。这教人产生许多温馨的想象，例如，他拿到了学位，和她结了婚，他用一生的柔情来报答妻子。\n多年后，我们算是懂事了，一想起她来就非常担心。我们渐渐能够以男人的眼光发觉她不是一个可爱的女子，她的身材、面容、性格，恐怕都不能使她的中学同学在拿到博士学位之后回到她的身边。她实在不该自己原地不动，用尽力气把未婚夫推举得那么高那么远。一个人用生命编写剧本时，要先想想自己能在其中扮演哪个角色。\n又过了多年，我终于听见了不愿听见的消息。那男子果然和别人结了婚，她曾经投水自杀，幸而（或者不幸）被人救上岸来。\n转述故事的人往往把故事的结局省略了，在真实的生活中，结局往往是盘中的残肴。我不知道她怎样度过要苦的晚年，或者上帝安排了补偿。也许上帝只是打发一位和尚告诉她，她不该有那么大的野心，想为自己创造一个有高级学位的丈夫，野心才是痛苦的来源。\n江师母开解女学生 江师母的意思是，流亡学生好像朝不保夕，但是要有久远的打算，你的生命不是只有十七岁，也许有七十岁。现在只是为将来做准备，现在天大的事，将来回头一看，都是小事。想想你的未来，想想你的父母，你要顶天立地站起来，站给辜负你的打击你的那个人看。\n还有，流亡学生的机会不多，首先弄清楚你要的是什么。是爱情吗，得到了爱情以后呢？是结婚吗，再以后呢？生儿养女吗？一个流亡学生最重要的是读书，是追求知识，造就自己，这是主要目的，其他是次要目的，不要教次要目的妨碍了主要目的。你经过南阳，如果去游览了诸葛庐，很好，如果没有去，也没什么，因为那不是你的主要目的。\n江师母说，人在失去了什么东西的时候，总觉得那个东西应该属于他，总是不甘心，这是人的迷惑。其实，既然失去了，就是应该失去，世上自然另有属于你的一份。只有知识应该属于学生，希望应该属于青年，不能失去，不该失去。\n江师母很会劝说别人，我偷偷地听，受益不少。\n","title":"怒目少年-王鼎钧"},{"link":"/posts/%E6%88%91%E7%9A%84%E6%83%85%E6%8A%A5%E4%B8%8E%E5%A4%96%E4%BA%A4%E7%94%9F%E6%B6%AF/","text":"熊与马家的关系 周恩来又间：你在上海有没有合适的地方，可以不引人注意，找个借口住几天？我讲了几处地方，包括著名书法家马公愚的宅邸。周恩来说：住在马公愚的家里比较妥当，他在上海地位高，特务不敢轻易打扰他\n信任 他（胡宗南）说，他和盛文要去国防部开会，下午总裁还准备传见。他递给我一个公文包，要我倒锁房门，根据公文包里的文件，画一份草图，中午交给他，供总裁参阅。临走时，他嘱咐我一定要把门锁好，不许任何人进来。我依言办理。打开公文包，里面装着两份绝密文件，一是蒋介石核准的攻略延安方案；一是陕北共军兵力配置情况，—不用说，我照抄不误。\n胡宗南对我画的草图表示满意，他要我着手抓“七分政治”，首先起草施政纲领。盛文说，“施政纲领”应有个帽子，他建议全称是“国军收复（或光复）延安及陕北地区后施政纲领”。胡宗南说，不用“收复”“光复”，那不是革命的字眼，要用“解放”，这才是革命的字眼。\n胡宗南所受之影响 后来因为西安共党地下电台破获，才明了熊的身份与工作，这时熊已由胡保送至美读书，立刻知道自己身份曝光。胡当然痛愤至极，要求戴笠不公布（戴死于1946年3月17日），戴、胡互相联络，关系十分密切，戴可能连局内高干一律瞒住，但他绝不敢瞒蒋委员长。于是蒋始明了延安之役所以致之的原因。\n就情理推测，蒋对胡可能也痛愤至极。我国最有名的军事家郭寄峤上将曾告我：胡在西昌即将失守时，蒋坚决不准胡来台，郭时任副参谋总长，一再坚请、甚至直言“送一名大将给敌人做俘虏，既违反战争利益，也违反指挥道德”。由于郭的坚持，在蒋的默许之下，胡得于最后一分钟乘机飞台。\n胡到台后，每年旧历元旦，首先向郭拜年。郭在回忆录中也记述这一节。最初我十分奇，就过去所知，蒋对胡信任之专，倚畀之隆，逾于寻常，何以最后弃之绝地而不顾，我在北京与熊谈话以后才得到解答。在熊案揭穿以后，延安之役，已成过去，当时国军向国内国外大肆宣传，以为这是对共党扫穴犁庭之战。熊案既不能公布，又不能追究胡的责任。如果能围而歼之，只要堵住黄河南岸，即有重大战果，国共战争的历史就会重写，可能不致有大陆沦亡獲海逃难的结局。因此蒋对胡之痛恨，可以理解。论者或以为胡的大军入川勤王，未能扭转西南局势，当时因素甚多，蒋之恨胡，这应非最重要的原因，而延安之役才是最大的关键。我想，大溪档案中，蒋的日记中，应该可以找到解答。胡来台后，除准其所请成守最前线的大陈岛，后又退守澎湖，再后则无下文，不但谈不到参谋总长，连陆军总司令都无份。回想对目抗战之初，派他在西安练兵，负经营西北的全责。胡兼主任的中央军校第七分校，规模之大，几乎是其他九个分校之利。据关系方面传说，全国時军团长以上的干部由胡保荐的占百分之八十，信任之深实际超过陈静公。\n当三民主义青年团在武汉创立，特命胡兼负组织处长的名义，由康泽代理负责。可想见蒋对胡的器重，前后对照，相待真有天渊之别。\n这里，我要为胡说几句公道话，胡十分重视人才，也重视对人才的磨炼与驾驭，尤其重视对共觉潜伏的防范。因为胡开始西安练兵大业之际，三十多位著名大学的大学生适时到达，人人优秀，共产党的熊向晖、陈忠经、申振民（现在大陆）；国民党的徐先麟、洪同、陈大勋（现在台湾），都是人才。李芳兰（在美国）也是能力极强的女性。熊的最突出之处，是他的气质之纯，为我平生所仅见，我绝对不相信，也不会想到他是做情报工作的人。胡之选其为随从人员，是非常应该的决定，如我是胡，也会做同样的选择。怪只怪周恩来善于择人，造成胡的毕生大憾。\n这里，我也要为熊说几句公道话。有人见到《传记文学》所刊熊文的前半，而责备熊忘恩负义。依理而论，熊参加共产党在先，并非受到胡的重用后再投共。他是为共产党工作，自当对共产党忠诚，正是各为其主之义。而且是胡坚持要他做随从，他并表示不愿担任。胡最不应该的是在熊已将动身赴美。\n又特派专人要熊留下：“打下延安再走！”我要说一句对老长官不敬的话：“真是鬼摸了头！”\n胡之敢于用人，有其气魄，用我即是一例。我同他非亲非故，我到西安不久，即令我负责西安办事处。我到差请示，他只说一句：“做我的代表。”四面八方来的众多的客，胡都不见，要我代见，但我认为胡应该见的，经过力争，胡才见。胡从不理地方人士，当时西安是北部中国的枢纽，不仅陕西士绅集中，包括河南、河北、山东、山西以及甘青一带西北人士都避寇暂住西安，我一一联络与胡见面，由于我的力争，胡破了许多例，为人做寿、拜年、请春酒、尊贤敬老，并分赠市面难购的上等面粉与高级煤炭。去年我在北京熊宅，熊向其妻女介绍我：“他是为胡宗南打统战的，打得大、打得好。”可是在抗日胜利的前一年，我成了闲员，我忍耐到胜利后才离开。一直到四年前我以环游世界八十日纪念八十岁生日，由欧到加，遇见西安好友侯一鸣，他是胡的亲信干部，他说他为我问胡五次：\n“为什么不用张某某？”第五次胡才答复：“他的思想有问题。”这是与“他是共产党”的同义语。如果我是共党，胡不理地方人士，如鱼失水，岂不正中共党下怀。我一方面十分辛苦地建立全面地方关系；一方面还要说服胡，更不惜犯颜力争，焉有如此共党？这样一个非常简单非常明白的道理，胡竟然不懂。\n我对熊苦笑：“你忠于共产党，胡送你赴美读书，我忠于国民党，胡却说我是共产党。”\n虽然，胡对熊谓之失察，对我谓之不明，但我仍要说，胡在军人中是一个卓尔不群的人，我在胡逝世时曾写了一篇《胡宗南先生的小事》，因是追悼之文，不便作客观的记述，在读了熊文之后，窃恐使读者以为胡是个头脑简单的人，则是大误。\n因拟补写《胡宗南先生小事》续记。对其人之兴衰成败，或可于此中得到一些启示。\n地下工作“后三杰”全是胡宗南手下 周恩来谓中共地下工作有“前三杰”与“后三杰”，“前三杰”姑不论，“后三杰”熊向晖（彙荃）、申振民（健）及陈忠经（翘）竟全出自胡长官的手下，而且在他们隐藏八年为共党立下大功以后，胡长官又在抗战胜利后一起栽培他们到美国去留学。因此三个人才会学得“胡儿语”，1950年以后都可以在中共外交界一展身手。饮水思源，不知他们对老长官是嘲笑呢，还是感恩？\n“国防部”1972年所编《胡宗南上将年谱》（不公开发行）一书中，在民国三十五年（1946年）部分有如下的一段：\n公（指胡上将）以胜利后建设万端，需才孔亟，而抗战期中优秀背年无法出国深造者尤宜及时络育。于是先后派副参谋长盛文（在台病逝），党政处处长张研田（在台病逝）赴京与教育部交涉，同意由公以节余经费，派员出国留学，遂由张处长经纪其事，分批派遣朱文长（朱经农之子）、张奇、陈忠经（翘）、申振民（健）、熊樂荃（向晖）、涂心园、张绍良、闽子桂、何继高、马大恢、吕家鸿、马蒙、张维公、王克亮、宋寿昌、曹克寿、黄荣翰等十七人，其中马蒙留英国，其余皆留学美国。张维公、王克亮、宋寿昌、曹克寿、黄荣翰等为特选之陕西优秀青年，此外尚有李人士、余忠玲、熊彙芝女士（熊向晖之妹）等，亦各补助美金三千元助其出国深造。按十七人中张绍良、曹克寿、宋寿昌、黄荣翰等四人，大陆沦陷前已返国，其余大部分仍留美国。朱文长任教匹兹堡大学，何继高任教西东大学，涂心园任职联邦农业部，三人皆获博士学位。张维公任职美海军造船厂，张奇任职联邦内政部，马大恢会计师，王克亮经商，吕家鸿在美职务不详，马蒙任教香港大学。其返台湾者阎子桂任教政治大学，余忠玲现亦任教育部驻美文化专员。\n周恩来所谓“后三杰”，俱在其中矣，其他十七人中有无中共地下党员尚不得而知。但朱文长、涂心园二人常在贵刊投稿，学有专长，俱为海外忠贞之士，可能当时对“后三杰”者情形并无所知。又“后三杰”案一九四七年十月为政府破获，此三人均在美国，奈何不得，倒也罢了。但二十五年以后，国防部为表扬胡上将事功，编年谱时仍将“后三杰”姓名列人，不知是失察？还是因三人化名改名的关系？抹黑胡上将竟因此而留下历史的文字记录。\n","title":"我的情报与外交生涯"},{"link":"/posts/%E5%A4%A7%E8%B4%A5%E5%B1%80i/","text":"弱者或思想者 中国的传媒历来有非理性的一面，在它们的价值判断体系中，最容易得到宽容的是弱者，最受尊重的是思想者。因此，最上乘的策划应该是：把被策划方包装成一个弱者或思想者的形象。因为所谓的强者，在传媒眼中是不受宠的。在它如日中天的时候，自然会有无数记者围在强者身边团团转，可是，一旦企业出现些许的危机，他们立即会反戈一击，以反思、知情、评判的角色来表现自己的职业道德。这些道理，至今不为中国的许多企业家所领悟。\n高学历的负担 我们发现，在中国乃至世界企业圈中，能够独立门户、开疆拓土的一代宗师们，几乎都没有太高的学历背景。因为往往学历越高、读书越多，便越具有理性精神，在机遇稍纵即逝的商海中，瞻前顾后，举棋不定，缺乏在大风大浪中豪情一搏的创业激情。而那些学历不高者，则顾忌较少，敢想敢为，埋头一冲，或许真的能一跃而出，开创出一片新天地来。\n","title":"大败局I"},{"link":"/posts/another_10years/","text":"水大鱼大 “对于过往的十年，如果用一个词来形容，您的答案是什么？\n。。。。。。\n周其仁，这位曾在东北长白山当过八年狩猎人的学者是中国经济最杰出的观察家之一，他总是能用简洁的表述把深刻的真相揭示出来，好像用一粒铅弹击穿遮蔽森林的迷雾。\n他略沉思了一下，然后回答我。果然，他只用了四个字——“水大鱼大”。\n的确是水大鱼大。\n在这十年里，中国的经济总量增长了2.5倍，一跃超过日本，居于世界第二，人民币的规模总量增长了3.26倍，外汇储备增加了1.5倍，汽车销量增长了3倍，电子商务在社会零售总额中的占比增长了13倍，网民数量增长了2.5倍，高铁里程数增长了183倍，城市化率提高了12个百分点，中国的摩天大楼数量占到了全球总数的七成，中产阶层人口数量达到2.25亿，每年出境旅游人口数量增加了2.7倍，中国的消费者每年买走全球70%的奢侈品，而他们的平均年龄只有39岁。\n急速扩容的经济规模和不断升级的消费能力，如同恣意泛滥的大水，它在焦虑地寻找疆域的边界，而被猛烈冲击的部分，则同样焦虑地承受着衍变的压力和不适。它既体现在国内各社会阶层之间的冲突、各利益集团之间的矛盾与妥协上，也体现在中国与美国、日本、欧盟，以及周遭邻国之间的政治及经济关系上。\n如同塞缪尔，亨廷顿所揭示的那样，一个大国的崛起，意味着新的利益调整局期的开始。®这是一个漫长而充满着不确定性的调适周期，迄今，身处其间的各方仍未找到最合适的相处之道。\n新常态 开始于2008年的外贸下滑，在溅起一片惊呼的同时，也被动地推进了国内的基建投资和产业转型，宏观经济的增速从9%陡降到6%~7%的“新常态”。与此同时，人民币与美元之间的币值竞赛充满了火药味，中央政府提出的“一带一路”倡议引发了种种新猜想。对中国的依赖与遏制，构成了一种充满矛盾的并生现象。\n哪里知道，到了2024年，经济增长速度会是再下一个台阶到新常态。\n旧的共识已经瓦解，新的共识未曾达成 也许你读过《激荡三十年》，在那部完成于十年前的作品中，我用颇为激越的文字描述了一段野蛮生长史。在那些岁月，一切秩序都是进步的枷锁，对现状的背叛充满了乐观主义的自信，即便是失败者也仍然那么迷人。那是一段从0到1的创世纪，你若参与，即是荣幸。\n然而，在这一部即将展开的新十年里，你会看到一段迥然不同的历史。\n希腊神话般的“诸神诞生”不再出现，遍地英雄皆凡人，商业回归到世俗的本意，体制突破的戏剧性下降，模式创新、资本驱动和法治规范成为商业运营的主轴。在某种意义上，感性突变的“艺术时代”结束了，诸神黄昏，理性的“科学时代”降临。\n今日中国变得更加壮观，却也更加扑朔迷离。“让一部分人先富起来”—每一个人都在问，这部分人中包括我在内吗？“不管白猫黑猫，抓住老鼠就是好猫”——因“抓老鼠”而造成的环境破坏和伦理沦丧已经伤害了很多人的利益和身体，发展的代价成为新的社会命题，人们必须在个人自由与公共秩序之间做出选择。“摸着石头过河”——改革早已进入深水区，底不可及，无石可摸。\n换而言之，我们进入了一个失去共识的年代，或者说，旧的共识已经瓦解，而新的共识未曾达成。\n保八 11 月底，中金公司研究部发布了一份预测未来国内宏观经济形势的报告，研究人员发明了一个日后的热词— “保八”\n中金认为，中国当前的经济形势面临比1998年更严峻的挑战。当年的金融危机局限于亚洲，而本次全球性的金融危机直接发生在中国最主要的出口市场美国和欧洲，因此，政府将把经济较快平稳增长作为首要任务，为了“保八”——GDP（国内生产总值）增长维持在8%的水平之上——可能继续出台刺激政策，包括通过刺激购房需求、缓解开发商资金压力扶持房地产业。\n从此，“保八”成为一种朝野共识。根据专家们的测算，如果GDP增速降至6%或7%，经济发展的质量就会受到很大影响，进而牵涉到就业率，最终影响到社会稳定。用时任银监会主席刘明康的话说，8%是中国经济的生命线。\n从年初的防止过热，到年终的“保八”生命线，可以清晰地看出这一年宏观形势及政策的大转折。\n2008太多事情 年初南方冻灾 4月，淘宝商城开业 4月29日，魏东跳楼 5月份，汶川地震，当天下午我在面试 8月份，北京奥运会 奥运会结束后到21天，雷曼兄弟倒闭 年初宏观调控防止经济过热，9月份开始防水刺激经济 9月9日，三鹿，三聚氰胺曝光 10月20日，中信泰富巨亏，次年荣智健辞职 10月31日，中本聪发布基于区块链技术的比特币 2008年11月9日，宣布“四万亿计划” 11月19日，黄光裕被抓 11月，美国第一位黑人总统，奥巴马 很多年后回望2008年，他大概是当代世界政治经济史的一个转折时刻。\n吴英案 著名大律师、八旬老人张思之也参与到吴英案的讨论中。他在一份致最高人民法院大法官的公开信中表达了两个观点：其一，吴英所集资金大多流入当地实体领域，属合法经营范畴，故无诈骗之行为；其二，“纵观金融市场呈现的复杂现状，解决之道在于开放市场，建立自由、合理的金融制度，断无依恃死刑维系金融垄断的道理”。\n很显然，无论是在周晓光的提案里，还是在张思之的公开信里，吴英案都被符号化了，对她的讨论渐渐地从具体案情中抽离出来，成为民营企业家阶层对自身金融安全担忧的体现，以及对金融市场开放的呼吁。吴英本人则如一块小石子投入江河，它所溅起的涟漪扩散为一种强烈的民间情绪。\n“中国陷阱” 1953年出生的克鲁格曼少年得志，以研究国际贸易著称。1996年，他是全球经济学家中第一个预言亚洲经济可能爆发金融危机的人，因而暴得大名。2001年，他断言油价将飙涨。2006年，他呼吁关注美国房价潜在的暴涨暴跌风险。2008年，他声称全球经济陷人衰退，但能避免崩溃。此次作为一个受邀而来的客人，克鲁格曼不像他的其他同行一样，说一些台面上的客套话，相反，他对中国经济的反弹及其前景都颇不以为然。\n在他看来，中国经济的恢复是虚弱的，官方提供的数据不值得信赖，中国想要通过出口来恢复经济增长是不太可能的，需要马上开始着手经济结构的调整，未来三年将会是中国经济转型或过渡的关键时期。此外，中国可能是一个汇率操纵国，贸易盈余政策肯定会带来很大的贸易紧张，其他国家再也不能容忍中国有这么大的贸易盈余。与尼尔•弗格森提出的“G2”观点不同，克鲁格曼认定当今世界最重要的经济体是美国和欧盟，中国在二十年内无法成为最大的经济体。在被问及人民币的国际化时，他更是直截了当地回答说，在他有生之年大概是看不到的。\n克鲁格曼的这些言论激怒了很多中国学者，于是，从上海到北京，再到广州，他一路“舌战群儒”，以致最后得了急性咽喉炎。当他离开的时候，彼此都觉得对方已无可救药。\n毋庸讳言的是，克鲁格曼并没有逃脱几乎所有新凯恩斯主义者掉进过的“中国陷阱”：他们往往能精确地诊断出中国的疾病，但是常常给错药方，或者做出与未来截然不同的预言。中国经济—或者说中国民众的忍耐性，以及集权制度的效率，对于经典意义上的西方经济学家而言，是一个无法定量计算的变数。\n当这一年结束的时候，我们看到的宏观数据是这样的：\n全年国内生产总值33.5万亿元，比上年增长8.7%。分别来看，一李度增长6.2%，二季度增长7.9%，三季度增长9.1%，四季度增长 10.79，是一条一路飙升的曲线；\n上海的焦虑 【脚注】上海的焦虑：尽管经济成就卓著，可是，上海的民营企业及互联网产业的发展却并不乐观，创业氛围与浙江、深圳等地不可同日而语。在2008年，当地媒体曾热烈讨论，“上海为什么出不了马云”。这个焦虑，迄今无解。\n民企的不安全感 在2009年的四万亿投资中，到底有主少被分配给了国有企业部门，一直是一个迷。有人猜测是95%，有人说是八成，这大概是一个永远无法计算的数字，但是民企集团的被边缘化则是一种显而易见的集体心理。联想的柳传志在一次发言中坦言：“这块蛋糕民企没有拿到什么，基本分到国企，我们民企根本没有打算拿这钱。”\n在本部企业史上，2010年是民企心态的转折之年。沮丧和不满渐渐发酵成整个阶层的不安全感，对实体产业的投资热情开始下降，身份和财富转移渐成活跃的暗流。自此之后，民企业者聚会，常常会不由自主地讨论两个私密话题：孩子去哪里留学？自己往哪里移民？而这在之前是并不常见的情况。根据胡润的富豪报告显示，财富阶层的大规模移民正是从2010年开始的，其中很多人以投资移民的方式投奔美国、加拿大和澳大利亚。\n2010年有772人移民美国，2011年猛增为2408人，2012年为6124人，两年的增长率分别为3.1倍和2.5倍。2015年，美国政府共签发9764张EB-5（投资移民）签证，其中，中国大陆8157张，占比高达83%。\n很显然，中央政府也敏感地注意到了这一动态。5月13日，国务院发布《关于鼓励和引导民间投资健康发展的若干意见》，内容共计36条，因为在此前的2005年也发布过几乎相同的36条鼓励和引导意见，于是后者被称为“新36条”。与五年前相比，“新36条”对非公有资本的开放力度更大，允许和鼓励民间资本以独资、合资、合作和参股等方式进入电力、电信、铁路、民航、石油、公路、水运、港口码头、机场、通用航空设施等领域。\n但是，政府的善意并没有得到正面的响应，相反，倒是引起了更大的不满和讨论。人们发现，五年前的“36条”几乎没有一条得到了确凿的落实，而“新36条”则更像是一根聊以安慰的棒棒糖。中国民（私）营经济研究会研究员欧阳君山对《中国新闻周刊》的记者说：“新36条’极有可能像五年前的‘老36条’一样，口惠而实不至，最后也流于以文件落实文件。很简单，基本面的力量支撑不足。除非国有资本能适时退出，或者非经济因素更少地干预市场，民营资本才会真正迎来希望。”\n就在“新36条”颁布的一周后，在中央统战部礼堂举行了一场关于“新36条”的座谈会，《中国新闻周刊》的记者记录了当时与会者的表现。\n新华联董事局主席傅军抱怨说，自己的公司曾想搞国土整理一级开发，却被一些省份的城市告知，非国有资本不得参与。而后，他又试图带领公司在小额贷款领域有所突破，也遭遇到类似条文限制。最后，当他们公司计划做点油气开发项目投资时，厄运再次降临。傅军的遭遇显然并非个案。他的一席话立即得到与会其他民营企业家的共鸣。许多人表示，在战略性的新兴产业，比如风能、太阳能发电等原先由民间投资占主导的竞争性领域，也出现了国资快速进入，进而挤出民间投资的情况。\n民进中央经济委员会副主任、温州中小企业协会会长周德文在发言中说，过去的糟糕经历，让很多浙江民企老板和手握资金的操盘手心生胆怯，“一是矿产资源型的投资不能做了，像对煤矿的鼓励投资都可以这样任意将其剥夺，那投资金矿、内蒙古和新疆的油田等也是一样的，国家想收回随时都可以收回，那大家谁还敢去投资”\n全国政协副主席、全国工商联主席黄孟复说，国务院应有一个部门和一个领导专门负责牵头制定 “新36条”实施细则，而国资委，应该出台一个放开垄断行业、吸引民间投资的政策意见。新奥集团童事局主席王玉锁更是说得直接，民资新政，“不能不了了之”。\n在此次座谈会上散发出的不信任感并非空穴来风，后来的事实证明，“新36条”果然如同五年前的那个文件一样，仍然是收效甚微。\n最后一次广场草根狂欢 新浪微博创造了一个互联网上的“公共广场”，它在过去一年多里所搅动的舆论潮流，极大地激发了民众参与公共事务的热情，同时带有狂暴和近乎失控的原生态特征。日后来看，2010年的微博世界竟是最后的一次广场草根狂欢。\n平台型企业在完成了对旧体系到革命性破坏之后，自身成了被革命对象 发生在去年（2010）的3Q大战和今年（2011）的“十月围城”，让中国最大的两家互联网公司相继陷入始料未及的巨大旋涡之中，甚至让两位创始人发生了自我价值的认知怀疑。它们的呈现景象不同，但本质是一样的，即平台型企业在完成了对旧体系的革命性破坏之后，自身成了被革命的对象。互联网经济天然具有“环境通吃”的特点，平台主导，流量为王，强者恒强，利益通吃。平台自身、相关的资本合作方乃至所服务的用户，都对急速膨胀的规模和利益无法适应。\n互联网的三个冲击波 也是在2011年，互联网的第三个冲击波出现了。如果说 2000年前后的新闻门户是第一次的话——它改变了中国人与信息的关系，那么，以阿里巴巴和京东为代表的电商是第二次——它改变了中国人与商品的关系。今年（2011），互联网则开始改变消费者与服务的关系，它被称为O2O （online to offine），从线上到线下的融合。\n混乱是一切新秩序的前提 从2011年到2012年，起码有上百亿的风险投资和数十万年轻人投入狂热的“千团大战”之中，他们中的绝大多数成了“炮灰”。吴波的拉手网在2011年10月底，就早早地向纳斯达克递交了IPO招股书，计划融资1亿美元，连股票交易代码“LASO”都想好了。然而，它的数据实在太难看了——仅上半年就净亏损3.9亿元，最终上市搁浅，吴波的资本游戏也随即破灭。到 2012年的中期，99%的团购公司不复存在，这又是一场“—将功成万骨枯”的惨战。\n不过，混乱是一切新秩序的前提。“先烈”们的行动还是具有非凡的意义，百亿风投资本和无数年轻人的热情，如一把突如其来的野火，烧掉了传统消费服务业与互联网之间的那道“篱笆墙”，数以百万计的火锅店、小杂货铺和电影院被赶到了网上。浓烟散尽之后，人们透过一地的美元和人民币纸灰，看到了一个被彻底激活的O2O市场。\n新常态 2014年5月，中央政府提出 “新常态”，认为中国GDP增速从2012年起开始回落，是经济增长阶段的根本性转换，中国已经告别过去30多年平均10%左右的高速增长，因此，需要“改变一切向钱看的增长方式”，“从中国经济发展的阶段性特征出发，适应新常态，保持战略上的平常心态”。\n关于新常态，一百个人恐怕有一百种角度的解读。\n在愿景的意义上，它意味着最高层对下半场改革的战略性判断，即高速成长周期已经结束，中国经济必须在中速条件下，继续生产要素的优化和结构性调整。这一时间窗口的长短，取决于实体经济的转型速度、新技术变革的洗礼，以及城市化和人民币的红利空间。\n在行政绩效层面上，它宣告了GDP主义的终结。2013年12月，中央组织部印发《关于改进地方党政领导班子和领导干部政绩考核工作的通知》，第一次明确提出“不能仅仅把地区生产总值及增长率作为考核评价政绩的主要指标，不能搞地区生产总值及增长率排名”。\n国家治理的目标 从四十年的历史来俯瞰，科斯的判断也许只对了一半。\n在中国，经济改革的成功并非国家治理的唯一目标，它从来被置于稳固执政地位和维护国家安全的两大前提之下，因此，有着高于经济发展的“人为计划性”和别于他国的中国特色。对这一现状的漠视，造成了很多中外学院派学者的长期误判。\n2015年9月，曾因出版《历史的终结与最后的人》而名声大嗓的弗明西斯•福山，出版了他的新书《政治秩序与政治衰败》。他修正了十多年前的“历史终结论”，提出一个国家的成功发展离不开三块基石：国家能力、法治与民主责任制。在他看来，中国与美国分别处于这一政治秩序的两端：中国拥有强大的政府，能够有效快速地落实各种民生政策，但它需要在法治和民主上继续努力；而美国虽有法治和民主，但由于制衡体系过于庞杂繁复，“制衡效率太高”，导致联邦政府的施政能力低下。\n中国崛起之前后 数十年前，全世界都乐于看到中国的崛起。在世界银行的名单上，它是一个亟待被援助的落后国家；在欧美企业家的认知中，它是一个商品倾销和技术输出的二线伙伴；甚至在某些意识形态者眼中，它是下一场“颜色革命”的发生地。然而，时至今日，中国成为最大的外汇储备国和第二大对外投资国，至少有 127个国家视中国为最大的贸易伙伴，甚至连《时代》杂志都献媚似的以“中国赢了”为封面报道的标题。与此同时，中国资本的购买能力引起了西方国家的警惕，并予以政策性的遏制，而中国的制度特征也时时引发意味深长的猜想。\n于是，当改革进入下半场之后，中国的自我认知亟待刷新，世界与中国的互相了解和彼此心态，也面临新的调整。这不是一个会轻易达成的过程。英国历史学家尼尔•弗格森在《巨人》一书中，如此评论美国：“我认为世界需要一个富有成效的自由帝国，而美国就是这个工作的最佳候选人。美国完全有理由扮演自由帝国的角色。”而当中国在经济的意义上崛起为一个足以与美国抗衡的“帝国”的时候，所有的历史学家都还没有找到适当的评价用词。\n“中国是一只沉睡中的东方雄狮，最好它永远不要醒来。”两百多年前，拿破仑曾用小心翼翼的口吻如此说道。今天，当这只东方雄狮真的苏醒来的时候，它的每一次啸叫和迈出到每一个步伐，都让世界屏气注目，各自揣度。\n","title":"激荡十年 水大鱼大"},{"link":"/posts/1978-2008/","text":"吴晓波的《激荡三十年 中国企业1978-2008》这本书里，在1997年那一章的一个脚注里写道： “在这部30年的企业史上，出现过两个崩塌之年，第一个是1997年，第二个是2004年。”\n在《激荡三十年》的结尾，吴晓波感慨了“ 所谓的沧海桑田，仅仅30年，就让这一代中国人都看到了”，过去的三十年，有成就，有不足，有激动，也有担忧，但是对未来，还是感受到了巨大的希望。\n之后他还写了一本副标题为“中国企业2008-2018”的书，书的名字叫“激荡十年 水大鱼大”。\n假如再写一本中国企业在2018年之后的书，会怎么形容？\n谁能想到2019年底2020年初开始的新冠疫情，开启拍一个新的时代。疫情之初，经济不错，之逐渐困难，疫情开放之后。经济短暂好转，然后调头，随着国际形势到恶化而一路向下。到今年为止，过去几十年的中国经济，从来没有经历如此的悲观。\n边区效应 一位叫张仁寿的温州研究者曾用“边区效应”来解读：“温州十大市场大多坐落在水陆交通都不是很便利的地方，唯一合理的解释只能是，在那些地方，‘左’的思潮相对薄弱，计划经济的束缚相对较弱，否则，这些市场很可能在兴旺之前就遭取缔。中国改革的经验证明，对旧体制的最初突破，往往发生在旧体制最疏于防范的地方。”此论可谓点中要害。由此可佐证当时温州商人的处境之凶险，改革先行者的狡黠与酸楚大抵都在这里了。（与温州形成对比的是，中国最大的商业城市上海。它是计划经济色彩最浓、政府管控最严的城市，直到20世纪90年代初，当地的私营企业仍然成长乏力。据1992年1月18日的《中华工商时报》报道，在1991年，上海市财办仍下发287号文件。明确规定上海私营企业的产品“一律不得进入南京路、淮海路的大店名店”，该市2195案私营企业无一户获准与外国公司合资，理由是“上海尚无先例”。上海的银行规定，“对私考企业一律不贷款”。信用社也只能以有价证券为抵押，或要有实力的国营企业担保才能贷款，但数额在3000元以下。）\n重复引进 从1985 年到1987年，全国各地共引进115条彩电生产线、13余冰箱生产线、15 条复印机生产线、35条铝型材加工生产线、22条集成电路生产线、6条浮法酸璃生产线，仅广东一省，便引进21 条西装生产线、18余伙料灌装线、22条食品面包生产线、12余家具生产线。其中最典型的引进案例是，9个省市一起向意大利梅洛尼公司引进了9条同一型号的“阿里斯顿”电冰箱生产线，每条生产线的价格均为3000万元，年生产能力30万合。一时间，中国先后产生了合肥美菱、牡丹江北冰洋、南京伯乐、上海远东、景德镇华意、重庆五洲、宝鸡长岭、兰州长风和中意冰箱“阿里斯顿九兄弟”。在其后的家电抢购热中，这些企业都风光一时，成为当地的利税大户，极盛时，“九兄弟”的产量占到全国冰箱总产量的1/3。而10年后，8家调零，仅美菱一枝尚存。\n允许私人拥有汽车 1986年，中国首次宣布允许私人拥有汽车（有趣的是，也是在这一年，苏联宣布出租车可以由私人来经营，这两个社会主义国家几乎在同时开始了市场化的试验，尽管后来它们选择了两种不同的模式），但那时的私家车很少是用来消费的，购买者多是用来跑运输或当出租车使用。11月，上海第一辆 “Z”字私人自备车牌照代码 0001号诞生，随后，私家车开始在深圳、广州等沿海城市及长春、重庆等拥有轿车生产厂的城市涌现。\n崩塌之年 在这部30年的企业史上，出现过两个崩塌之年，第一个是1997年，第二个是2004年。\n基金黑幕 主编胡舒立的坚持下，《财经》以选编的方式刊发了赵瑜纲的报告，这篇题为《基金黑幕》的长篇文章对中国基金市场提出了6个方面的重大疑问。第一是稳定市场的作用未被证明。定量分析显示，基金在大盘处于下跌期中，一般借高位反弹减仓；而上升期中，则一直处于显著的减仓过程中。因此，“发展证券投资基金，究竟为谁服务的问题，可能目前还不十分明确”。第二是基金“对倒”制造虚假成交量。所谓“对倒”是指某股票处于弱势时，即使割肉出售也未必有人买，做鬼的办法就是自己做托，这是庄家建仓和炒作题材时惯用的伎俩，基金坐庄也“按例操作”。根据赵瑜纲的调查，大部分基金都有过“对倒”行为。第三是利用“倒仓”操纵市场。“倒仓”是指甲、乙双方通过事先约定的价格、数量和时间，在市场上进行交易。基金公司利用旗下拥有多只基金的条件，常常互相倒仓，既解决了先上市基金的流动问题，又不影响甚至可以提高净值。第四是质疑基金的独立性。报告认为，“从基金双向倒仓时的肆无忌惮看，人们很难相信在机制上并未独立运作的基金与其股东和发起人之间没有更严重的违法联手坐庄行为”。《财经》记者还描写了一个在市场口口相传的景象：“在热气腾腾的桑拿浴房中，谈判的双方“坦诚相见”，没有录音或者进蜜的可能，希望基金接盘的机构开出价码，“每接我一股，我给你个人一块钱”。第五是肆意玩弄“净值游戏”。报告破解了之前人们的一个误解，以为股价在高位下跌且无歡，就把庄家也给套住了。其实，在很车情况下并非如此。因为如果庄家在上升的阶要反复洗盘，即经常高抛低吸，做阶段性的赢利，而且时间足够长，到了最后，它的成本已经极低。此时，即使股价暴跌，它仍有一倍甚至几倍的利润。第六则是 “投资组合公告”的信息误导愈演愈烈。\n后发劣势 与发生在商业界的这场运动相呼应的是，经济思想界也正在进行着深刻的反思。当年那个因写作《中国往何处去》而坐牢的“红卫兵”杨曦光如今已成为著名的经济学家杨小凯，他提出的“后发劣势”理论引起了广泛的讨论。他认为，落后国家由于发展比较迟，所以有很多东西可以模仿发达国家。模仿有两种形式：一种是模仿制度，另一种是模仿技术和工业化模式。由于模仿的空间很大，所以可以在制度不够完善的条件下，通过对技术和管理模式的模仿，取得发达国家必须在一定制度下才能取得的成就。特别是，模仿技术比较容易，模仿制度比较困难，因为要改革制度会触犯一些既得利益，因此落后国家会倾向于技术模仿。杨小凯进而警告说：“但是，落后国家虽然可以在短期内取得非常好的发展，但是会给长期的发展留下许多隐患，甚至长期发展可能失败。这种短期的成功，可能又是‘对后起者的诅咒’，它用技术模仿代替制度改革将产生很高的长期代价。譬如，政府垄断银行业、保险业、汽车制造业、电信业，并用模仿新技术和资本主义的管理方法来代替制度改革，这是中国的后发劣势。这种后发劣势的最重要弊病并不是国有企业效率低，而是将国家机会主义制度化，政府既当裁判，又当球员。在这种制度下，国有企业效率越高，越不利于长期经济发展。”在解决方案方面，杨小凯并不主张立即就搞国有企业私有化。他认为：“这个东西不能搞得太快、太早，我主张吸取台湾的经验，搞自由化，就是对私人企业不歧视。我们中国大陆现在包括银行、证券在内的30多个行业不准私人经营，还有20多个行业限制私人经营，这些都与 WTO 的原则不相符合，迟早要去掉的。所以只需搞自由化而不必搞私有化。台湾自由化搞得差不多了，才搞大企业的私有化，这是成功的。私有化涉及产权的大的变动，短期内一般会使效率下降，所以应该慎重，而且应该掌握时机。但是自由化是可以提早搞的。这里讲的自由化不是指自由价格，而是实行自动注册制，让私人经营所有行业。”杨小凯的这些分析和主张与吴敬琏11年前就已经提出的“制度大于技术”的改革观念如出一辙，无非杨小凯的论调在此时显出更紧要的迫切性。\n宏观调控 vs 利益分配 “宏观调控从来都是一种利益分配。”\n轻歌曼舞 vs 长歌当哭 新华社记者徐寿松在《铁本调查》一书中十分感慨地写道：“同一产业，同一时间，同一省份，铁本和博思格，一土、一洋两家钢铁公司的命运何以相隔生死两重门？！有人在门里轻歌曼舞，有人在门外长歌当哭。”\n民间资本的惨败 在本轮宏观调控中陷落的大型民营企业项目，日后大多被国有企业和跨国公司所猎获，铁本项目在三年后被南京钢铁集团和法国安赛乐公司共同重组，分崩离析后的德隆系被瓜分：中粮集团购得新疆屯河，辽宁机械集团入主合金投资，湘火炬遭到一汽、上海德国大众等20多家汽车公司的争抢，最后山东的潍柴动力得手。唯一侥幸独存的是东方希望集团的电解铝项目，由于刘永行十分谨慎，其投资均为自有资金，所以避开了金融上的制裁。此后三年，一向开朗的刘永行变得极度低调，几乎不在公开场合露面。他后来透露说，中铝集团曾经多次试图控股该项目，均被婉拒。\n民营资本的惨败，令人印象深刻。其后两三年中，反思不断，全国政协副主席、全国工商联主席黄孟复用“玻璃门”来形容民营企业所面临的尴尬局面。他描述说：“一些行业和领域在准入政策上虽无公开限制，但实际进入条件限制颇多，主要是对进入资格设置过高门槛。人们将这种‘名义开放、实际限制’现象称为‘玻璃门’，看着是敞开的，实际是进不去的，一进就碰壁。”西安海星集团董事长荣海的反省则更为直接，他说：“宏观调控的教训再一次证明，民营企业家一定要低估自己的能力。”\n宏观调控对中国公司格局的影响十分深远，在相当长时期内甚至有“定局”的效果。\n郎咸平 郎咸平发动的这场“讨伐”，让他如愿以偿地成了一个明星领经济学家。不过，郎顾之争最后的结局其实已超出了这位公司财务专家的初衷。\n他本人也在这样的论战中走向极端，提出了“大政府主义和威权政府”的概念，还以中国电信等垄断公司的经营业绩来证明“中国国有企业从来不比民企差”。在很多人看来，郎咸平好像是安徒生童话《皇帝的新装》里的那个小男孩，他大胆地喊出了真相，不过却说错了真相背后的答案。美国《洛杉矶时报》在评论中认为，“郎咸平对中国经济改革的某些批评并不是孤单的声音，他代表着一个被称为‘新左派’的日益有着影响力的团体，他们对国有企业民营化和中国经济的试验进行抨击”。北京大学教授周其仁在一篇《我为什么要回应郎咸平》的文章中说：“我是想破脑袋也想不出来，到底怎样郎威平才觉得对。”周其仁的观点是：“产权改革不是什么好事之徒策划出来的。就是把主张产权改革的经济学家全部枪绝，只要走市场经济之路，公有制企业还是要搞产权改革。问题是公有制企业的改革实在前无古人，困难自成一家。当初没有消清楚的约定，倒回去厘清产权份额谈何容易！正是在这个意义上，我一直认为实践具有第一位重要的品格。”\n后来，郎咸平在法律方面也堪称一绝，通过已经抛弃的台湾的正妻来讨回赠予小三的房产。\n民营经济的地位 一个十分显而易见的事实是，中国民间公司的成长一直处在一个强势资本集群的俯瞰之下。政府作为一个资本拥有者，一方面掌握着政策和游戏规则，另一方面则以捍卫自己的资本利益为最高价值取向。根据 WTO的市场开放进程表，我国的金融、保险、通信乃至传播等产业次第开放，但在执行的过程中，出现了对“外”开放优先、对内开放滞后的现象，一些跨国大公司获得了优先的进入权。在新一轮即将决定未来中国产业格局的大整合中，民营公司落在一个被边缘化，甚至被遗忘的劣势地位上。\n一种悲观的情绪已经在民营资本集团中蔓延开来。当年在海南淘金的“万通六兄弟”之一、万通集团董事长冯仑在年终写了一篇题为《跨越历史的河流》的文章。这位法学博士、平时嬉笑游戏喜欢说半荤段子的企业家这时候却表现出令人惊奇的洞察力，他写道：“民营资本从来都是国有资本的附属或补充，因此，最好的自保之道是要么远离国有资本的垄断领域，偏安一隅，做点小买卖，积极行善，修路架桥，要么与国有资本合作或合资，形成混合经济的格局，以自身的专业能力与严格管理在为国有资本保值增值的同时，使民营资本获得社会主流价值观的认可，创造一个相对安全的发展环境。今后，随着和谐社会的建立和发展，民营资本将以数量多、规模小、就业广、人数多为特征，其生存空间将被局限在与国有资本绝无冲突或者国有资本主动让出的领域。面对国有资本，民营资本只有始终坚持合作而不竞争、补充而不替代、附属而不僭越的立场，才能进退裕如，持续发展。”\n宏观调控 到2006年年底，一些敏感的人们已经噢出了景气变动的气息。开始于2004年春夏的宏观调控似乎已经结束了。在过去将近30年的改革历程中，宏观调控—在20世纪90年代之前被称为治理整顿——已成为一个具有鲜明中国特色的名词。它几乎每隔3~5年就会出现一次，而且从1981年开始，历次的宏观调控从来只宣布开始，而不通知结束。\n宏观调控结束的最重要原因是，它启动的目标已经达到。通过强有力的行政干预，国有企业在垄断性行业的地位进一步得到巩固。\n原罪 就像詹姆斯•金奇在《中国震撼世界》中所说的那样：“从一开始，中国改革就是一个被自下而上的力量和需求推动的过程，只不过以从上至下的政策改革的方式呈现。” 这一特征带来了一个贯穿30年的景象，发生于民间的资本力量总是承担着改革的政策风险。在它们的行为被政策认同之前，失败随时都会降临。它们既是计划体制的突破者，又是现行制度的违规者，不得不游离在合法与非法的灰色地带。所谓的“原罪”由此而生，无数企业悲剧便是在这里层出不穷地上演。有的时候，你不得不感慨，有些企业家能够成功不是靠了政策的帮助，而是因为他们无视政策的存在。这种公司演进，也许不是什么必然的产物。它的形成过程以及韵达走向不可能以一些常见的经济学概念来加以规范，也不能以最宽泛且最具有代表性的公司运作机制或经济模型来加以对比。其渐进的路径和速度至今仍然充满多变性。这个过程在整个国家和地方的不同层次中分散地、各自独立地逐步进行，然后在一个时点上汇成一股合流。\n沧海桑田 所谓的沧海桑田，仅仅30年，就让这一代中国人都看到了。\n青春已经大江东去。对于这个时代，我们有种与生俱来的眷恋，在这里深埋着很多人的过去，当我们一步步地远离它的时候，才越来越清楚地感受到它的存在。对于共同经历的这段历史，我们其实所知无多，很多事情还需要在事实和理性层面上抽丝剥茧，有些则仍在剧烈的演变当中。商业界是一个充满偶然性的领域，事实与结论之间并非是唯一对应的关系，也许今天我们陈述的细节，会在未来的某一时刻出现新的甚至截然相反的诠释，而过了若干年后，再度产生有趣而陌生的新意。\n也许在很多年后回望，人们会说，这激荡的30年是一个多么世俗的年代，人人以物质追求为目标，道德底线被轻易穿越，心灵焦虑无处不在，身份认同时时颠覆。所有的财富故事都暖昧不明，很多企业家前途叵测。\n不过，更多的人也许会辩护说，我们最宝贵的财富正是这一段携手走过的从前，这份经历包罗万象，有汗水泪水血水，有蜜汁苦水狼奶。它催生了一个时代的伟岸和壮观，也同样滋养了世故、丑陋和空虚。我们遭遇的是一个空前复杂而大半面目未清的时代。急速变化的世界，怅然若失的个人命运，传统与现代，个人与群体，不同利益集团的冲撞和考问，这是30年的成长底色；“一年改变不如想象，五年改变难以想象，十年改变不敢想象”，这是30年的演变惊叹。在这段创世纪般的大历史里，我们每一个人从来都不是观光客，伟大的梦想将继续从茫茫无边的草根中轰然诞生，那种追求世俗的本身，也具有了一种难以言说的浪漫主义诗意。\n在通往未来的道路上，这个正在生成的崭新的世界，一定还藏着我们尚未知晓的答案，也许最好的尚未来临，也许繁荣生成的时候，腐烂已经开始。\n尽管有着种种抱怨、失落和焦虑，但是，过了很多年后，我们也许仍然要说，那是一个好的时代。因为，它允许新的可能性发生。\n","title":"激荡三十年"},{"link":"/posts/madaren/","text":"母亲的重要性 作者学习下降以至留级时，母亲找了一个丧父而刻苦读书的同学，让他和作者做朋友，后来作者成为当年上海中学唯一录取的温州学生。可见母亲的眼界的重要性。 陈纳德的个人档案 （背景：作者曾在陈纳德办公室任翻译兼密码译电员） 多年后，我在美国斯坦福大学胡佛研究所东亚图书馆当研究员兼馆长时，我当年在飞虎队的顶头上司舒伯炎上校来到加州旧金山。1958年，陈纳德上校去世。我问舒是否认识陈纳德夫人，他回答说认识。事实上，陈夫人当年作为报社记者，曾经采访过陈纳德。采访就在陈纳德的办公室里进行，舒上校当时也在场，随时准备提供协助。\n我请舒上校帮我一个忙，给陈夫人写封信，让她把陈纳德的个人档案交给胡佛研究所保管。他同意了。\n陈夫人的回信直接寄给了我。她在信里说，无法提供陈纳德的档案，因为西点军校和美国国家档案馆此前提出了同样的请求。胡佛研究所和上述两所机构相比，当时只能排第三。收信后，我立即给陈夫人回复，告诉她，我有三个很好的理由要得到陈纳德的个人档案。\n首先，我当过陈纳德的译电员，帮他解码和编码了很多来往的电报。他的档案也是我的档案。我会很好地保管它。\n其次，保管档案的目的是为了让学者和研究人员能够接触到它，写本好书，或完成一项重要的研究项目。作为军事院校，学者和研究人员不容易接触到西点的图书馆，陈纳德的档案也就难以物尽其用。国家档案馆馆藏丰富，个人档案只能湮没在其中。我没明说的是，和保管在那里的许多要人的档案相比，陈纳德的档案只能算沧海一粟。\n第三个理由最重要。陈纳德的政治对手是维内加•乔，即约瑟夫•史迪威将军。史迪威将军的档案在胡佛研究所。美国著名记者白修德（西奥多•哈罗德•怀特）正是利用史迪威的档案编写了一本畅销书，书名就叫《史迪威文件》。陈纳德在那本书里的形象并不是很正面。修正陈纳德在历史中的形象很重要，陈纳德的夫人有义务这么做。我告诉她，如果她把陈纳德的档案交给我，我会把它政在史迪成档案溶边，让学者和时究人员了解他俩的观点。史迪威的观点会被修正，陈纳德的立场也会被人们理解和认知。\n过了几天，我接到陈纳德夫人的电话。她告诉我，会在某一天坐某个时刻的航班，亲自把她丈夫的档案捎给我。她要我到旧金山机场接机。几天后，胡佛研究所召开了记者会，宣布接管陈纳德的档案。从那以后，每年第一个给我寄新年贺卡的就是陈纳德夫人，她的名字叫陈香梅。\nX光片子造假 我们这些想去美国的人，就面临着从美国总领事馆拿到签证的问题。为防止肺结核病患者进人美国，领事馆要求每个申请人提供X光片。我在重庆新闻学院时得过肋膜炎，X光片可能会照出我的肺瘢痕。因此我很犹豫要不要照X光片。我的一个好朋友熊向晖，那时和我一样申请赴美签证。\n他的个头和我差不多。他自告奋勇以我的名字去照了X光片，把片子交给我。于是，我拿着他的X光片，顺利获得了签证。\n他和我哥都是胡宗南将军在战时的随从副官。胡将军给了他们俩各1800美金，资助他们赴美留学。1947年夏天，我们三人同行，一起搭船赴美。马大恢和我去了威斯康星大学，熊向晖去了克里夫兰的西储大学。由此，我告别中国，开始了在美国背井离乡的生活。\n实际上，熊向晖申请去美国读书所用的大学成绩单和文凭是熊之兄长的。\n老愚公 我这个老愚公已经过了96岁，体力大不知前，以后能为祖国做的事恐怕很有限。只希望我三个很能干的孩子看了这本小书后，记得他们是华裔，要为中华民族做些事，使中华民族在世界上的地位不断提高。\n看历史有意思的地方 看历史一个很有意思的地方在于，从不同来源看到的人和事在时空中交汇。\n作者高中军训时在谢晋元的军中受训，而谢死后，马父为四行仓库谢晋元撰写碑文。 比如作者和熊向晖的关系，文中提到了马大任之兄与熊向晖之间的关系。熊向晖在《我的情报与外交生涯》里面也提到，当有暴露危险周恩来问其能否到上海暂住一段时间： 周恩来又间：你在上海有没有合适的地方，可以不引人注意，找个借口住几天？我讲了几处地方，包括著名书法家马公愚的宅邸。周恩来说：住在马公愚的家里比较妥当，他在上海地位高，特务不敢轻易打扰他。 再比如里面还提到了白修德。之前白修德让我印象很深的是其在1943年赴河南灾区访问时拍到的河南饿殍遍野的照片，其中还有我老家县城的照片。 ","title":"我的自传-马大任"},{"link":"/posts/shaoyifu/","text":" 邵氏兄弟（老三、老六）带着《珍珠塔》这部电影，从上海到新加坡发展，开始没有戏院愿意租给他们放电影，二人就租一辆货车，跑到乡下露天放映。\n邵氏兄弟情深\n楼梯旁边的墙上，挂着一幅巨大的照片，已有点儿发黄，那是邵逸夫先生和他哥哥邵仁枚先生在上海影楼拍的照片。邵仁枚先生在邵氏家族中排行第三，大家都叫他“三先生”。\n真是奇怪，两位已经成年、穿着西装的人，还像小孩子一样，弟弟坐在哥哥的膝上。在当今，两个男人以这种姿势坐着大概率会被非议的。由此可见，两人的兄弟情谊多么亲密。\n许多年后，我又回到邵氏大楼寻这张照片。管理邵氏资料室的是六先生的孙子克里斯托弗hu（Chistopher）。\n我问他，能否找到这张照片，他回答没有印象，见也没见过。\n我还问他，有无邵先生兄弟们往来的信件，他也说不知道放在哪里了。如果能够被寻到，那将是关于邵家历史的最珍贵的资料了，因为两兄弟虽然见面很少，但从来没有停止过书信来往。六先生来香港发展后，三先生写给他弟弟的信，由家父负责寄送。家父是一个完全能够守密的人，一些事他只告诉了我，他也知道，我继承了他的道德修养，不会将这些讲给别人听。\n家父说，他一生从来没有见过感情那么深的兄弟，他们无话不谈，包括最私密的男女关系、健康状况，甚至连最轻微的伤风感冒也谈个不停。\n我不问，家父当然也不会提起这些。我是一个不爱谈别人私隐的人，偶尔和家父聊的也是三先生援助他弟弟的往事。在别人眼中，邵氏片场风光无限，但背后也有不顺利的往事。有一段时间，邵氏出品的片子一部接一部地在票房上失利，三先生从新加坡将钱汇过来接济，一笔又一笔，甚至要把房产拿到银行抵押，才能堵上邵氏片场亏空的窟窿。\n那种兄弟情可能是前所未有的，已经没有任何事可以将两人的情分拆开。他们之间，还有一个最后的堡垒，那是在日本东京的银行开的一个账户，他们把最值钱的房产地契、钻石和金币都存进了那个保险箱中。那是两人最后的防线，他们互相承诺不会去碰它。【这个后文会提到】\n邵氏兄弟新加坡如何发家 六先生偶尔也会跟我提及他们兄弟的事，如两人最初都在他们的大哥邵醉翁所创的“天一”片场工作。六先生十几岁时已扛着又重又大的摄影机到处去拍新闻片，剪辑之后在正片之前放映。那些新闻片包罗万象，重要的事件或灾难，他都会出生入死地跑去记录下来。\n六先生后来又向一位叫徐占宇的摄影师学习，在一部叫《珍珠塔》的戏中负责大部分的摄影工作，可是电影上映时，字幕里自始至终没有出现他的名字。\n自此，他下定决心离开“天一”公司。\n“天一”在上海电影界异军突起，又因名字“天一”有“天下第一”的意思，惹得其他电影公司“杯葛”（联合抵制）。趁这个时机，两兄弟向大哥邵醉翁提出，把《珍珠塔》这部片子拿到新加坡去放映，打开那边的市场。\n他们没想到的是，到了新加坡，同样遭受到其他发行公司的“围剿”，没有人肯把戏院借给他们放映电影。于是，两兄弟租了一辆货车，把片子拿到乡下，架起幕布，露天放映起来，结果大受欢迎。六先生常提起此事，自豪得很。\n他所有事都亲力亲为，性子又急，在各个地方跑来跑去。因为在新加坡说英语的人多，总得取个英文名，六先生就叫自己跑跑—一“Run Run”，而三先生因中文名为仁枚，便也顺理成章地叫“Run Me”，这两个字用上海话读起来也合适。\n至于“邵”这个姓氏，英语拼来应该是“Shao”六先生认为外国人记起来没那么容易，反正大家都知道有个叫 “Bernard Shaw”（萧伯纳）的文豪，不如就改成 Shaw 吧。\n到了东南亚发展，不会讲英语是不行的，六先生和三先生一起勤学起来，报了一个英文班学习英语。六先生告诉我：“最初班里有很多人，我排在第三十五位。轮到我报出姓名时，我忘记说我是邵逸夫，‘My name is thirty-five’（我的名字是三十五）脱口而出了。哈哈哈。”\n邵氏兄弟有了英文名字，便得有英文招牌。好菜坞大公司有华纳兄弟，招牌是一块盾牌，两兄弟就照抄，也用了一块盾牌作招牌。这样不怕被人说抄袭吗？\n六先生回答：“不是抄，是借用。”\n蔡澜在日留学时被邵逸夫指定为邵氏驻日代表，主要任务 香港拍的电影在日本冲印，做好质量控制 购买日本电影版权 琐碎工作，例如：日本假血浆做得好，颜色逼真，味道好，这样大明星们含在口中喷出来才不会觉得恶心，由蔡购买运至香港；购买喷火枪械等道具。 好玩的是，帮香港演员到日本整容。 在这段时间里，我第一次遇到了方逸华。我们都叫她方小姐。方小姐不算漂亮，给我的第一个印象是嘴巴很大。后来，我遇到了何莉莉的妈妈。提起方逸华，她从来不叫方小姐，只是竖起拇指和食指，放在嘴边。\n方小姐在东京时对我客客气气的，我当然也很尊重她。她和六先生很少同时抵达东京，总是一先一后。\n她多数时候是先和她的男朋友一起来的。那是一位又白又胖的年轻人，菲律宾华侨，祖籍福建，有时我们还会用闽南方言交谈。他没有中文名字，英文名是Jimmy Pascal。我们都是年轻人，很谈得来。\nJimmy 会和方小姐住一阵子，等六先生来到，他就搬出去。临走之前，他们三人还一起吃饭，有说有笑。\n我一直没有搞清楚他们这种关系，后来有次家父来了东京，我们聊起这件事。\n“六先生是怎么认识方小姐的？”我禁不住好奇地问。\n家父说：“方小姐最初是一个魔术师的助手，人年轻，身材又好，和六先生很投缘。她在六先生的栽培之下学习演唱，后来当了歌星。”\n“她男朋友呢？六先生怎么能容忍？”\n“有许多人际间的关系是很复杂的，六先生容人之量最大，你以后便会慢慢地了解。”家父说。\n这一点，我后来果然觉察到了。当年，六先生一直用心栽培李翰祥，而李翰祥却背叛了他，自己出去搞“国联公司”，到中国台湾地区拍戏，和六先生打擂台。后来，李翰祥没有成功，在走投无路时又回到香港，并托人向六先生求情。六先生爱才，原谅了他。当时，方小姐已在邵氏掌权，竭力反对，但六先生没听她的，让李翰祥回来了。李翰祥随后拍了一连串卖座的电影。这时，家父跟我说的关于六先生的容人之量的话，我才真正理解。\n六先生是非常尊重有才华的工作者的。据说李翰祥离开之前，对六先生也不太客气，这些六先生都忍了下来。他的这种度量，是常人不能够拥有的。\n六先生一向教导我：“如果你喜欢电影，就得想办法不要离开它。如果黄梅调不卖座了就拍功夫片，功夫片不卖座了就拍风月片。电影能卖座才能生存，没有什么对或不对的。”\n开设演员训练班是六先生的主意，他说：为什么要受大明星的控制？为什么老是要付那么多钱请他们？为什么不能自己训练一班青年人，把他们培育成下一代的大明星？\n从杨过这个人物身上得到了启发，倪匡替张彻写出了《独臂刀》（1967），这部电影在当年大卖特卖，破了一百万港元的票房纪录。从此，张彻被冠上了“百万导演”的头衔，事业一帆风顺。\n张彻最大的功劳是把武侠片和功夫片带进一个潮流，反转了当年以女明星为主的文艺片的“阴气”。\n到了 1969年，来自好莱坞的萨姆•佩金柏（SamPeckinpah）拍了一部叫《日落黄沙》（The Wild Bunch）的西部片。片中，年华已逝的英雄们在金钱的驱使下去保卫一个小镇，一个个地牺牲。他们在慢镜头中中枪无数，血液飞溅。\n张彻大受震撼，之后一直用这种方式来表现英雄们遇害的情景。当时吴宇森也受到了影响。他当过张彻的副导演，在试片室中看“毛片”时将画面一个个地记下，不大出声，非常勤奋。张彻喜欢骂人，但从来没有骂过吴宇森。\n在张彻的主张下，六先生从日本请了一群武师。他们把这些武师叫作“杀阵师”，是动作指导的意思。日本影片中的厮杀场面多数是英雄和歹徒提对厮杀，杀了一个又一个，其余的歹徒在旁边等男主角杀完才动手。张街认为这极不合理，歹徒要上就一齐上，何必等？这种改变反过来影响了日本武侠片，五社英雄等日本导演就学了过去。\n张彻痴迷于工作，对身体健康完全不理会，问题随之而来：他的腰也开始弯起来，听力也下降了。但他还是每天照常开工，片场是他的一切。后来他又训练出一班武师来，但武侠片的潮流已过，不能起死回生。\n张彻身体不行了，脑筋却还是很灵活，耳聋听不了电话，他就以传真来与外界沟通。黄霑一给他发去传真，即刻得到他数十页的回复。渐渐地，他被人遗忘了，没什么人理他了，但他还是住在邵氏宿舍里。方小姐再三派人叫张彻搬走，但张彻说“如果六先生下命令，我即刻搬！”始终，六先生是念着他那份情的，让张彻留了下来。\n他在2002年获得香港电影金像奖的终身成就奖，同年逝世，享年79岁。\n其实，六先生之所以要我成为影展的一分子，是因为要交给我一个重大任务—暗中和其他评审联络感情，协调他们的评审意见。\n“要怎么做才好呢？”我问。\n“到时邹文怀会教你的。”他回答。\n“我会替你准备些礼物。”邹先生说。\n什么礼物呢？黄金的劳力士手表，就是香港人所说的“金劳”了。这表在当年价值不菲，每个男人都想拥有。事前，邹先生买了一批“金劳”给我，我就把“金劳”一个个地送给各位评审。这在当时是一种见怪不怪的行业风气。\n也不是每一位评审都贪心，有些人很正直，不受引诱。“金劳”要送谁？那就要看人了。怎么看？从吃自助餐时的表现就可以观察出一二。那些吃不完也要尽量多拿的评审，便可用“金劳”来收买。\n。。。。新加坡的影迷非常疯狂，听到消息后租了几十艘小艇，坐满了人，向我们的船冲来。\n陈厚听到消息后回舱换了一套蓝色的航海双排纽扣西装，白色裤子，悠闲地走出来，双手搭着栏杆，一条腿跷在另一条腿上，摆好姿势，等待影迷来到。\n岂知影迷们在远处以为他是另一个人，大喊：“杨帆！杨帆！”\n当年，杨帆的《狂恋诗》刚上映完了，身旁男女都为他欢呼。陈厚听到了喊声后，把他那跷着的腿收起，从容地整理了被风吹得凌乱的头发，向他们深深地鞠了一躬，退回房间。\n这都是我的亲身经历，我也在这些前辈身上看到了悲惨的一幕。不管你曾经有多成功、多红，终归都有谢幕的一天。当这一天来到时，我们都应该向陈厚学习那份优雅。\n但和六先生的座驾比起来，西本正的车什么也算不了。从影城人门后左转，就是他的名车收集处，车多得放不下。这里的劳斯菜斯就有多辆，其中一辆有两个引擎，一个坏了就由另一个驱动，不必担心死火的可能。\n另一辆 Cadillac Escalade也是经典车，不过美国车都是左舵驾驶，当时的香港只容许右舵驾驶的车辆上路，那怎么办？\n六先生笑着说：“我打电话向他们买右舵驾驶的，他们说只能定制，但一定制起来就最少得做十辆，我说没有问题，他们就做好了运来。”\n“一个人用十辆车干什么？”我问。\n六先生说：“车运来后，我召集了九个朋友，一人买了一辆。”\n车虽然多，但六先生最喜欢的还是那辆劳斯菜斯。\n他一上车就打开报纸来看，从来不浪费一分一秒。六先生本人住在清水湾道的井栏树的公寓中，地方不大，但他说住惯了，舒服就是了。\n到后期，通了地铁，六先生一遇到塞车，就跳下车来搭地铁。一个人，不怕有绑匪吗？有人问他。六先生笑着说：“大家以为我一定有保镖的，不敢动我。”没有人敢绑六先生，但有人绑了他的儿子邵维钟。\n有一天，六先生和我在试片室里看戏，忽然电话响了，从新加坡传来消息：邵维钟被匪徒绑票了。\n“要不要停一停？”我问。\n“继续放映好了。”六先生不动声色地说，“绑匪要的不过是钱，有钱就有的解决。”我从来没有看过那么镇定的人。\n大家都想知道此事后来是怎么解决的。邵维钟这个人全身是胆，绑匪把他绑走后，将他藏在车的后备厢里，一路颠簸，车锁松了，他就等车遇到红灯停下时打开后备厢逃走了。\n“他们没下车抓你？”后来我遇到他时问。\n“我已经逃得远远的了，他们跳下车向我开枪，我就学着电影里面的人，‘Z’字形乱跑，他们的枪没打中我。嘻嘻。”他笑着说。\n他真有其父之风。\n《银翼杀手》，竟然邵逸夫有投资，而且没有亏本，据说在片头片尾可以看到其名，我没注意过。 作为导演的李翰祥当然也被捧到天上去了。接着，他撕毁了与邵氏的合约，到台湾地区发展，与邵氏打对台。这些事都已成历史，各位有兴趣的话可以去翻查电影资料。\n这样一个人，六先生是否会对他恨之入骨、永不录用？当他发展失败回来求六先生再给他一个机会时，方小姐当然是大力反对的。但六先生就是有那么大的气度，把他请了回来。\n那时，他想在邵氏片场大兴土木，搭一个古代市镇，内有小桥流水，一意要重现《清明上河图》中的繁华景象。六先生毫无异议地批准了这个巨大的工程项目，在摄影楼的旁边搭建出来一整条街。\n“翰祥就有那么大的本事。”六先生跟我说，“你让他搭什么布景，他都可以一点儿一点儿地搭出来给你看。”是的，六先生是爱才的，但他更爱电影。为了拍出好的电影，他什么钱都可以花，什么人都可以原谅。\n“那不是违背原则吗？”我问他，“做人总不可以没有原则呀！”\n“我有原则。”六先生宣布，“我的原则是没有原则。”\n作者很看不上方小姐。方小姐的采购组，弊病不少。 但是，“小数怕长计”的道理总是行得通的。李小龙来谈片酬，以美元结算，显然是很高的。方小姐说，如果这次答应了，今后公司里的大明星都要求加薪，那怎么办？\n最终，邵氏只得把这个人才放弃了，钱给嘉禾赚去了。\n同样，本来邵氏自己培养出来的明星，如《大军阀》（1972）的主演许冠文，也因片酬谈不拢而被放弃，转投嘉禾。嘉禾的崛起，真是拜方小姐所赐。\n之前我也提过，电影是一种“烧银纸给观众看”的行业，样样节省，影片质量当然下降。再加上当年新艺城、德宝等新电影公司的崛起，邵氏在票房上节节败退。\n一天，六先生皱着眉头同我：“再这样下去怎么办？再下去怎么办？”\n聪明的六先生不会不知道症结所在，我说什么也是多余的，方小姐的势力已稳固。六先生知道邵氏在电影界的地盘已保不住了，就转向电视方面发展。他一早就是 TVB（香港电视广播有限公司）的大股东，那时候方小姐还没有把魔掌伸过去。电视台是一个巨大的赚钱工具，不过当年我心里也在想：如果六先生用同样的方式管理电视台，TVB 终有一天会步邵氏的后尘。\n有一天，六先生也和我谈及如何阻止别家公司的发展。我大胆建议：“香港的戏院也只有那么几家，把戏院全部买下，他们往哪里跑？而且香港的地皮也只会一天比一天贵，这笔投资是可以做的。”\n六先生听后笑着说：“你讲的并不是没有道理，但是地产这一行很另类。一碰地产，人对金钱的价值观就会完全改变，一切都以百万、千万来算。这一行不是我们这种一块钱一块钱赚起的人做得来的。”方小姐在省钱这方面有她的一套，但我从来不知道她赚过什么钱。\n“炖冬菇”是“工作被架空”的意思。是的，一切事务不管大小，方小姐都要插手，我在制片方面的工作当然是越来越少了。但我还是每天一早起床接听六先生的电话，陪他去看电影，看导演提交的毛片，剪接过长的电影等，工作还是繁忙的。\n东家不如意打西家，我当然也想过辞职不干了，于是我向家父提起自己的打算，家父又把这件事告诉了三先生。三先生叫我一定得忍，没有他的许可不准离开。我几次想要走，都想起了三先生这番话。\n我欠三先生的实在太多。新加坡有强制的兵役制度，我虽人在海外，但也接到了征兵的来信，心想这下子完了。我绝对是一个不会乖乖服从命令的人，竟然叫我去当兵！我那刻想到《乱世忠魂》（From Hereto Eternity ）（1953）这部电影中，列兵安吉洛马乔被军官用警棍打死的场面。在担心了好久之后，我接到新加坡军方的通知，说我已免除兵役，于是大大地松了一口气。我怎么会那么幸运？家父来信告诉我，是三先生动用了他的关系把我给拉了出来。当年，三先生已担任了新加坡旅游局的局长，帮我做了疏通。可是，这不是没有代价的，不久就有人检举他私下滥用职权。\n这时，三先生大方地把他的小儿子邵维锋送去当兵。他说，如果要滥用职权的话，怎么不将自己的儿子的兵役免了？此事这才告一段落。\n所以，我一想到辞职，就想到三先生对我的这段恩情，便坚持留了下来，就算我再看不惯方小姐的横行霸道。\n我在宿舍生活时，家父和家母也时常从新加坡来香港小住几星期，两人都喜欢我妻子张琼文烧的一手好菜。\n在最后来香港的那次，父亲告诉了我一个秘密：三先生叫他陪着一同去了东京，下机后直接来到银行，打开了那个由邵氏两兄弟共同保管的保险箱后，发现里面空空如也，所有值钱的地契、股票及金币，都被六先生拿走了。\n我听到这件事后能做些什么？三先生对我有救命之恩，六先生这些年来对我的培养和教导，也是我不能忘记的。\n事后，我向六先生请假，回了一趟新加坡。在新加坡见到三先生时，素来温文尔雅的他，气得整张脸都涨红了。他说：“如果我身上还有一把手枪，一定一枪把他打死！”\n在家族成员遭遇过几次绑架事件后，当地的警方给三先生配了手枪以防身，后来天下太平了，防身用的手枪才被警方收回。\n我不禁想起新加坡罗敏申路的邵氏老办公室里，楼梯旁他们兄弟合抱的那张黑白照片。不承想，如今兄弟二人的关系竟会走到这种地步，令人唏嘘。\n我跟三先生说，我对现在的一切都无能为力，在片场的工作也不如意，不知可否辞职？ 三先生听了黯然，点点头。 有一次家父来香港，六先生特意把他叫到办公室里，跟家父说要做一件惊天动地的事。什么惊天动地的事？他说，他要把钱一亿一亿地捐给中国内地，帮着建学校和图书馆。六先生一向精明，连捐钱也精明。 他捐钱有个条件，当地相关机构也必须拿出相同数目的款项，这么一来，一亿变两亿。 其实，六先生如何处理那些钱也不必向家父交代些什么，但是说出来，也许他心里会好过一点儿，我想。 三先生中风的消息传来，他在医院里躺了好几年，人不能动，头发却不停地生长。临终前，六先生去看了他一次，至于两人之间有没有说些什么，三先生听不听得到，这是他们兄弟之间的事了。\n六先生所做的慈善事业无数，在香港到处都可以看到“逸夫楼”。在内地，有官方记录的来自他的捐款有七十四亿五千万港元，建设项目有六千零十三个。\n但六先生的私人财产远超过此数。他告诉我，在他死去之前他要全部捐出。估计，他一共有二百亿的身家。到了晚年，他身体已虚弱，很多事都处理不了了。\n一天，嘉禾的何冠昌先生来找我，邀我进他的公司做事。他知道我喜欢旅行，并能用多种语言与人沟通，嘉禾和日本的电影公司的合作多，需要我这种人。\n我们一拍即合。\n刚好，那时是香港电影“最黑暗的时代”，各地的恶势力见电影可以到处发行，版权可以经销到世界各国，一些歹徒便来抢生意。更有甚者，向成龙伸出了魔掌。邹文怀先生把我叫到他的办公室里，说：“你即刻带成龙走。”\n“去哪里？”我问。\n“能去哪里，就去哪里。有多远，走多远！”\n“什么时候？”\n“今晚。”\n我一听，这话正中下怀。这世界，我最喜欢的都市是西班牙的巴塞罗那，那里有毕加索、米罗、达利，还有我最崇拜的建筑家高迪的作品。当然，那里还有数不尽的美食。\n我们在那里又写剧本又拍摄，住了整整一年。我也享尽了这一年的美好时光。。。。。。\n再后来，方小姐以六先生的健康为理由，逐渐不让六先生见任何人。我看过一些友人和传记中的人物的经历，那些从情妇辛辛苦苦爬上位的女人，到了最后总要把男人据为己有。\n最后一次，在一个星期天，我心血来潮想去见六先生。片场中没有人，我从办公室的门缝中望进去，那么一间巨大的办公室，里面的情景像银幕上的一个远景镜头。六先生从家里抱来了一只猫，将猫放在桌上，和猫对话。我忽然感到一阵悲哀，打消了走进去的念头\n我从此再也没有见到六先生。\n看完之后最大的感受：\n上海人才辈出，群星闪耀，邵氏及文中提到的很多人都是从上海出去的。 很多人出头，听起来也不难，我感觉是在那样的时代，才能孕育出那样出彩的人和人生。 邵氏的成功，也是时代的成功。邵氏的失败，是时代的问题，也是方小姐的问题。 ","title":"在邵逸夫身边的那些年"},{"link":"/posts/olympics/","text":" 乒乓球女单决赛，解说嘉宾是刘国正，离刘国正一战成名的逆转一晃二十多年了，看到的是一个平静、平和的中年男子。说到逆转，樊振东逆转张本智和比刘国正还差了点。\n女单决赛本身，孙颖莎确实打得不好，没有什么特点，反观陈梦总是能主动变线，主动变化，赢得实至名归。陈两届奥运女单冠军，功成名就，而且三十岁了，估计很快退役了。孙颖莎24岁，没有把握住这次奥运，到下一届时28岁，自己状态如何，有无小将追上，还是未知。\n网球女单，感觉郑钦文打的也不好，对方更不好，比如发球，二人首发失误率都很高，二发的质量都很差，可能女子就这样的水平。不过明显郑的球风更硬朗，对方招架有点勉强。\n有了李娜、郑钦文，网球还会有更多的后来者。各种运动，中国都会赶上来，换个角度，国力强盛，体现在各个方面。\n感觉国人也成熟很多，能够很平静的接受银牌和铜牌。\n","title":"随手记：2024奥运观赛"},{"link":"/posts/fenglun_suiyuexiongmeng/","text":" 冯用“电灯泡+”的故事类比房地产，我没想到电灯泡有这么大的影响，比如说没有电灯泡的时候，照明不够亮，演戏的空间不能太大，照明度不够，演员就必须把脸上的色彩画得很浓。 新旧体制的转型相当于两所房子，旧体制是过去的旧房子，新体制是未来的新房子。企业家过去30年就做两件事：一件是对旧房子贴贴墙纸、擦擦窗户、做些装修，这是在旧的框架内适当收拾更新；\n另一件就是派一部分人在旧房子外边搭建新房子，这个新房子叫市场经济。\n改革开放以来，有8000万公务员去建新房子，有个专门形容这种行为的词语叫“下海”。现在每年毕业的大学生，大部分都直接到了新房子，其他少数考公务员的大学生才进到旧房子。另外，就是那些长期依赖旧房子体系、岁数比较大的人，他们对旧房子还是很留恋的，因为一旦旧房子塌了，他们就没有了安身立命之处。\n所谓的改革，其实就是让旧房子里的人尽可能安心，同时保证新房子的建设和运转越来越顺畅。这样，旧房子里的人不但知道自己还可以在里面待着，而且如果哪天自己想要去新房子，能被新房子的人接纳，这样大家就平衡和踏实了。\n社会转型，实际上就是新房子和旧房子之间的博弈和游戏。\n民营企业的死因：\n政商关系 集资 商业竞争 前两种是中国特有。 民营企业家幸存的大体三类：\n纯草根的民营企业家，很能干，是非常有力量的赚钱机器 红顶商人，又做民营企业，又在政协、人大有任职 彻底市场化的民营企业家，就做产品和服务 所以，如果要看今天的商业竞争，可以从结果倒过来看：哪些企业先死。\n从“术”这个层面来看，第一批死掉的，是投机倒把、投机取巧的人，比如卖假药的人；死得更快的，是产品和技术的剽窃者；再有别的原因，就是组织没管理好，团队有毛病。\n从“术”的高一层面来看，想要活下去，有四件事需要处理好：\n第一。股东。如果股东相对牛，即便犯了一点“术”的错误，就算第一个产品做坏了，还可以继续做第二个\n第二，政商关系。过去30年，没卷人政商旋涡里的，基本上能比别人多活一段。\n第三，公司内部治理，内部稍微有点矛盾没事，别打得揭“被”而起、太不像话就行，只要这件事控制在一定范围内，就还能继续走下去。\n第四，控制公司内部团队不要发生群体性、突发性的恶性事件。\n处理好这四件事，活10年基本上没问题。那么要想活10年以上，又要靠什么呢？\n靠“新的愿景”。你的内心要非常强大，这样可以感染并且争取更多的人支持你，而且也可以更好地解决前面的四个问题。看别人看不到的地方、做别人不做的事、算别人算不清的账——如果能做到这三件事情，你就能成功活过10年以上。\n比如马云，他就看见了别人没看见的地方，结果做了别人不做的事，非要“让天下没有难做的生意”。十几年前，听他讲要算海量的数据、在第一个10年赚几亿的钱，很多人都不信，因为我们算数都不这么算。但他就是有这个本事，所以活10年以上不是问题。\n等到大家都是几十年的公司，都在砸儿百上千亿做事，价值观都很牛的时候，要想活到20年以上，这时候靠什么呢？靠智慧。\n一个人如何紧跟变革的时代、不掉队，其实很难。\n我常会想到这样的画面：我在路上走，从这条路拐弯出去，从一个颠簸不平甚至没有路的地方，慢慢找到一条土路，再找到一条车辙，然后拐到普通公路，到达高速公路。这个过程，就是改革开放的过程，是一个转折。\n在改革的过程中，开始是坐在拖拉机上，到高速公路的时候，坐上了奔驰，中间可能还换了很多车。车上的人也在不断变换，刚开始是村里的一帮大娘、老大爷、啥也不懂的小屁孩。最后走着有路了，有的人就想“那不行，出了村不安全，坏人多”，就不往前走了，但你还得继续走。\n你有时候是司机，有时候是乘客，就像我们在开始的时候是司机，20多年后的现在，我们变成了做小买卖的司机，希望在法制健全的轨道上做生意。这个换车换人的过程就叫“高速经营”。\n实际上，这些事情有偶然性，时机的拿捏非常困难。这个过程中有很多人成为“先烈”，但也有很多人上了高速，有些人却还在村里观望，在没人注意的时候就过时了。\n如果车上的人总是不换，也是很闷的，因为他们说来说去都是村里的事，做事情都按照村里的规则来。太平天国为什么会有“天京之乱”呢？就是因为村里的人在惹事。洪秀全建立了那么大的太平天国，把村里的人从金田一直带到天京（现在的南京），扯皮生事的人都是他奶奶、他爷爷。\n现在也很奇怪。别看有些乡镇企业、莆田系企业在大城市里风起云涌，但它们解决问题的方法却还是村里的那一套，村里三老四少、书记、村长都参与解决问题。它们拒绝改变，这就不对。车已经出村了，车上那些村里的人就要减少，一路上需要增加新人，增加一些县城里的人、三线城市的人，上了高速公路就要往大城市扩展。组织要不停变革，人也要不停改变。\n所有企业家都要随着时代的变化而变化，且要领先半步变化。眼睛要看一步、十步，行动要领先半步。现在是互联网时代，小组织可能更有活力，我们也要跟随时代进行“变调”，改变价值观，利用小组织的优势，自驱动、低成本、高回报。如果建立了很多小组织，那么这些组织的价值观必须相同，否则小组织就会乱，就成了一盘散沙。\n怎么看一家企业的好坏 第一，一家好的企业应该能用一句话说清楚，别人也能一眼看得懂。比如公司是做食品，还是服装的，无论问哪一级员工，大家都能说得八九不离十。 第二，好公司一定有产品在连续销售。 第三，判断一家公司好不好，要看公司老板或经理下班以后干什么，和什么人混在一起。 钱以外的本身 价值观 正确判断未来 当一个企业已经发展得不错的时候，实际上也面临着更大的挑战。 这时候“钱以外”的第二个能力，就是你能不能正确地判断未来。 我在公司已经做了25年董事长，没有做过一天经理。而且我发现我能做的工作并不多，但是很费神，我就做三件事情： 第一，看别人看不见的地方。当一个企业正常发展时，“看不见的地方”包括了风险、机会、很多在当时还不知道的未来变化的趋势。所以我经常说，我要和神、先知做邻居。 第二，算那些算不清的账。那些眼前的账最简单也最现实，比如我们要给灾区捐献多少钱。但是还要算一笔背后的账，比如社会的情绪、公众的期待，都和捐多少钱有很大的关系。还有更复杂的账，比如我们要找一个合作伙伴，可能有五个人站在你的门口，他们都可以给你投资，其中有土钱、洋钱，有笨钱、聪明钱等。你选谁？其实这种能力，就是在算不清的账里找到算清楚的方法。 第三，做别人不愿做的事情。比如履行企业公民的责任，去救灾、去做公益，这些事情是经理人不太愿意做的，因为既耗精力又要出钱。所以，董事长就要做这些他们不愿做的事情。 人生有很多东西是风。比如别人的流言蜚语、潜在的威胁，这些我们看不见的力量，会突然强大到足以让你死亡——别人挥拳，你尚且可以抽刀来应对这种有形的力量，但是像风一样的力量来了，你能怎么办？\n当舆论、道德、媒体，这些所谓“软性”的东西，要像风一样把你吹倒的时候，你是没办法急的。一旦跟所有人急，你就成了恐怖分子。你应该把自己变成这种风一样的存在，培养自己的软性力量，比如影响力、眼光，还有情绪管理能力。\n社会没有理由为你准备好成功，等待你去享受，失败才是社会给你的正常回报。\n痛苦可以滋养人，一个人的坚定、睿智、幽默、自信、大度，没有吃过苦是炼不成的。一天到晚很舒服的人，很容易小心眼。\n“ 1993年改制以后，有了《公司法》，才允许私人注册公司”，这个是我没想到的，今天是2024年，仅仅过去了31年。\n一个优秀的企业家，要能够活在未来、创造未来、展望未来，一定要有三种本事：第一，必须要有一个明确而坚定执着、正确的价值观，因你而改变环境，因你而使别人更幸福。第二，要掌握一些非常有效的科学技术。第三，要具备历史洞察力，必须掌握历史演进的规律，从过去的得失和教训当中，预见未来可能发生的故事。\n放到民营企业上来说，就是商业模式简单、一目了然；在自身领域内实现专业化；拥有长远眼光；愿景明确并且能够顾强坚持。\n越简单的东西越容易活，也活得越久。所以商业模式简单清晰，甚至比一个企业的规模还重要。\n我发现一个优秀企业家穷其一生所拥有的财富，其中只有1/3是通过现金利润挣来的，而这1/3又只能通过在一个专业领域中用看似简单的商业模式才能以复利的速度增长和积累。\n第二个 1/3 是随着国民财富总量的增长，由全国人民共同努力和奋斗创造的。因为随着财富总量的增长和本国货币的升值，你所拥有的财富将自然升值。\n这个 1/3 可以看成全国人民对“简单、专注、持久”的经营方式颁发的奖金。这个数额巨大到可以和你一辈子所挣的现金相比，但你并不需要为此多付出边际成本。你所要做的，就是让企业用简单的方式活下来，活到有一天能够站到领奖台上接受全国人民颁发给你的这份奖金。\n最后的1/3 则是由全世界人民颁发给你的另一份奖金。当你在海外上市之后，就能站到国际的领奖台上，未来的收入就是你所拥有的股价。\n执着其实不易，其最大的动力来源于理想，而理想又源自对未来趋势和最终目标的深信不疑。所以，执着的人并不一定是最有才华的人，但必须是对未来比常人具有更深刻洞察力的人。\n人们判断事物通常有三种方式：第一种是以过去判断现在，拘泥于经验，这种人在快速变化的环境中最先死去；第二种是以现在判断现在，参照榜样行事，榜样好你就能活，榜样不好就跟着死，但较之第一种有进步；第三种最难，站在未来判断现在。\n这种判断所带来的创新，是引导企业与时俱进、进入主流的制胜法宝。\n在所有的财产委托和代持关系当中，唯一没看到打过官司、没有听说过亲人相残的，就是子女和母亲之间的委托关系。在商业历史上，儿乎没有听说过因为母亲侵占子女的财产而打官司、最终闹得非常难堪的情况。\n也就是说，通过母亲代持，是非常稳妥和安全的。尤其是现在独生子女的时代，委托给母亲更靠谱。因只有母亲是百分之百地希望子女好，对子女的爱是200%的付出和1000%的投入，而且，母亲和子女之间也没有财产竞争关系，家庭关系也更稳定，不太会有“老爸泡妞”这样的故事。\n15年前我读了特朗普写的一本书，叫《东山再起：投资界的不死鸟》，并应邀向中文读者作了推荐，我算是最早在国内介绍特朗普其人其书的人吧。 。。。。。 特朗普在这本书里讲到，他一生最讨厌的就是媒体，因为媒体老在说他是坏人。他一生中都在怕别人误解他，比如他在交易当中实际上是很诚实的，但是很多人认为他在交易当中不择手段。他显然也受到了以上两种价值观（道德）的控制。所以通篇在表白自己人格的正义性。\n我们一般人看一幅画，是看见、看清、看明白，但是哲学却要求你通过思维训练，能够看透、看穿、看破，甚至看到反面去，直到最后你能通过生看见死，通过死看见生，通过男看见女，通过老看见小。一般人看老就是老，但如果你能通过小看到老，反过来再说老，你感受到的境界一定不一样。在哲学上这叫“相反相成，对立统一”。\n与文学的研究对象不同，哲学讲的是一般性、普遍性和规律性，所以我们会发现，哲学说的都是永远正确的“废话”，比如“时间是永恒的”，这不是人人都知道的道理吗？但如果你换一个说法，“你要好好活着，因为会死很久”，立刻会从另一个侧面再次验证了这样一句真理，非常有意思。\n我不主张创业者看太多管理类的书籍，这些书的存在就是悖论，满街都是管理人才，到处都是破产企业，就像到处都在卖爱情教程，可你平日里听到的却都是些不幸的婚姻。当创业遇到困境的时候，这些书是帮不了你的。\n创业者适合看那些能够展现人性背后东西的故事，这类书可以帮助他们了解更多的现实。创业者主要在和人打交道，读懂人性，了解人心，这对创业道路中处理问题会有很多帮助。将世上所有的丑恶和美好尽收眼底，就知道这世界大概是什么样了，遇到挫折、麻烦的时候，可以触类旁通、举一反三，知道为什么会这样和该怎么做。 。。。。 对于一个企业领导者来说，不断地读书、学习是非常有必要的，除了提高自身价值外，通过大量地汲取知识，还能使你包括前瞻力、决策力和沟通能力在内的领导力所有进步，有益于巩固你在群体中的领导地位。\n。。。。\n第二批进去的人，甚至要先把第一批死了的人焚化掉，把骨灰弄干净。等他们进入毒气室之后，又进去第三批。这样有秩序地、一批一批地，自己按照德军的命令走进毒气室，绝少有人反抗。\n我一直在想，数量在德军10倍以上的犹太人，其中不乏精壮的男人，为什么就这样几百万地被屠杀了，而且没有反抗。如果说这群人是几百万头牛、几百万头猪、几百万头驴，估计德国人都不能这么容易就把他们焚化了。可能几百万头驴会把德军全都踢死，即使德军有机关枪也无济于事。\n那么文明和野蛮在一起的时候，为什么文明反倒容易被野蛮奴役呢？我就去看这后边的解释，终于有一条解释让我信服了。有一本书上的解释说，文明是一个驯化的过程，是让人脱离野蛮进人秩序、进入道德、进入法律、进入一个规则当中，人一旦被驯化变成了文明人以后，他就会按照这种习惯、道德、法律、规则去行事，认为这样的一种行为是理所当然的，是必须的，是可以被坦然接受的。\n所以，越是被训练得好、越是受教育水平高的人，相对来说，他的底线也就越高。他的行事规则就被确定了，自己在心里已经把预设的程序确定下来，于是就只能按照被教化之后的这个方式，去应对外部的挑衅，从而丧失了本能。这时，一旦有野蛮人过来，命令他们把衣服脱下来、把耳环取下来、把眼镜摘下来，他们也没有任何反抗意识，认为就应该是这样的。接近講气室的时候，他们已经绝望了，在这种情况下，他们仍然排着队进入毒气室。\n这是一种悲哀，甚至可以说是文明被野蛮奴役的悲哀。越是文明程度高，也越容易被野蛮奴役。所以，野蛮在文明面前，往往还表现出一种原始的冲动和暴力的强大，以及不按游戏规则来玩的优势。这就是文明和野蛮在相处过程中的一种潜规则，或者说是一个显而易见的结果。\n其实越是没有被教化的人，本能越强大。也就是说，越接近于野蛮，就越容易变成野蛮的胜利者。\n话说回来，我们看到的泼妇和贵妇的关系中，贵妇就是被教化的文明人，但最后却沦落成冲突关系中的弱者、失败者和被奴役者。当贵妇遇上泼妇，当文明遇上了野蛮，野蛮就是这样取胜的。历史给了我们一个特别有意思的警示：不要沉迷于我们的文明进步当中，我们其实是经常被野蛮征服的；而当野蛮征服文明的时候，我们常常会像贵妇一样落荒而逃。\n老男人应该多走动，多跨界，在玩中思考，在玩中交友，打磨心性，品味人生；小男人呢，就必须去思考，去迷茫，去想出路，傻愣愣不思考出路的小男人一定没什么前途。\n","title":"冯仑-岁月凶猛"},{"link":"/posts/trump/","text":" 这样一个总统，在被枪击之后没有吓傻，不忘穿上鞋再走，走之前还要停下来，三次振臂高呼：\u0026ldquo;Fight! Fight! Fight!\u0026quot;,所表现出来的勇气，跟拜登天壤之别。本来就是高分，现在又一下子加分这么多，相当于保送下届总统了。\n问了一下Kimi：请按时间顺序，详细列举trump在第一任总统期间的各项大事\n唐纳德·特朗普（Donald Trump）在2017年至2021年的第一任期内，发生了许多具有重大影响的事件。以下是按时间顺序排列的一些重要事件列表：\n2017年1月20日 - 特朗普宣誓就职，成为美国第45任总统。\n2017年1月23日 - 签署行政命令，美国退出跨太平洋伙伴关系协定（TPP）。\n2017年1月27日 - 发布“穆斯林旅行禁令”，禁止来自七个主要穆斯林国家的公民入境美国。\n2017年3月 - 提出“美国医疗保健法案”（American Health Care Act），旨在取代“奥巴马医保”，但未能在国会通过。\n2017年4月 - 下令对叙利亚政府军目标进行导弹袭击，回应叙利亚化学武器袭击事件。\n2017年12月 - 签署《减税和就业法案》（Tax Cuts and Jobs Act），实施大规模税改。\n2018年5月 - 宣布美国退出伊朗核协议（JCPOA）并重新对伊朗实施制裁。\n2018年6月 - 在新加坡与朝鲜领导人金正恩举行首次会晤。\n2018年7月 - 与欧盟领导人就贸易问题发生冲突，随后达成一定的贸易协议。\n2018年10月 - 股市大幅波动，特朗普批评美联储的加息政策。\n2018年11月 - 中期选举中，民主党赢得众议院多数席位，共和党保持参议院多数。\n2019年1月 - 宣布美国进入国家紧急状态，以绕过国会获得边境墙资金。\n2019年2月 - 特朗普与国会就边境墙资金问题发生争执，导致美国政府部分关闭35天。\n2019年6月 - 特朗普在朝韩非军事区与金正恩举行短暂会晤。\n2019年10月 - 宣布从叙利亚北部撤军，引发国内外的广泛批评。\n2019年12月 - 特朗普被众议院弹劾，理由是滥用职权和妨碍国会调查。\n2020年2月 - 参议院宣告特朗普在弹劾审判中无罪。\n2020年新冠疫情 - 特朗普政府的疫情应对措施受到广泛批评。\n2020年5月 - 在明尼阿波利斯警察暴力执法导致乔治·弗洛伊德死亡后，美国多地爆发大规模抗议。\n2020年11月3日 - 举行总统选举，特朗普败选。\n2021年1月6日 - 特朗普的支持者冲击美国国会大厦，试图阻止国会认证选举结果。\n2021年1月20日 - 特朗普离任，乔·拜登宣誓就职成为美国总统。\n这些事件仅是特朗普任期内的一小部分，他的政策和行为在国内外都引起了广泛的争议和讨论。\n看起来Trump有几个特点：\n以美国为中心，喜欢退群，不在意盟友感受 喜欢出风头，比如跟金正恩的会谈 不喜欢在打仗上耗着，比如从叙利亚撤军 可能是因为地产商出身，不喜欢高利率,不喜欢高的企业所得税 我的推测：\nTrump大概率再次上台，商人出身，没有政治背景，两次当选总统，可以说空前绝后。 Trump上台后，对中国不会更好，但是中国的压力会有很大的缓解，因为：Trump不喜欢美国的盟友，认为盟友占美国便宜。美国的盟友们，包括加拿大、澳大利亚、英国、日本、韩国、一众欧洲国家，因乌克兰而跟俄罗斯仇恨很深，现在因为巴勒斯坦而跟中东也关系不好，那么，当以后跟美国关系也不好的时候，唯一的选择就是跟中国缓和关系。所以那时候，中国会有喘气的机会。 Trump大概率后面还会有被刺杀的可能，同时，上台之后大概率还会被弹劾。 Trump上台后（其实是无论谁上台），美国国内冲突会继续恶化，有生之年看到美国分裂，也有相当的概率。 Trump上台后大概率会降低企业所得税，这会倒逼中国降低企业税赋。 长远来看，中美关系是逐渐恶化的趋势是确定的，我们这代人，有生之年应该会看到中美的热战\u0026ndash;代理人战争，或者直接冲突。 2024.09.16 补充：\n据说现在哈里斯风头很盛，但是我仍然看好Trump。我们现在看到的，是美国媒体控制的消息，而美国媒体是比较偏向民主党的，最后鹿死谁手还不一定。\n另外，这两天新闻，Trump可能遭遇了刺杀，安全人员枪击了一名距离Trump 500米之内的持械分子。\n","title":"关于Trump的预测"},{"link":"/posts/fenglun_yemanshengzhang/","text":"【这本书很好，但是我看的时候没有发现可以拍照提取文字，所以笔记少，摘抄也没有。但是是一本好书，里面记录了冯的很多思考。】\n冯在自序中先讲了潘金莲的故事，再用来比喻民企。\n冯仑还讨论了民企合伙人之间的架构和权力、座次分配的问题，这个问题搞不好，很多民企都做不长也做不大。提到万通分家的几个契机挺有意思，他们最后的方式是以江湖的方式进入，以商人的方式退出。\n","title":"冯仑-野蛮生长"},{"link":"/posts/renzhiqiang/","text":" 历史上最听话的中国人对政府的指示奉若神明，更曾有“最高指示一句顶一万句”的迷信，但改革开放之后，“实践成为检验真理的唯一标准”，打破了“两个凡是”的同时也打破了神坛，让神像在倒下的同时，也让政府的指示在“摸着石头过河”中有了博弈的可能，更多的农民用生命推翻了法律的约束，并最终修改了宪法，这让更多的中国人知道，政府并不是真理，也绝不是神仙，政府也常常会愚蠢的错误，政府必须在民众和实践的检验中学会改正错误，政府恰恰是在不断地纠正政府过去的错误，从修改宪法开始，逐步撤销和修正了那些历史上错误的决定和开放历史上曾被封为禁区的领域。建立市场经济的框架，在邓小平的南方谈话之后被列入了党的工作重心，“发展是硬道理”在那一段时间成为了推动改革的后盾，让中国从贫穷的困境中迅速地走出来，并成为了世界经济增长的中心。恰恰是在这种博弈中有了民间的各种创新的实践，才让中同有了理论上的突破，有了生产力的发展，但当中国政府口袋中的钱越来越多时，强势的政府又回到了要指挥一切，从垄断的配置资源，到政府主导的经济发展，让改革的步伐在凯恩斯主义的大棒下倒退了。\n看了任的书才意识到，中国从改革开放至今也就四十多年，除去初期的混乱和摸索，92 年南巡讲话至今也才 32 年。另一方面，考虑到清朝以来，整个社会的制度被完全打破，新的制度其实一直在变化和进化，民国完成了部分进化，但是共和国又基本全部打破，或者从党的视角来看，这个政党第一次执政，基本从无到有建立了一个国家方方面面的制度。所以，从这两个方面来讲 中国现在的制度还很不完善，是合乎逻辑的。\n任是做房地产的，所以书中提到中国在房地产领域的法律法规政策落后，各部门的水平落后，甚至可以说原始、粗糙、任性，是之前我没想到。\n再联想到社会的其他领域，想必水平也不高到哪里去。\n进而想到，最近二三十年的成就，很大程度上是这个民族生产力自然迸发出来的力量，政府做了一些正确的事情，就让这些力量发挥出来了。或者说，好的方面在于，政府做了一些事情，但是由于掌控力不够，也没有做更多的干预，所以生产力、民营企业才有机会发展起来。要说这个政府做的多么好，其实不是。但是，如任所说，现在政府掌握了太多的资源，太强势，所以负面的效果会逐渐显现出来，甚至有可能变成主要矛盾。\n","title":"野心优雅-任志强自传"},{"link":"/posts/win_friends_and_influence_people/","text":"第一篇 如何与他人友好相处 第一章 喜欢批评就没有朋友 批评和责备他人是没有意义的，因为那只会让人在心理上增加一层防护，并且被批评的人也会因为受到批评而竭力为自己的错误辩护。批评与责备他人也是危险的，因为它会伤害到一个人的自尊，并因此激发他对你的反抗。\n从这样的例子中，我们就能够看清楚人的自然天性，即自己做错了事情，只会想法推卸责任，只会指责别人。因此，当我们在批评指责他人之前，一定要去想想卡邦、克劳雷和福尔这些人的例子留给我们的启示。\n批评就如同我们自己饲养的鸽子，它们被放飞之后，还会飞回到我们身边。我们要明白这样的事实，我们对他进行批评，他也一定会为了替自己辩护，反过来指责我们的。这就如同温和的塔夫脱在面对老罗斯福指责时所做的那样：“我不清楚自己该怎么去做，才能与自己已经做过的有所区分。”\n第二章 真诚地赞赏他人 我能够让你情愿去做任何一件事情的唯一方法，就是给你所需要的东西。\n你需要的东西是什么？\n维也纳的弗洛伊德是20 世纪最负盛名的心理学家，他曾经说过这样的话：我们所做的一切事情都源于两种动机，一种是对性的冲动，另外一种是渴望成为伟人的欲望。\n美国著名的哲学家杜威教授对此说法有不同的意见。杜威博士认为：成为重要人物的欲望是人类天性中最深切的冲动。\n切记，“成为重要人物的飲望” 这句话是非常重要的，你将从这本书中看到很多与此有关的话。\n你需要的东西是什么？你需要的东西并不多，但是你毫不放弃地追求着你真正需要的那些东西。以下，是几乎每个正常的成年人都想得到的：\n健康和生命安全； 食物； 睡眠； 金钱以及金钱能够买到的东西； 生命无后顾之忧； 完美的性生活； 儿女们的健康； 自尊感； 这些欲望几乎全都能够满足，可是却有一种深切的欲望，和食物、睡眠一样难以满足，那就是弗洛伊德所说的“成为伟人的欲望”，也就是杜威所说的“成为重要人物的欲望”。\n林肯有一次在信件的开头写道：“每个人都喜欢被人尊敬的感觉。”威利姆•詹姆士也曾说过：“人类天生就有深切的渴求被人重视的本质。”他说的并不是“希望”“欲望”或是“渴望”，而是“渴求”。\n人类的这种“饥渴”是非常痛苦的，并且急需迅速解决，能够满足这种心灵饥渴的人可以将任何人控制在他的范围内。\n人类和动物之间的一个重要区别便是对自尊感的渴望。 。。。。。\n第三章 站在他人角度看问题 谈论对方所需要的，并且提出建议，这是世界上唯一能够影响他人的方法。\n当你对别人有要求的时候，请你牢记这句话！比如当你看见你的小孩在吸烟，而你想阻止他时，你不要喝斥他，而是要告诉他，吸烟会让他在棒球队选拔中被淘汰，或者让他在赛跑中落后他人。\n奥佛瑞教授曾在他的《影响人类的行为》中写道：“我们最基本的欲望决定了我们的行为，无论在商务中、家庭中、学校中还是政治中，每当你想要让别人信服，都要将对方迫切的需要激发出来，这样任何事情都可以顺利得多，不会遇到很大的困难。”\n所以当你打算劝说别人去做一件事情的时候，不妨在开口前先问问自己：“我怎样做才能让他觉得自己有必要做这件事？深思熟虑之后的决定，可以避免我们在别人面前只能说出自己想要的，而无法顺利达到目的。”\n亨利・福特曾经说过这样的话：“能够站在对方的立场，从对方的角度去考虑事情，就如同你为自己所想一样，这便是成功的秘诀。”\n威利姆・温德曾经说过：“人性中最大的渴求就是展现自己。”我们为什么不将这个道理运用到自己的生活和事业中去呢？\n第二篇 如何赢得他人的喜爱 第一章 真心地关注他人 著名的奥地利心理学家阿德勒，在他撰写的《生活对你的意义》一书中说道：“一个在生活中不懂得关心他人，对他人从来不感兴趣的人，他的生活必将遭受到严重的阻碍与困难。与此同时，他的这种生活习性也会给他的亲人和朋友带来极大的心理伤害和心理困扰，以致在整个人类历史中发生的那些悲剧事件里面，都能够看到这些人自私的身影。”\n也许你已经阅读过很多研究人类心理的专著，然而你却没有深刻理解阿德勒这本著作中的这句话对我们的真实意义。我是个不喜欢过于重复的人，可是阿德勒所说的这句话对我们非常重要，我不得再次写下来。\n克纳福发现的真理并没有什么新鲜的，早在耶稣基督诞生前的100年,著名的古罗马诗人西拉斯就曾说过：“要想让别人对我们感兴趣，我们必先对别人感兴趣。”\n因此要让别人喜欢上你，你必须遵守的第一条原则就是：\n真心地关注他人。\n2 第二章 留下好的第一印象 一个人的行动，比他的言语更有影响力，一个人的行动，比他所说的话更具表现力。人们面带微笑，就好像在说：“我喜欢你，你让我感到愉快，能够见到你，我觉得非常高兴！”\n因为没有给他人微笑的人，自己更需要他人的微笑。\n所以，如果你想让人人都喜爱你，你要做到的第二条原则是：\n留下好的第一印象。\n3 第三章 记住别人的名字 记住他人的姓名在商业界和社交上的重要性，差不多和在政治上是完全一致的。\n在和人交谈的时候，他（拿破仑三世）会把这个人的名字在心里反复说上几遍，同时试着把它与这个人的体貌特征联系到一起。\n。。。。。。\n这些都是需要我们花费时间去做的，因此爱默生才这样忠告我们：“一个人良好生活习惯的养成，都是由生活中一个个琐碎的细节组成的。”\n因此假使你想获得别人的喜欢，那么第三条原则是：\n记住别人的名字。\n4 第四章 领会倾听的艺术 那天我们聊了将近一个小时，对于我曾经的旅行，她不再感兴趣，也没有再说起来，我知道他需要的只是一个倾听者，她希望看到别人对她的话题感兴趣，这样她可以从中找到自己的价值。\n这一点让她显得不同寻常吗？不是这样的，这是很多人都有的特点。\n伍福特的《异乡人之恋》中有这样一句话：“几乎没有人可以拒绝专心关注中包含的工恭维意味。”\n。。。。。。\n因此，他觉得我善于谈话，实际上我只不过是善于倾听，而且在别人说话的时候，我善于鼓励他们。\n因此，你首先需要能够安静地听别人讲话，然后，才能成为一个让人喜欢的人，别人才会乐意听你说话。就如同一个名人曾经说过的：“先对别人感兴趣，别人才会对你感兴趣。”和别人谈论他们感兴趣的话题，多让他们谈谈自己的经历以及取得过的成绩\n切记：对于同你讲话的人来说，他的需求或者他遇到的问题，比你的需求或你遇到的问题要重要100倍。对于他来讲，就算是发生死了几百万人的灾难，也没有他患的牙痛重要。在他眼里，一场大地震远远没有他自己头上的一个小冻疮重要。\n所以，想让别人喜欢上你，第四条原则就是：\n领会倾听的艺术。\n5 第五章 谈论对方感兴趣的话题 如果你要让他人从内心喜欢上你，第五条原则就是：\n谈论对方感兴趣的话题。\n6 第六章 让别人觉得自己很重要 杜威说过：“受尊重感是人类的一种潜在欲望，是人类天性中最为迫切的心理需求。”詹姆士也说过类似的话：“人的天性里有一点，就是希望自己被他人所重视。”人和动物不相同的地方就在于受尊重感的有无，人类文明也是因此而产生的。\n从古至今，哲学家对于人类交往的规则，思考了数千年，而所有的思考得出的结果只有一个，就是这个规则并没有因为时代的变迁而有所不同。3000年前，索罗斯特就把这一规则告诉了拜火教徒；2400多年前，孔子在中国就宣讲过，老子也以此教导过他的学生；基督诞生前的500年，释迦牟尼就把这个规则传授给了他的教徒；1900多年前，耶稣把这一规则综合在教义里，以此教诲门徒。这是世界上最重要的与他人相处的规则—你希望他人如何对待你，那么你就必须那样对待他。 没有人能够例外，在日常生活中都希望与他接触的人能够由衷地赞美自己，他所需要的是让人承认他存在的价值，从中获得被人重视的感觉。当然不是那种虚假的奉承，而是发自内心的赞美。他希望他的朋友们，如同司华伯所说的“真诚地赞许，宽厚地称道”，这是我们每个人都想得到的。 让我们遵守这一个很早以前就被总结出来的人际交往原则： 你希望他人如何对待你，那么你就必须那样对待他。 怎么去做？什么时候去做？在什么地方去做？答案是：“在你日常生活里，任何时间，任何一个地点。”\n不妨就从今天晚上，或者明天晚上也可以，为自己的妻子买一束鲜花或一盒糕点作为礼物，而不是在嘴上说什么“我早就应该这样做”的空话。一定要行动起来，并在付诸实践时还要带上内心的微笑，再说几句亲呢的话语。要是每一个做丈夫的都能够如此对待自己的妻子的话，我不相信日后离婚的人会继续增加。\n如果你想知道怎么让一个女人爱上自己的话，这里有个读的，不是我自己凭空想象出来的，而是狄克斯女士提供给我们的。\n有一次，狄克斯去监狱采访一个犯有重婚罪的新闻人物，他因为获得过23个女士的芳心以及钱财而闻名。当狄克斯问及他是怎样获得女人的爱情时，他坦率地告诉她，他没有使用诡计与阴谋，他说，你只需要与一个女人谈论她自己就行。\n这种看似简单又能够取得他人信任的方法，其实用在任何一个男人身上也同样有效。英国首相狄斯累利就这样说过：“和一个男人谈及他感兴趣的事情，那个男人会饶有兴趣地聆听，并喜欢上你。”\n因此，如果你想让他人从内心喜欢上你的话，那么第六条原则就是：\n让别人觉得自己很重要。\n第三篇 如何让他人认可你 1 第一章 不要与他人争论 威尔逊总统在任期间的财政部长威廉·麦肯铎，用他多年的从政经验总结出一个教训：“在任何时候、任何地方，我们都不可能依靠辩论使得无知的人从内心信服。”\n威廉·麦肯铎说的话太温和了。以我多年与各种生活经历不同的人交往的经验看，不仅仅是无知的人，就是任何人，如果你想用争辩改变他们的想法都只能是徒劳。\n康斯丹告诉我们一个亘古不变的人际规则：我们一定要让自己的顾客、朋友、丈夫或者妻子，在细小问题的争论上经常胜过我们。\n因此，在生活中让他人认可你的第一个规则就是：\n不要与他人争论。\n2 第二章 尊重他人的意见 假如有人说一句你认为不对的话，你知道他说错了。但若是你使用下面的话来讲，效果肯定不错，比如“好的，就这件事情让我们探讨一下……因为我有个不成熟的看法；当然，也许我的看法是错误的，我经常把事情弄错，如果我错了，我愿意改正过来……其实我的意思是……”等。\n全世界的人都不会因为你说“也许这是不太对的，让我们看看，究竟是怎么回事”这样的话而责怪你的。\n当我们有错的时候，我们自己有可能会承认；假若对方给予我们承认错误的机会的话，我们则会从内心感激他；根本不需要他的提醒，我们自然就承认了。可是硬要把不符合我们胃口的东西往我们肚子里塞，不但我们自己无法忍受，而且后果也会不堪想象。\n……在公元前2200年，古埃及法老教导他的儿子时说：“在处理任何事务时，一定要使用外交手段，这样才能帮助你达到你所期望的目标。”\n因此，在生活中让他人认可你的第二个规则是： 尊重他人的意见。\n3 第三章 学会认错 如果我们做对了，我们就要巧妙婉转地让他人赞同我们的观点。可是如果我们错了，就得迅速、坦白地承认自己的错误。在日常生活中灵活地使用这种自我批评的方法，不但能够获得我们意想不到的结果，而且在若干情形下，比为自己所犯下的错误进行辩护要有趣得多\n别忘记古人用经验教训换来的这句话：“争夺，不会让你获得更多。可是当你谦让时，你却能够获得比你所期望的更多。”\n因此，在生活中让他人认可你的第三个规则是：\n学会认错。\n4 第四章 从友善待人开始 一个世纪之前，林肯就说过类似的话，他说：“一加仑的胆汁并不能比一滴蜂蜜捕捉到更多的苍蝇。”这是一句古老而真实的谚语。对待他人也是如此，你想要让别人赞同你的观点，首先就必须要让他相信你是他最忠诚的朋友，这样的话，你与他的关系就走向了宽敞而富有理性的大路，因为有一滴蜂蜜注入了他的内心。\n用慈爱和友善的方式与他人接近，能够让他人改变原有的心意，这比用暴力的攻击征服他人更有效。\n请记住林肯所说的那句话：“一加仑的胆汁并不能比一滴蜂蜜捕捉到更多的苍蝇。”\n因此，在生活中让他人认可你的第四个规则就是：\n从友善待人开始。\n5 第五章 试着让对方说“是” 和别人交谈的时候，别从一开始就讨论彼此意见相左的事，先说一些彼此基本上谈得来的事。假如可以的话，你更应该说出你的见解，告诉对方，你们所追求的目标差不多，只是使用的方式稍微不同而已。\n这样做的话，交谈一开始对方就会连连说“是！是”。总的来讲，就是要尽量防止你谈话的对方说“不”这个字。\n奥佛瑞教授在他写的那本《影响人类的行为》一书中说道：“不’这个字是人际交往中的一种障碍，是人最不容易克服的一种反应。当别人说出‘不’之后，他为了维护自己的尊严就不得不坚持下去。争论之后，他也许会觉察到自己错了，说出这个‘不’是不对的，但是在那种场合他必须维护自己的尊严。而你对自己所说的每一句话也必须坚持到底。因此，为了让与你交谈的对方从一开始就朝着你的方向，正确引导他，那是和他人的交流中非常关键的技巧。”\n那些有交谈技巧的人，在他们说话时，你注意倾听，这样一开始的时候他们就能够得到交流者的很多肯定的反应，从而可以将听者的心理朝正确的方向引导。\n当我们想指出他人的过错时，首先要想起苏格拉底，并问一些能够获得对方肯定性的回答的问题。\n中国有句充满东方智慧的老话：“轻履者行远。” 中国人花了5000年漫长的岁月来研究人的天性，那些博学的中国知识分子写下了许多充满智慧的言语，就如同“轻履者行远”这句话一样。 如果你想获得他人的认同，第五个规则就是： 试着让对方说“是”。\n6 第六章 给对方说话的机会 与人交谈时要尽量让对方把自己的看法说出来，因为每一个人对自己的事或问题要比旁人清楚得多。许多人，当他们想要别人赞同自己的意见时，就是话说得太多了，把话说过了头，所以达不到想要的结果。尤其是做推销工作的人，职业习惯使他很容易犯话多的毛病。因此，在与人交往的时候，你应该多问对方所关心的问题，并让对方自己来诉说。\n交谈中或许你并不同意对方的看法，或许忍不住要插嘴，但是请你不要这样做，因为这样做很危险。当对方还有很多看法想要诉说的时候，他的注意力不会集中在你的身上。因此，你在那一刻必须忍耐，并且还要保持舒畅的心情安静地听下去，而且还要用最为诚恳的态度鼓励他，让他把所有要说的话都说完，让他将自己的想法表达清楚。\n生命短暂，不要把我们不值一提的所谓成就当成是一个值得炫耀的资本，没有人会喜欢听的。在生活当中，我们应该多鼓励别人，多给他人说话的机会。仔细想想吧，你和我确实是没有什么可以向他人炫耀的。\n如果你想获得他人的认同，第六个规则就是：\n给对方说话的机会。\n","title":"人性的弱点 - 卡耐基"},{"link":"/posts/%E6%B5%AE%E7%94%9F%E5%85%AD%E8%AE%B0/","text":" “诗仙”李白在《春夜宴从弟桃李园序》中写道：“夫天地者，万物之逆旅也。光阴者，百代之过客也。而浮生若梦，为欢几何？”这篇千古流传的小序，抒发了诗人对生命的痛切沉思，以及“浮生若梦、为欢几何”的感伤。清代的沈复就以此为名写了《浮生六记》。 中国的古代文学，描写情爱的诗文很多，但大多写宫廷艳史，写权势礼法之下的爱情悲剧，或写风尘知己及少男少女间的缠绵，很少涉及夫妻之情。别具慧眼的陈寅恪指出：“吾国文学，自来以礼法顾忌之故，不敢多言男女间关系，而于正式男女关系如夫妇者，尤少涉及。盖闺房燕呢之情意，家庭水盐之琐屑，大抵不列于篇章，唯以笼统之词，概括言之而已。” 。。。，天之厚我，可谓至矣。东坡云：“事如春梦了无痕。”苟不记之笔墨，未免有辜彼苍之厚。因思《关雎》冠三百篇之首，故列夫妇于首卷，余以次递及焉。\n是年冬，值其堂姊出阁。。。时但见满室鲜衣，芸独通体素淡，仅新其鞋而已。见其绣制精巧，询为已作，始知其慧心不仅在笔墨也。其形削肩长项，瘦不露骨，眉弯目秀，顾盼神飞，唯两齿微露，似非佳相。一种缠绵之态，令人之意也消。\n索观诗稿，有仅一联，或三四句，多未成篇者，询其故，笑曰：“无师之作，愿得知己堪师者敲成之耳。”余戏题其签日“锦囊佳句”，不知天寿之机此已伏矣。\n伴妪在旁促卧，令其闭门先去。遂与比肩调笑，恍同密友重逢。戏探其怀，亦怦怦作跳，因俯其耳曰：“姊何心舂乃尔耶？”芸回眸微笑，便觉一缕情丝摇人魂魄。拥之入帐，不知东方之既白。\n虽恋其卧而德其正，因亦随之早起。自此耳鬓相磨，亲同形影，爱恋之情，有不可以言语形容者。\n而欢娱易过，转睫弥月。时吾父稼夫公在会稽幕府，专役相迓，受业于武林赵省斋先生门下。先生循循善诱，余今日之尚能握管，先生力也。归来完姻时，原订随侍到馆。闻信之余，心甚怅然，恐芸之对人堕泪。而芸反强颜劝勉，代整行装，是晚，但觉神色稍异而已。临行，向余小语曰：“无人调护，自去经心。”\n及登舟解缆，正当桃李争妍之候，而余则恍同林鸟失群，天地异色。到馆后，吾父即渡江东去。\n居三月，如十年之隔。芸虽时有书来，必两问一答，中多勉励词，余皆浮套语，心殊怏怏。每当风生竹院，月上蕉窗，对景怀人，梦魂颠倒。先生知其情，即致书吾父，出十题而遺余暂归。喜同戍人得赦。\n登舟后，反觉一刻如年。及抵家，吾母处间安毕，入房，芸起相迎，握手未通片语，而两人魂魄恍恍然化烟成雾，觉耳中惺然一响，不知更有此身矣。\n余与芸联句，以遣闷怀，而两韵之后，逾联逾纵，想入非夷，随口乱道。芸已漱涎涕泪，笑倒余怀，不能成声矣。觉其鬓边茉莉浓香扑鼻，因拍其背，以他词解之曰：“想古人以茉莉形色如珠，故供助妆压鬓，不知此花必沾油头粉面之气，其香更可爱，所供佛手，当退三舍矣。”芸乃止笑曰：“佛手乃香中君子，只在有意无意间；茉莉是香中小人，故须借人之势，其香也如胁肩谄笑。”余曰：“卿何远君子而近小人？”芸曰：“我笑君子爱小人耳。”\n少焉，一轮明月已上林梢，渐觉风生袖底，月到波心，俗虑尘怀，爽然顿释。芸曰：“今日之游乐矣！若驾一叶扁舟，往来亭下，不更快哉！”\n其癖好与余同，且能察眼意，懂眉语，一举动，示之以色，无不头头是道。余尝曰：“惜卿雌而伏，苟能化女为男，相与访名山，搜胜迹，遨游天下，不亦快哉！”芸曰：“此何难，俟妾鬓斑之后，虽不能远游五岳，而近地之虎阜、灵岩，南至西湖，北至平山，尽可偕游。”余曰：“恐卿鬓斑之日，步履已艰。”芸曰：“今世不能，期以来世。”余曰：“来世卿当作男，我为女子相从。”芸曰：“必得不昧今生，方觉有情趣。”余笑曰：“幼时一粥，犹谈不了，若来世不昧今生，合卺之夕，细谈隔世，更无合眼时矣。”芸日：“世传月下老人专司人间婚姻事，今生夫妇已承牵合，来世姻缘，亦须仰藉神力，盍绘一像祀之？”时有苕溪戚柳堤名遵，善写人物。倩绘一像：一手挽红丝，一手携杖，悬姻缘簿，童颜鹤发，奔驰于非烟非雾中。此戚君得意笔也。友人石琢堂为题赞语于首，悬之内室。每逢朔望，余夫妇必焚香拜祷。后因家庭多故，此画竟失所在，不知落在谁家矣。“他生未卜此生休”，两人痴情，果邀神鉴耶？\n到“坎坷记愁”，气氛骤变，看完后不忍摘抄。 ","title":"浮生六记"},{"link":"/posts/franklin/","text":" 富兰克林自传其实是写给儿子的一系列回忆性质的信件 富兰克林从小就在印刷所做学徒，与一个小伙伴柯林斯辩论的邮寄被父亲看到，“他说，我在拼写和标点方面比对方略胜一筹（这应该归功于印刷所），但是在文字和条理方面远远不如对方，他还就此列举几处实例以便令我新妇女。从这些实例来看，他的评价并非不公正，从此以后我非常注意写作的文体，学习提高自己的写作能力。” “……在逻辑学的结尾部分，我看到了苏格拉底辩论术的范例。不久之后，我又很幸运得到了色诺芬的《苏格拉底回忆录》，这本书有很多类似上述苏格拉辩论术的实例。我对这种方法非常着迷，所以很认真的学习并加以运用。在辩论中，我不再采用生硬的反驳和完全肯定的理论，而是代之以谦虚和怀疑式的探求方法。…… 我发现这些方法非常实用，能够令那些跟我争辩的对手完全处于劣势地位。” 富兰克林18岁去伦敦购买印刷器材并逗留两年，1726年回美国。 富兰克林去英国前，在美国有海誓山盟的女朋友，在美国时间太久，女友结婚，短暂婚姻后离婚。 富兰克林回到美国后，有人撮合他和一个女孩子。此时富兰克林想开印刷所，缺少本钱，希望女方带来一笔陪嫁让他还债（不超过100英镑，当时应该是巨款），女方说没有这么多钱，富兰克林说对方可以抵押房子贷款，后来双方就淡了，继而断了。此后，思想有所转变，不再指望娶到嫁妆丰厚的妻子。 “此间，一个年轻人难以压抑的激情令我常常无法控制地与碰到的下贱女人私通出了破费和极不方便外，还让我非常担心自己会染上什么疾病。我很庆幸自己终究没有。” 之后，富兰克林与女友再续前缘。 富兰克林还是很敢于剖析自己的，提到了自己的一些错误： “渐渐地，我发现自己喜欢和她（一个在美国有妻子的朋友在英国的同居女友，该朋友由于工作而去外地，该女友常找富兰克林接济）来往，那时的我已经没有宗教戒律的约束，倚仗她对我的依赖试图对她亲昵（这是我人生中又一错误），可她生气地拒绝了，并将这件事告诉了劳尔夫。” “此间（回美国后，由于对嫁妆要求太高而与某女孩子散伙），一个年轻人难以压抑的激情令我常常无法控制地与碰到的下贱女人私通出了破费和极不方便外，还让我非常担心自己会染上什么疾病。我很庆幸自己终究没有。” 富兰克林的十三条道德明目及其戒律： 节制：食不过饱，饮不过量； 节言：说话必须对别人或对自己有益，避免琐碎的闲聊， 秩序：物件有所归，办事有定时； 决心：该做的事情一定要做，决心要做的事情一定要做好； 节俭：花钱必须于人于已有利，决不浪费； 勤劳：珍惜时间，时间要花在做有用的事情上，切忌无意义的举动； 诚实：切忌虚伪欺诈，心存良知与公正，说话也要如此； 正直：不做有损他人的事情，要做对人们有益的事情，这是你的义务； 中庸：避免极端，别人对你的冒犯，若是正当，就要懂得容忍； 整洁：身体、衣物以及住所，要保持清洁； 宁静：对待琐事、平常事或者不可避免之事，不可自扰。 贞节：不要纵欲过度，有伤身体，切忌报害自己或者他人的安宁和名誉； 谦虚：仿效耶稣与苏格拉底。 这些美德，“节制”第一，“节言”第二，……。 一句古老的格言：“一个人帮助你一次，就会比受过你恩惠的人更愿意再次帮助你。” “赚到第一个100英镑以后，赚第二个100英镑就容易多了。”我才真正悟出这句谚语的道理：钱本身是能够大量繁殖的。 ","title":"富兰克林自传"},{"link":"/posts/manager_path/","text":"直属经理的义务 下属有权利要求自己的直属经理做到以下几点： 1、一对一会议 主要解决两个问题： 第一，帮助你与直属经理建立起良好的人际关系。 第二，讨论任何你想讨论的话题。 2、工作反馈与指导 给自己的工作提供及时的反馈意见。 理想情况下，一个管理者应该公开的给予正面的反馈，而私下里和你讨论负面反馈。 直属经理应该是你在日常工作中的头号同盟。 技术管理者持续找到一些有新意的前沿项目，让团队来技术帮助团队成长、学习新技能是很重要的工作。 3、职业培训与职业规划\n如何做好非管理岗位的工作 1、思考自己的需求是什么 无论是初入职场还是已经有了二十几年的工作经验，搞清楚自己想要做什么，想要学什么，如何从工作中获得快乐，最终都是你自己的责任。 2、自己要对自己负责 无法保证你主动提出要求就一定能成功，但是如果你给自己设定了一个目标，就必须自己想尽一切办法来实现这个目标，不能只是等待 3、体谅你的上级 4、精心选择自己的上级领导\n自我评估 你可以和自己的直属经理分享自己生活的重要进展吗？你的直属经理是否和你有良好的私人关系？ 你的直属经理有没有向你提供工作方面的反馈这些反馈有效吗？还是他从来没有向你提供过什么反馈？ 你的直属经理师傅帮你设定了今年的工作目标。 项目管理 所以，项目管理就是将一个复杂的最终目标分拆成一些小目标，同时将这些目标以最高效的方式进行排序，识别出其中可以并行开展的工作，以及这些工作前后的依赖关系。同时还应该试图找出那些可能导致项目延期或者彻底失败的高风险环节。项目管理的过程，就是试图将不确定的部分更确定，将不可知的问题变成可知问题的过程。同时，我们也应该认识到在这个过程中犯错误和漏掉一些未知风险是不可避免的，可以参考一下几点：\n1、将工作进行拆分 2、持续关注细节与未知部分 3、真正落实项目计划并时刻调整 4、利用计划过程中获得的知识来管理需求变更。 5、随着项目推进不断完善细节信息。 识别员工潜力 个人的真正潜力不会隐藏太久，通过工作努力超额完成任务，面对问题时能提出极具洞察力的建议，又或者在团队之前忽视的地方提供帮助。总之个人的潜力是不会被埋没的，具备真正潜力的人，哪怕他们的工作进度比较缓慢，也是能够在团队中脱颖而出的。\n有挑战性的场景：辞退表现不佳者 你需要对员工理应交付的工作成果，有明确的认知，如果其没有交付这些工作成果，你就应该尽早、尽量明确地让员工明白，他没有达到你的预期。 应该尽可能早、尽可能频繁的向员工提供反馈，同时将你提供给他的反馈信息通通记录下来。反馈信息不管是正面的还是负面的，都应该和员工详细讨论，而不是简单的一句话。如果你不停地回避负面反馈，知道事情无法挽回那时再提客观理由什么的，又有什么用呢？ 研发经理的职责 在这个新角色中，我发现自己管理的一些团队成员在技术资历上远胜于我，这是我第一次不能再依赖于自己的技术知识来领导团队了。。。每个人都有各自的工作，而我的工作则主要是尽力帮助他们（我的下属）取得更大的工作成绩。 事实证明，好的管理者并不意味着一定需要具备最完备的技术知识，管理工作成功的要点，主要在于如何支持下属取得工作成绩。 保持对技术的关注 虽然团队中有具备设计系统能力的架构师，以及关注实现细节问题的其他资深技术成员，但是作为团队经理，你的职责是监督他们对技术决策负责，确保这些技术决策符合基本的技术要求，以及评估决策与当下团队的情况，与业务整体需求的符合情况。多年以来的技术工作所形成的基础直觉对你做好引导工作会有很大帮助。 另外，如果你真的想要赢得技术团队的尊敬的话，必须让他们认可你的技术能力。技术能力不过关的话，你面临的困难会较多，即使你能在一个公司中进入管理层，你未来的职业发展选项也会很窄。在你努力向技术管理方向转变的同时，千万不要忽视自身技术能力的培养。 当然了，取舍是难免的，在你技术管理转型的过程中如何保持自己的技术能力，是一件难事一名管理者随之而来的各种职责\u0026ndash;参加更多的会议，规划项目进度，应符琐事，等等\u0026ndash;都会抢占你写代码的时间。在应对各种各样的问题的同时，如何能够静下心来写代码，不是一件简单的事情。 然而，如果在目前这个阶段你就脱离了具体的编码工作，很有可能会导致自己的技术能力过早的退化。向管理类工作逐渐转型，并不意味着你可以完全脱离具体的技术工作。事实上，我在自己公司技术管理类工作的职责说明中特别的强调，初级技术管理者必须承担小型功能或者小型bug 的修复工作。 如果你在职业生涯中过早地脱离了技术工作，那么很有可能你的技术能力会成为你超越中层管理工作的重要障碍。 找出不和谐团队的问题 无法交付 平衡什么时候该对团队施加压力与什么时候该释放团队的压力。 团队所使用的工具与其所涉及的流程陈旧过时，阻碍了工作的进行。 人际关系 工作能力强，产出高，但缺乏团队精神，让周围每个人都很不开心的人，称为“聪明的混蛋”。还有一些滋生事端、心怀不满、沉迷于风言风语并拉帮结派的人。（这两种人要对其谈话，或转出至其他组） 不要将那些大声表示对你不满的人留在团队里太久，不管你的管理经验有多丰富，都会被这样的人拖累。有时候最好的防御方式就是主动出击，快刀斩乱麻。 超负荷工作带来的不满 一般来说，员工因超负荷工作所产生的不满情绪，都源自一种你可以直接解决的根源问题。 在加班的过程中，尽量增加一些工作的趣味性，有的时候一次紧张的工作，反而是团队增进感情的好机会，团队会记住你是和他们患难与共，还是躲在一边做自己的事情。 压力有的时候是难免的，但是不能无缘无故的、经常的、持续性的加班。 合作困难 你仅仅表示出愿意改善合作问题的态度，就能起到很大作用。 要注意的是，为了避免状况变得更糟，不管你是否同意团队成员的意见，都应该在公开场合支持他们的立场。 如果团队内部有合作不顺畅的情况，那么你应该尝试给团队成员寻找并创造一些工作之外的相处机会，比如说，和团队成员一起外出吃午餐，周五下午大家一起离开公司去参加一些有趣的活动，在组内聊天时鼓励大家多一些幽默以及和团队成员多唠一些家常，等等，都是有效培养团队凝聚力的好办法。我理解你可能对这种类型的情感培养方式有点发怵，但是哪怕是最内向的人，也渴望和自己的团队成员产生认同感。 如何管理前同事 诚实和透明的心态去沟通 记住你的工作职责会有较大幅度的改变。作为他的经理，你虽然有否决他的决策的权利，但是一定不要轻易使用这种权利，用你的管理权来否决他的技术决策通常是没有好结果的，一定要克制住自己为管理的冲动，尤其是面对你的前同事时。 管理线上的每次上升都意味着你要承担一些新的职责，同时放弃一些原有的职责。你可以趁此机会将自己之前掌控的一些技术工作公开地交给前同事们，赋予他们一定的新决策。同时，这也给团队内初级成员提供了一个学习和提升的好机会。虽然很多技术公司的一线经理会持续提交一些代码，但是这些代码应该是小的功能实现，以及小的 bug 修复和改进，而不应该是设计和实现大型系统。 伴随着这些方面的改变，你的目标应该是，向团队展示自己的职责是为了帮助他们成功。以向管理层新角色的转变，并不是团队中抢走了一些职责，而是将你的一份工作交接给团队成员，从而承担起了一些事前被忽视，或者属于团队外其他人的职责。 如果你和前同事们意见相左，或者有一些可以被视为权力争夺的行为，他们的确会有一段高度敏感期，甚至会想办法阻碍你的工作开展，所以你一定要谨慎对待前同事们。从长远来看，以成熟的态度处理这种情况往往会取得更好的结果。 成为团队的保护伞 项目管理的秘诀 对大部分团队来讲，长期的、抽象的目标，以及短期的、具体的、面向长期抽象目标的工作计划是并存的。。。。作为管理者，你需要对更大范围的项目目标——那些需要数月而不是数个星期才能完成的事情负起责任来。 每个季度的有效研发时间只有10周 预留20%的工程时间来处理研发可持续性工作。研发可持续性工作指的是添加测试用例、调试问题、重构老旧代码、更换编程语言和升级语言版本，以及其他类似的工程杂事等。每个季度做一点就够，随时清理陈旧系统可以降低其维护难度，从而给团队留出更多的时间来进行新功能的开发。 临近交付时间时，管理者有说“不”的义务 利用“翻倍定律”来快速测算完成任务所需的时间，同时对研发周期长的任务申请更多的计划时间。 当需要测算软件开发时间时，永远将你预期的时间翻一倍。 在技术团队全力以赴开发一个复杂需求之前，你应该多花一点时间理解需求，进行完善的项目计划 不要每个需求都让技术团队来预估实现时间 工程师对每个需求都交付一个预估时间，不仅浪费时间，而且徒增其压力。管理层承担不确定性是责无旁贷的，管理者不应该将不确定性统统甩给团队成员来承担。 同时管理多个团队 技术总监职责的定义 技术总监的职责是，承担某一个重要技术领域中所有团队的管理工作。技术总监一般需要同时管理数个跨业务部门、承担不同技术职责的技术团队。技术总监的直接下属，同时包括技术小组长和独立工程师\n技术总监的工作职责一般不包括日常编码。然而，技术总监需要通过招聘和内部培训的手段来保证团队具有持续、高效的交付业务需求的能力。技术总监应该具有很强的技术背景，同时也需要花一定的时间来了解业界技术的发展方向，预研新技术。技术总监需要对关键系统的正常运转负责，在出现问题时需要参与排错和故障排查工作。这意味着技术总监必须对业务系统足够熟悉，这样才能在需要的时候承担评审代码、故障排查的工作。技术总监应该参与技术系统的架构和设计工作，可以从产品和业务的视角出发，使用合适的技术语言与技术团队成员进行沟通，确保其设计的系统能完全满足当前的业务需求和未来可能出现的扩展需求。\n技术总监的工作重心是保障复杂业务需求的持续顺利交付。为了达到这个目标，技术总监应该注重对内部开发流程与基础设施的持续评估和持续优化，以便团队能够持续高效的交付业务需求。\n技术总监，应该能够从多个侧面来影响基础团队成员。技术总监更需要负责在技术团队中构建和培养下一代管理者，帮助那些潜在的管理者学习如何去平衡自己的技术能力与人事管理能力。\n技术总监应该成为公司跨部门和跨领域沟通协作的带头人。\n正因为技术总监具有技术和业务的双重背景，所以他应该帮助麾下的团队完善目标设定流程，帮助各个团队制定一个兼顾公司业务方向、技术能力发展，以及人事组织质量等要点的团队目标。\n技术总监的工作并不包括日常编码工作。这是因为，一个管理者在带领多个团队时，再进行日常编码，基本几乎是不可能的。对技术总监来说，其工作日程已经完全从“构造者”转化为“管理者”了。在一对一会议、与其他技术负责人的沟通会议、团队计划安排会议、与业务团队或公司其他部门的沟通会议之外，技术总监应该基本没有其他空余时间了。如果不能做到每周保留固定编码时间的话，不管多小的业务需求，技术总监做起来都会非常缓慢。\n万幸的是，亲自上手大量的编码工作并不是技术总监保持技术能力的唯一途径。参与代码评审也是一个不错的选择，就算不是主要评审者，作为第二评审者也是一个不错的选择。\n就算你作为技术总监并不想写太多代码，我还是要强烈建议你，每周至少留出半天时间给自己，利用这段时间来进行一些创造性的工作，例如，可以考虑为公司的技术blog写一篇文章，进行一场技术宣讲，或者参加某个开源软件开发，等等。应该在大量的管理类型工作之外，保留一些时间来参与一些创造性的工作。\n时间管理 时间管理最终归结为一个问题：区分一件事情的紧急性与重要性。 时间管理的一大挑战，就是如何对待重要性有点模糊的工作。 相当于重要性来说，紧急性是相对容易评判的。 电子邮件可能是所有传递媒介中，最不适合传递紧急的、需要及时处理的信息的媒介。大部分邮件所涉事项往往只是感觉上很紧急，但并不是真正紧急的事务。这就是很多时间管理方法论都鼓励人们每天固定在特定的时间内才读取和回复电子邮件的原因。 一个经典的重要但是不紧急的事务的例子如下：提前准备接下来的一个会议，以便更好地引导会议讨论过程。管理者应该利用合理的方法来保障与会者提前做好准备，例如要求在每次会议开始前发布一个讨论计划。又如，每个需要多人参加的周期性会议，无论是项目计划会议、复盘会议，还是事故分析会议，都应该为一个明确的讨论流程和讨论目标。 做一个领导多个团队的管理者，你必须主动平衡思考的深度和广度，不仅需要理解团队的内部细节，还需要知道团队未来的方向，以及为达到未来的目标，需要做什么。 管理转型过程中最短也最难的一课 管理者的职责就是要了解实际情况，并且知道如何帮助团队提高效率。\n","title":"The Manager’s Path 技术为径"},{"link":"/posts/code_complete/","text":"【一本很好的书，内容很多，一遍学不完，值得经常看看】\n谋定而后动：前期准备 第一次就把事情做好谁最划算的，越到开发阶段后期，返工的工作量越大。 发现错误的时间要尽可能接近于引入该错误的时间，缺陷在软件中停留的时间越长，造成的破坏越多。所以，早期引入的缺陷代价更高。 防御式编程 对于生产软件来说，“垃圾进，垃圾出”，是不够的。不管进来的是什么，好的程序都不应该产生垃圾，应该做到“垃圾进，什么都不出”，“垃圾进，错误提示出”，或者“不许垃圾进来”。 用错误处理代码来处理预期会发生的情况，用 assert 来处理永远不应该发生的情况。将 assert 视为可执行的文档（executable document），不能依赖其来使代码正常运行，但其可比注释更能主动说明各种假设。 对健壮性要求很高的代码，应先使用assert， 再处理错误。 ","title":"代码大全2 （Code Complete 2）"},{"link":"/posts/man_month/","text":"个人总结： 太过抽象，可能是经验有限，没有理解太多。总之，实用性不强。\n职业的苦恼 然而这个过程并不总是充满乐趣的，我们只有事先了解一些编程固有的苦恼，这样，当他们真的出现时，才能更加坦然的面对。\n首先，苦恼来自对完美的要求。 其次，苦恼来自自由他人设定的目标、供给资源和提供信息。编程人员很少能控制工作环境和工作目标。… 对于系统编程人员而言，对其他人的依赖是一件非常痛苦的事情。 下一个苦恼—设计宏大概念是有趣的，但寻找琐碎的bug却是一项重复性的活动。创造性活动往往与枯燥、沉闷和艰苦的劳动相伴，程序编写工作也不例外。 最后一个苦恼，有时候也是压垮骆驼的最后一根稻草，投入了大量辛苦的劳动，产品在即将完成或者终于完成的时候，却已显得陈旧过时。 这就是编程，一个让许多人痛苦挣扎的焦油坑，以及一项乐趣和苦恼共存的创造性活动。 人月 第二个存在谬误的思考方式是在时间估算和进度安排中使用的工作量单位：人月。成本的确随着人数和月数的乘积而变化，进度却不是如此。因此我认为，用人月衡量一项工作规模的大小是一个危险和带有欺骗性的神话。它暗示着人员数量和时间是可以相互替换的。\n人员数量和时间的互换仅仅适用于以下情况：某个任务可以分解完全给参与人员，并且他们之间不需要相互的交流。这在收割小麦或者采摘棉花的工作中是可行的，而在系统编程中近乎不可能。 当任务由于次序上的约束而不能分解时，人手的添加对行动没有帮助。\n沟通所增加的成本，有两个部分组成：培训成本和沟通成本。 系统测试 测试进度的安排常常是编程中最不合理的部分。\n对于软件开发任务的进度安排，以下是我成功使用了很多年的经验法则：\n三分之一用于计划 六分之一用于编码 四分之一用于构建测试和早期系统测试 四分之一用于系统测试，此时所有的构建已就绪 重复产生的进度灾难 brooks定律\n向进度落后的软件项目增加人手，会使进度更加落后 。（Adding manpower to a late software project makes it later.）\n这就除去了神话色彩的人月。项目的月数依赖于次序上的约束，人员的最大数量依赖于独立子任务的数量。\n在众多软件项目中缺乏合理的进度安排是造成项目滞后的最主要原因，他比其他所有原因加起来的影响还要大。\n效率的差别 效率高和效率低的实施者之间的个体差异非常大，经常能够达到数量级的水平。\nMills的建议 Mills的建议提供了一个崭新的创造性的解决方案，Mark建议大型项目的每一部分有一个团队解决，但是该团队以类似外科手术团队的方式组建，而不是杀猪团队，也就是说不是每个成员都拿到乱砍，而是只有一个人操刀，其他人给予他各种支持，以提高效率和生产力。 稍加思考就可以发现，如果上述概念能够实施，它可以满足迫切性的需要，只有少数几个头脑参与设计和构造，然而却能聚集很多人。他是否可行呢？谁是编程团队中的麻醉医生和护士，工作如何划分？让我们继续使用医生的比喻，如果考虑所有可能想到的支持工作，这样的团队应该如何运作？\n外科医生。mills称他为首席程序员，他亲自定义功能和性能规约、设计程序、编制源代码、测试，以及编写文档。 副手。他是外科医生的后备，他能做任何一部分工作，但是拥有的经验相对较少。他的主要作用是作为思考者、讨论者和评估者参与到设计中。外科医生会与他沟通想法，但是不受他的建议的限制。 行政（原文是“管理员”，根据上下文意思，似乎应为admin，行政人员）。外科医生是老板，必须在人员、薪酬、空间等方面具有决定权，但是他绝对不能在这些事务上浪费时间，因而他需要一个管理金钱、人员、空间和机器的专业人员，该管理员充当与组织中其他行政机构的接口。仅在项目具有实质性的法律合同报表和财务方面的需求时，管理员才全职为团队工作，否则一个管理员可以为两个团队服务。 编辑。外科医生负责文档的生成——为了尽可能不含糊，他必须亲自编写，无论是对内部描述还是对外部描述。而编辑根据外科医生的草稿或者口述，进行分析和重新组织，提供各种参考信息和书目，对多个版本进行维护，并监督文档生成的机制。 两个文秘。管理员和编辑每个人需要一个文秘。管理员的文秘负责非产品文件和使项目协作一致。 程序文员。他负责维护编程产品库中团队的所有技术记录。该职员接受文秘性质的培训，承担机器可读以及人类可读文件的相关管理责任。 对Mills的概念来讲，至关重要的是编程“从私人艺术到公共实践”的转换。他向所有团队成员展现了所有计算机的运行产物，并将所有的程序和数据看作团队财产，而非私人产财产。 工具维护人员 测试人员 语言律师（专家？）。外科医生主要是系统设计者以及考虑系统的整体表现，而语言律师（专家？）则寻找一种简洁有效的语言使用方法来解决困难、晦涩或者棘手的问题。他通常需要对技术进行一些研究(两到三天）。一个语言律师可以为二到三个外科医生服务。 获得概念的完整性 宜用性需要设计的一致性和概念的完整性。\n胸有成竹 经验是昂贵的老师，但愚人只能从经验学习。\n","title":"人月神话"},{"link":"/posts/jpm2024/","text":"JPM2024 幻灯片集锦 10X(TXG)-JPM2024 ADC_Therapeutics(corp) Acrivon(corp) Agilent-JPM2024 Agios-JPM2024 Akero(corp) Akoya-JPM2024 Alcon-JPM2024 Alkermes-JPM2024 Alnylam-JPM2024 Amgen-JPM2024 Amicus-JPM2024 Apellis-JPM2024 Arcturus-JPM2024 Argenx-JPM2024 AstraZeneca-JPM2024 BMS-JPM2024 Baxter-JPM2024 Bayer-JPM2024 Beam(corp) BeiGene-JPM2024 BioMarin-JPM2024 BioNTech-JPM2024 Biocryst-JPM2024 Biohaven-JPM2024 BluePrint-JPM2024 Bruker-JPM2024 CVS-JPM2024 CardinalHealth-JPM2024 Carismatx(corp) Catelent-JPM2024 Cencora-JPM2024 Cerevel(corp) Coherus-JPM2024 DaiichiSankyo-JPM2024 Danaher-JPM2024 Denali-JPM2024 Editas(corp) Elanco-JPM2024 Enanta-JPM2024 Evolent-JPM2024 ExactScience(corp) ExactScience-JPM2024 Exelixis-JPM2024 G1_therapeutics-JPM2024 GSK-JPM2024 GeneDx-JPM2024 Gilead-JPM2024 GuardantHealth-JPM2024 Haemonetics-JPM2024 Halozyme(corp) Hillevax(corp) Hologic(corp) Hologic-JPM2024 Illumina-JPM2024 Immunogen(corp) Imugene(corp) Incyte-JPM2024 Invitae(corp) Invivyd(corp) Ionis-JPM2024 JNJ_transcript-JPM2024 JazzPharm-JPM2024 Karuna(corp) Karyopharm-JPM2024 Kymera(corp) Kymera(corp)_RD Lava(corp) Legend(corp) Legend-JPM2024 Lundbeck(corp) Mckesson-JPM2024 Medtronic-JPM2024 Merck-JPM2024 Merck_KGaA-JPM2024 Merck_KGaA_2023Q3(corp) MettlerToledo-JPM2024 Mirati(corp) Moderna-JPM2024 Molecular_partners(corp) Morphictx(corp) Natera-JPM2024 Neurocrine-JPM2024 Novartis-JPM2024 Novavax-JPM2024 Nurix(corp) Nurixtx-JPM2024 Nuvalent-JPM2024 Nvidia-JPM2024 PTC_Therapeutics-JPM2024 Penumbra-JPM2024 Pfizer-JPM2024 Phreesia(corp) Pliant(corp) Pliant-JPM2024 Premier-JPM2024 PrimeMedicine(corp) PrimeMedicine-JPM2024 Qiagen-JPM2024 Quanterix-JPM2024 Quest(corp) Regeneron-JPM2024 RelayTx-JPM2024 Revvity-JPM2024 Roche-JPM2024 Roivant(corp) Roivant-JPM2024 Sage-JPM2024 Sanofi-JPM2024 Sarepta-JPM2024 Seer(corp) Seer-JPM2024 Seres(corp) SeresTx(corp) SoseiHeptares(corp) Stoke_Therapeutics-JPM2024 Syndax(corp) Syndax-JPM2024 Teleflex-JPM2024 Telix-JPM2024 Tevav-JPM2024 ThermoFisher-JPM2024 UltraGeneYX(corp) UltraGeneYX-JPM2024 Veradigm-JPM2024 Vertex-JPM2024 Verve(corp) VirBio-JPM2024 WuXiAppTec-JPM2024 Xenor(corp) ZaiLab-JPM2024 Zoetis-JPM2024 iRhythm-JPM2024 诺辉健康-JPM2024 ","title":"J.P. Morgan Healthcare Conference 2024"},{"link":"/posts/two_songs/","text":"历史的天空 听毛阿敏唱一曲“历史的天空”，一种经过沧海桑田之后的释怀。听年轻时候的毛阿敏，就没有这种感觉。\n暗淡了刀光剑影，远去了鼓角争鸣，\n眼前飞扬着一个个，鲜活的面容，\n淹没了黄尘古道，荒芜了烽火边城，\n岁月啊，你带不走那一串串熟悉的姓名，\n兴亡谁人定啊，盛衰岂无凭啊，\n一夜风云散呐，变换了时空，\n聚散皆是缘啊，离合总关情啊，\n担当生前事啊，何忌身后评，\n长江有意化作泪，长江有情起歌声，\n历史的天空闪烁几颗星，\n人间一股英雄气，在驰骋纵横。\n一路生花 这个要听张双利和陈彼得的版本，唱的很不标准，但是从一个七十、一个八十的两位老头嘴里唱出来，别有滋味。\n海上的晚霞，像年少的画，\n铺在天空，等海鸥衔走它。\n遥远的帆，任风浪拍打，\n为梦再痛也不会害怕。\n远走的风沙，去谁的天涯，\n春天可曾在那里见过他。\n时间的手，抚过了脸颊，\n他们谁都沉默不说话。\n我希望许过的愿望，一路生花，\n护送那时的梦，抵挡过风沙。\n指尖的樱花，如诗写，谁的韶华。\n疯狂的热爱，夹带着文雅。\n远走的风沙，去谁的天涯，\n春天可曾在哪里见过他。\n时间的手，抚过了脸颊，\n他们谁都沉默不说话。\n我希望许过的愿望，一路生花，\n护送那时的梦，抵挡过风沙。\n指尖的樱花，如诗写，谁的韶华。\n疯狂的热爱，夹带着文雅。\n我希望许过的愿望，一路生花，\n护送那时的梦，抵挡过风沙。\n指尖的樱花如诗写谁的韶华。\n疯狂的热爱，夹带着文雅。\n安静的夜晚，你在想谁吗？\n安静的夜晚，你在想谁吗？\n","title":"两首别有味道的歌"},{"link":"/posts/rich_thinking/","text":"笔记 这本书的内容主要是讲什么做天使投资以及创业的一些概念，这个书名太误导人了 智能手机（包含高精度 GPS ）、快速的网络的出现，让很多事情成为可能 摘录 天使投资人需要：资金、时间、人脉或专业知识。但是不是需要具备所有这四点。\n最好的天使投资人具备四种能力：\n1、出得起钱 2、在重要问题上能与创始人共进退 3、能够把公司介绍给客户和投资人 4、能够为公司提供可行的建议来节省创始人的时间以及资金，或者能让他们免于犯错 还需要另外一种特质，特爱天使投资。如果你不能与形形色色的人相处，或者不愿听到有人喋喋不休，那么不合适这份工作。 当有人告诉我，他们想向我引见一位创业者，但是担心这个人是个怪人，我会立即安排与他见面。天使投资人需要寻找的，就不是一般人，因为最好的创业者通常都是固执己见、难以驾驭的，为了他们自己的信念，可以牺牲别人对他们的看法。\n第五章只有一句话：\n作为一个天使投资人，你是否需要去硅谷？必须的。 投资阶段，按自然顺序，不是每个阶段都必须\n人力股权：创业者自己免费的人力工作 自力更生（bootstrapping）：只使用资金能够获得的资源来解决问题，实现发展 亲友融资：从非专业的投资人获得资金，比如有钱的亲友 自筹资金：创业者自己投钱进去 孵化器融资：创业者加入孵化器或加速器，获得一些资金。大部分伟大的公司，都不是从孵化器里面出来的。 种子/天使轮投资 过桥融资：一般是种子轮的相同投资者，让公司能够顺利运营到下一轮融资，如若不继续投资，前面的投资就打水漂了。 A 轮融资：通常由专业风险投资公司进行，并会加入创业公司的董事会进行适当的管理。A 轮投资之前，创始人基本上不需要对任何人汇报工作。A 轮投资者比较强势，尤其是领投者甚至可以决定哪些投资者可以参与。此时不让天使投资人同比例跟投，是对天使投资的不尊重。 B、C、D、E、F 及夹层融资：此时可以退出了。 当别人问富人为什么如此富有时，他（罗斯柴尔德）说，“卖得早”。 股权结构表上有五种人\n创始人 员工 顾问，又称没钱的天使，用自己的技能、时间、人脉以及声誉来交换股权 天使投资人，在没有人愿意支持创始人的时候对他们进行支持，并引导他们前进，最终转交给专业投资人。 风险投资人，进入较晚，等到很多风险消除才进入。任务是帮助公司从青春期过渡到成人期。 旧股交易（secondary sales）\n有退出机会时，风险投资人愿意让创始人卖掉部分股份，获得 350-700 万美元，扣税后可生活无忧继续前进，但又不会分散精力（因为钱不多）。 风险投资人不想让创始人有足够的财务自由或用不完的钱。 如果在 IPO 之前 有机会一次或两次买到所持股票的 25%，最好就卖，有太多估值数十亿美元的公司最后一文不值。 创业公司在技术上成功的速度仅次于其崩盘的速度。请记住，他们都是火箭飞船，有时会在到达轨道之前爆炸 人生苦短，您应该与优秀的人在一起工作，如果你真的被坑了，那就把它当成一个教训及避免同样错误的小小代价。\n在我年轻的时候，我有一个很不好的习惯，喜欢给那些蠢货们解释他们为什么蠢。从那以后我明白了一个道理，对付蠢货最好的办法是不要让他们接近你的公司，如果可以的话，甚至不让他们出现在你的生活中。\n路演中别轻易决定是否投资\n天使投资人应该是审慎的、有条不紊的。 厉害的创业者会直接问你，“你投资吗？”或者“你准备投多少？”这是你最好的回答就是：“你们这个项目挺好的，给我几天时间，我再想想，我们下周一再谈怎么样？我可能会给你发个电子邮件，再问你几个问题。” 经常有人问我，你怎么选择好的公司进行投资？\n你不是选择好的公司，你应该选择好的创始人。 我用两种方法来筛选与我联系的创业公司。\n首先删掉格局较小的创意以及能力较弱的创始人； 然后再重点关注那些厉害的创始人以及伟大的创意。 寻找有扩张性的项目\n在我的世界里，有两种类型的企业，疯狂扩张型的，以及其他。 “我不需要知道你的创意是否能够成功，我只需要你这个人是否能够成功。”\n人并不代表一切，却是唯一的评判标准。\n我为所有创业者准备的四个最重要的问题\n一、该创业者为什么选择这个项目？ 二、该创业者的投入程度如何？ 三、该创业者在这个项目以及生活中具备哪些成功的条件？ 四、我的回报有多少？ 基本上，如果你能够闭上嘴，像一个侦探或者心理医生一样去倾听，对于那四个问题，你将得到比其他天使投资人更多的答案。你将获得更多的成功，失误更少。\n与创业者面谈的暖场问题\n0、你是怎么认识某某吗？ 1、你正在做什么？ 2、你为什么要做这个项目？ 3、为什么是现在？ 4、你有哪些特别的优势？ 有时候创业者对于这个问题给不出答案。不过这也没关系，以后当你回顾这些项目的时候，你会发现很多面谈都是终止这个问题。 谷歌是第12个搜索引擎，脸书是第十个社交平台，iPad是第20个平板电脑。并不是说谁第一个做谁就会成功，而是当市场条件成熟之后谁第一个做。\n问创业者关于经营策略的问题\n谈一谈你竞争对手的情况 你准备怎么盈利 怎样向用户收费 用户平均在你这里消费多少钱？ 可能导致该项目失败的三个最大风险是什么？ 问创业者个人的问题\n你父母是做什么工作的？和我谈谈你的父亲和母亲吧？ 没有什么能够比谈的成长经历，更能拉近两个人的关系 创业者的父母为他们设计的人生道路十分关键，几乎与创业者他们自己选择的道路一样重要。 虽然没有根据家庭情况来决定是否对创业者投资的金科玉律，但是我从他们成长故事中了解到的信息非常有用。 每个人都想成为创业者，但是他们不知道这意味着什么。\n其实成为一个领导者是很糟糕的事，因为最终不仅要为自己的表现负责，还为整个团队、市场、投资人、竞争对手，甚至你的客户负责。 今天大部分自称是创业者的人仅仅是在扮演创业者的角色，不管他们是否知道这一点。 是的，创业者无法推卸责任，当事情出现问题的时候，创业者需要承担所有的责任。 没有人记得你是怎样成功或失败的，只会记住你是成功还是失败了。 人总会把所有的后果都算在你的头上。 作为公司的创始人，也就意味着所有难题都需要你来解决，哪怕这些问题是你团队里面最聪明的家伙都解决不了的。 作为一位投资人，你必须要小心，你不能投资那些没有能力处理各种无休止问题的人，因为那就是创业者的生活。\n创业者的特质\n一个伟大的创业者，他的核心特征，是不懈的追求自己愿景中的世界。当你作为天使投资人与创业者面谈次数越多，你就能越快地感觉到创业者对他们创办的公司是否足够重视。你需要搞清楚的是当事情变得困难时，这个创业者是否会放弃。 一家创业公司倒闭的首要原因实际上并不是大多数人想的那样，烧完了钱。创业公司失败的最大原因是创业者的放弃。 如果在公司盈利之前，创业者就热衷于参加coachella、TED ，或者其他会议，那么他们不应该是你要投资的目标。当我看到创业者把时间浪费在不能直接吸引投资者、客户或者团队成员的事情上，我是会望而却步的，我会把筹码放到其他地方。对于那些把钱和时间花在办公环境，而不是产品上的创业者，我也是一样的态度。 一个明显的信号就是，创业者早早的就把公司的股票卖掉，把所有的风险和责任都转嫁给他们的投资人。。。。。。。请记住，如果你真的大赚了一把，首先就是应该保持低调，不要进行任何引人注目的消费。\n如果一位创业者不怎么与他的投资人沟通了，那很有可能就是他的项目快不行了，但也有一小部分创业者是因为性格内向只会埋头苦干。区分两种创业者的方法是，观察创业者在面谈时的表现，以及他们对你的电子邮件的反应。。。。当高效的创业者受到这里邮件时，他们会很快可以简洁的答案，在沟通中，经常东拉西扯的创业者，很有可能做不长久。\n项目从早期到后期大概包括以下几个阶段：纸上概念阶段、项目调研阶段、商业计划、阶段产品概念模型阶段、功能原型阶段、最小可行产品阶段、公测阶段（beta测试）、隐身模式（stealth node）阶段\n在我看来，创业者如果还处于创业商业计划或者最小可行产品之前等阶段，就不应该去找天使投资人。如果他们来找你，那就说明他靠自己做不出产品来，也没有能力招揽牛人或者从亲朋好友出融资来做产品。这样做公平吗？不！这个世界是公平的吗？不！\n根据我的经验，介入太早期的项目是天使投资新手最常犯的错误。下面是我在市场上看到的粗略统计数据，也许能够让你放缓脚步：\n99%的人只把创意留在纸面上，却从不去实现 95%的人在写下商业计划之后不去执行 90%的人在做完原型后无法做出最小可行产品来 在完成了最小可行产品的人中，有80%的人没办法去进行公测 完成了公测之后又有80%的人没办法成立公司 公测之后，有95%的人不会去融资 现在你把所有这些概率放在一起，再加上融到资的创业公司，还有80%到90% 的死亡率，所以［天使投资要投有产品出来的公司］。市场上有足够多的公司有产品市场契合点和市场吸引力天使投资人需要更多的资金才能完成他们的使命，你需要把你前三个投资放在这些创业公司上。你需要投资那些已经撸起袖子开干的人，而不是那些只在嘴上说说、要等着你投完资才干活的人 （作者跟创业者交流时会作笔记，并把笔记放到自己的博客上）我从来没有想到过我的博客能够推广我所投资的产品，能够帮这些公司招揽人才，能够吸引著名的风险投资，但的确达到了这样的效果。这让更多的创业者请求我投资他们的公司。\n拒绝人，“等等再说”替代“不” （作者在要拒绝别人的时候，跟别人说“等等再说”，不仅告诉他们还没有做最后的决定，还让他们经常来问一下作者的意见）我认为这样做很好，有三个原因\n第一，我不会打击到创业者脆弱的心灵 第二，我可以给创业者证明我错了的机会，并与我一直联系。我最喜欢有创业者能够证明给我看（我错了），因为这意味着我将能够投资一个更厉害的公司 第三，我这样做可以确定一个基调，那就是在我给创业者投资之前，我希望创业者能够保持与我每个月的信息沟通。 人生是一个巨大的考验，与投资人沟通交流，也是其中一个考验。观察一个人能否严格执行他们的计划，是决定是否对其投资的最好依据。 避免谎言\n当你投资了几十家公司，参加了几百次面谈，问了几千个问题之后，你会发现那些谎言就像夜晚的霓虹灯一样显眼 （作者认为妄想比谎言要好，或者说拥有着类似妄想的理想的创业者比说谎的创业者要靠谱） 如果你不能处理好与现有投资人的关系，那你就是在犯错。当然，理性的人不会同意这个观点，但是聪明的创业者要能处理好与别人的冲突，说服别人，消除矛盾。即使错在投资者，但我也会质疑创业者解决这种问题的能力。\n人与人之间有不同意见，甚至偶尔有冲突都没什么关系，就像在篮球联赛里面，但是没有人愿意加入一个关系很紧张的团队。\n聪明的创业者会让天使投资人有参与感，就像导演会给制片人展示一下样片或者与他们讨论一下剧本，让他们觉得自己很受重视。\n想给某位天使投资人留下特别的印象吗？问问他们正在投什么项目，以及进展如何。\n如果你（创业者）最终真的获得了成功，请不要忘了我们曾经为你提供的帮助，虽然脏活累活都是你自己看的。当你们的辛勤工作，让我们收获全垒打的时候，我们持有贵公司的股票市值达到我们投资的50倍五百倍或者5000倍，不要嫉妒我们的暴利，我们应该一起庆祝，因为这更多反映了我们相信你的能力胜于我们自己的能力。\n创业或者天使投资就像把你放到一个很大的漆黑的体育馆里面，里面有一个电灯的开关，你在黑暗中摸索，不知道自己在做什么，直到你找到了这个小的开关，轻轻地按下他，眼前顿时一片光明。\n你既然通过阅读本书选择了这样的生活，那你对于成功的概率就很了解。成功青睐于那些有长远眼光、喜欢巨大胜利的人，青睐那些充分认识到有失才有得的人。\n在我看来，如果你是股东你的工作是在幕后解决问题，而不是（跑到媒体面前）给公司带来问题。\n创办公司真的很容易，但要想善始善终、顺利退出却很难。\n早年我最大的问题是，我经常认为如果我自己或者我的朋友能够很好地执行某个计划，那我投资的公司也可以做到。我本以为所有的创业者都是坚韧不拔、不轻易放弃的人，但是经历过五六家主动放弃的创业公司后\u0026ndash;这些公司的投资人只能拿回一点点钱\u0026ndash;我艰难地认识到，并不是每个创业者都是顽强不屈的。生活中，有时你只有亲身经历过了才能真正了解。\n退出机制\nIPO 退出 IPO 后卖出 80%，投资其他稳定的股票（Facebook、Amazon、Netflix、google） 旧股转让 并购 并购交易有三种：人才收购（acquihires）、吞并、溢价出售（premium sales） 世界上很多伟大的公司都是建立在为人们消除生活中某种痛苦的承诺之上的。有时候人们会遇到很大的问题，他们需要找到某种解决方案。\n画一条横轴和一条纵轴，分别标上“痛点强烈程度”和“人们感受到该痛点的频度”。\n独脚难行，孤掌难鸣。\n","title":"富人思维"},{"link":"/posts/genomics_in_2030/","text":"https://doi.org/10.1016/j.ajhg.2023.09.010 https://www.genome.gov/event-calendar/Bold-Predictions-for-Human-Genomics-by-2030 Bold predictions for human genomics by 2030\n(1) Generating and analyzing a complete human genome sequence will be routine for any research laboratory, becoming as straightforward as carrying out a DNA purification.\n(2) The biological function(s) of every human gene will be known; for non-coding elements in the human genome, such knowledge will be the rule rather than the exception.\n(3) The general features of the epigenetic landscape and transcriptional output will be routinely incorporated into predictive models of the impact of genotype on phenotype.\n(4) Research in human genomics will have moved beyond population descriptors based on historic social constructs such as race.\n(5) Studies involving analyses of genome sequences and associated phenotypic information for millions of human participants will be regularly featured at school science fairs.\n(6) The regular use of genomic information will have transitioned from boutique to mainstream in all clinical settings, making genomic testing as routine as complete blood counts (CBCs).\n(7) The clinical relevance of all encountered genomic variants will be readily predictable, rendering the diagnostic designation “variant of uncertain significance (VUS)” obsolete.\n(8) A person’s complete genome sequence along with informative annotations can be securely and readily accessible on their smartphone.\n(9) Individuals from ancestrally diverse backgrounds will benefit equitably from advances in human genomics.\n(10) Genomic discoveries will lead to curative therapies involving genomic modifications for dozens of genetic diseases\n2030 年人类基因组学的大胆预测\n(1) 生成和分析完整的人类基因组序列将成为任何研究实验室的常规工作，就像进行 DNA 纯化一样简单。 (2) 每个人类基因的生物功能都将为人所知；对于人类基因组中的非编码元素，这种知识将是常规而非例外。 (3) 表观遗传学和转录组的一般特征将被例行纳入基因型对表型影响的预测模型。 (4) 人类基因组学研究将超越基于种族等历史性社会建构的人口描述。 (5) 对数百万人类参与者的基因组序列和相关表型信息进行分析的研究，将定期在学校科学展上展出。 (6) 基因组信息的常规使用将从精品转变为所有临床环境的主流，使基因组检测成为与全血细胞计数（CBC）一样的常规项目。 (7) 所有遇到的基因组变异的临床相关性将很容易预测，从而使 \u0026ldquo;意义不明的变异（VUS）\u0026ldquo;这一名词过时。 (8) 一个人的完整基因组序列和信息注释 可以安全、方便地通过智能手机获取。 (9) 来自不同祖先背景的个人将公平地受益于人类基因组学的进步。 (10) 基因组学的发现将为治疗数十种遗传疾病带来包括基因编辑在的治疗方法的进步。 通过DeepL翻译 (https://www.deepl.com/app/?utm_source=ios\u0026utm_medium=app\u0026utm_campaign=share-translation ) 并人工校对\n","title":"2030 年人类基因组学的大胆预测"},{"link":"/posts/5steps2fortune/","text":"【个人总结：不值得读。】\n花钱的道路千千万，挣钱的道路就两条：工作，让钱替我们工作。 在交易股票时，崩盘对我们来说，并不是真正的威胁，相反，我们却有可能在股市崩盘时通过股票交易为未来的高收益埋下伏笔。 不要买奢侈品公司的股票，要买与国计民生相关的公司的股票，这种投资是最安全、最有利可图的投资，具有抵抗通货膨胀或者货币改革的优点，还能为你带来收益。 制胜股市 12 原则 1、在实践中成长 2、锻炼自己的耐心 我们需要耐心等待，直到这个时机到来，然后抓住它。\n3、先使用模拟账户一年之后，逐步提高交易金额 4、寻找志同道合者 与志同道合的人一起训练会对你有很大的帮助，大家可以互相吸取经验，一起交流分享。\n5、交易策略要符合自己的个性 我们需要弄清楚什么策略适合我们，让我们感到舒适。理想情况下，有股票交易应像一场游戏，我们既要严肃认真对待，又要感到愉悦。\n6、制定交易方案并记录交易过程 请问每一笔交易制定一个具体的执行计划：我因为什么建仓？我希实现多少收益？我的方案 B 是什么？ 在交易计划中，要把这些确定好并写下来。此外，还要坚持写交易日志，以图表或文字的形式都可以，里面要记录你做过的所有交易。每进行一笔交易后，写进日志里的内容一定不要删除，也不要修改。这样便于你在事后追溯自己的行为。\n7、控制自己的情绪 在股市里，畏惧（迟迟不敢开始交易）和贪婪（用力过猛、不假思索）都不是好的情绪。有的时候，贪婪之心会阻碍一些人进行必要的风险控制。 我所指的控制自己的情绪，不一定是指时时刻刻遏制自己，因为长此以往，这会让你感到非常压抑。 我的意思是说，我们可以关注和感受自己的真实情绪，然后去优化他们，比如 针对畏惧心理，我们可以问问自己最坏的情况是什么？可以分析一下，自己某一次为何表现出贪婪或者吝啬？导致贪婪的导火索是什么？你觉得自己错过了什么？你为什么一分钱都不想出？你要保证自己在头脑清晰、全神贯注的情况下采取行动。\n8、接受损失 很多人往往会倾向于在亏损的情况下仍然长期持有\n9、赚了钱也要脚踏实地 10、区分资本和流动资金 我们首先需要关注的是每个月都产生收益，都有规律的现金流。在这个过程中，相对来说，我们的股票价值没有那么重要，如果我们的股票价格下跌了，我们可以等待，甚至在五年、十年或者十五年之后才卖。在此期间，如果能经常性得获得月度收入，那么在某一刻，我们一定会感到非常开心\n11、先别辞掉工作，就算已经能靠股市收入养活自己 12、把握正确的退出时机 有些东西，不是多多益善。\n投资原则 1、只有在 100% 理解一项投资的情况下才能投资 使用工具 Value Line\n2、只有在能够确定一项投资的公允价格的情况下才能投资 3、只有在机会-风险比例大于或等于 3:1 的情况下才能投资 4、只有在资本获得百分之百保障的情况下才能投资 不要轻易允许自己赔钱\n","title":"5步实现财务自由"},{"link":"/posts/millionare/","text":"【个人总结】 后面三分之一可以读一下，整体一般。\n成功的公式由四部分组成： 1、 路线图 2、 交通工具 你的交通工具就是你自己。你的车是由复杂的系统组成，所有组件都需要经常调整和为悍V，以确保在旅途中达到最佳状态。 3、 你的道路 你的道路上你的财富通道，上班族或创业。 4、 你的速度 过程造就了百万富翁，结果只是过程的副产品。 财富是由家庭（family）或人际关系、健康（fitness）、自由（freedom）组成，不是由物质构成。 首先，财富是与人构建的紧密的关系。 其次，财富是健康，即活力、激情和无限的能量。 最后，财富是自由，即自由地生活，无论在何时何地。 负担不起的物质财富，是对财富三位一体的破坏。 使自己从受害者模式中解脱出来 谁才是真正的白痴，是白痴本人，还是雇佣了白痴的那个白痴？ 受害者法则-只要你不放弃控制权，没有人能让你成为受害者。 承担责任是迈向你驾驭自己生活的第一步，问责是最后一步。 一份工作，就是用你的自由（以时间形式）获取自由（以金钱形式）。 慢车道的核心主题是工作，而快车道的核心则是生意。 在快车道，你的财富增长基础是创建或购买增值资产，提高价值，操纵变量，然后再卖出去。否则你就选择慢车道，每月投入 200 美元到共同基金，乞求得到每年 8% 的收益率，为此你要替人打工 40年。 五种快车道的种苗生意 租赁系统 房产，专利，音乐版权等 计算机/软件系统 内容系统 书籍、博客、社交网络、电子图书、网络杂志等 分销系统 人力资源系统 只有在拥有大笔资金的情况下，复利这个武器才是最有效的。 富人不使用复利来获得财富，而是用它来获取收入和流动性。 真正的财富定律，是影响力，而不是吸引力影响力在于规模和等级。 如果你想通过内在价值致富，你必须借助影响力的作用，站在一个可以影响数以百万的人的位置，要像一个运动员、明星或高级执行总裁那样，拥有不可替代的位置。你不能像一个运动员那样拥有数以百万计的粉丝吗？那就直接找到这些人，为他们提供服务吧。 影响力定律不在乎你用何种路线图、何时交易，不关乎其他任何东西 它只关乎数量的巨大。要么在小规模施加大等级的影响力，要么在小等级施加大规模的影响力。 开发 14 套写字间 x 40 万美元/套 = 560 万美元 800 万本书 x 7美元/本 = 560 万美元 你越有办法做大数字，你就越容易获得财富。为数百万人提供服务就能赚取数百万美元的财富。想得大，才能赚的多。 影响力定律是绝对的，它可以来自直接路径和控制（假如你是运动员），也可以来自间接路径（假如你是运动员的经纪人）。 要想获得数百万美元的财富，你必须要为数百万人服务，或者为拥有超强等级的少部分人服务。 要想优先付钱给自己，你必须拥有自我。公司是作为快车道工具存在的，因为它可以通过优先付钱给自己，而不是最后付钱给自己，马上给你带来税收优惠。 奉行快车道理念的人视时间为一切资产之王。 时间是极度缺乏的，而金钱则多得是。 最大化利用时间，就可以最大化你的财富。试试在一个时间段达成两个目标，让生活成为你的大学： 驾驶的时候听有声图书或财经新闻 锻炼的时候看看书、杂志、播客视频 等候的时候，学习 承担明智的风险，放弃无谓的风险。 忌掉“改日做” 永远不会有完美的时间，某一天就应该是今天，今天就是当下。今天才是你拥有的全部，如果你等待，机会就将擦肩而过，你的快车道旅程将不会开始。 时机极少是完美的，等待会让人变得平庸，不要用一生的时间坐等完美时刻的来临。完美的场景和条件是永远不会有的。 为了过上和常人不一样的生活，你得做其他人不想做的事情。 不易察觉的风险具有无限的下行风险（长期）和有限的上行空间（短期）。 通往影响力之路：5 条快车道戒律。影响力定律是说，为了赚百万美元，你必须影响百万人。用影响力定律照亮你的快车道，用 5 条快车道戒律做个检查： 需求戒律 进入戒律 控制戒律 规模戒律 时间戒律 满足所有五条戒律的道路可以让你快速致富。 需求戒律 当你不再自私，将业务重心从满足自我转向满足他人，钱就会向你和你的生意走来，先给予，再索取。放在第一位的是需求，不是金钱。 需求可以是痛点、服务缺漏、未解决的问题或者情感方面的需要。 进入戒律 进入戒律是说，做任何业务都有进入壁垒，当那个行业的竞争加剧时，那条路的致富效果就会减弱。高进入壁垒意味着这条路更强和更有力，竞争也更小，对杰出能力的需求也更少。 低进入壁垒的生意不是一条可依赖的道路，因为容易进入导致了竞争激烈和堵塞，大家都在争抢同一个馅饼，只要出现拥堵，谁也别想通过。 “大家都在做”，这是一个警示信号，该撤了吧。 控制戒律 要想赚大钱、发大财，你得有自己的系统，而且控制好它的每个方面。 投资打造自己的品牌。 规模戒律 要想在商业上获得成功，你只需要做对一次。问题不在于你在生意上花费了多少时间，而在于你必须得做对一次，而那一次能够决定你的一生。 规模是杠杆，为快车道财富公式提供了力量。 快车道财富公式：解除规模限制。 服务范围或量级带来规模。 规模就是杠杆。 影响力定律的障碍： 规模、量级和渠道。 时间戒律 时间戒律要求你的生意与你的时间脱钩。 当我不在时，这项生意是否可以自动有序的运转？ 我的边际收益是否足够多，可以让我雇人去做？ 我的经营是否得益于这是一项摇钱树似的业务？ 如何让生意经营不占用自己的时间？ 让你无法脱身的生意只是一个工作。 三条高速快车道 互联网生意 创新产品或服务 创造规模效应 高速快车道 1: 互联网生意 互联网的规模天生可以扩大到全球范围，可以通过电脑系统形成自动化，是一种你可以掌控的媒体（不幸的是其他大部分媒体不是这样），他还具有防止每个人进入的门槛。 互联网生意模型（道路）可以分为以下七类：\n1）提供订阅服务 为用户提供数据、信息或软件，收取月度费用。数据可以是线索、销售信息、专有数据库或图片。\n2）提供内容服务 内容模式是指面向特定市场或行业的在线新闻杂志和博客。这类服务商提供免费内容，以出售广告的方式来赚钱。 我认为基于内容的盈利模式是最难成功的，因为进入壁垒已经大幅下降，其成功可以通过浏览量预测，而且内容系统深度参与附属项目，是一种搭便车的架构。\n3）引导性销售 引导性销售服务力（lead generation Services） 通常在向消费者提供服务的同时，也对非同质的行业加以整合。引导性销售在碎片化行业很受欢迎，这些行业主要是中小型企业。 航空业的引导性销售可能不会成功，而对于整形外则很合适。引导性销售解决了两方面需求，第一，消费者的愿望是节省时间和金钱；第二，企业的需求是便宜的找到新客户。\n4）社交网络 社交网络是从内容系统剥离下来的一部分，不在依靠内容来吸引眼球。人被安排在不同的组或部落里。\n5）中介系统 著名的中介系统包括 paypal、elance、carsdirect、travelocity。\n6）广告 7）电子商务 电子商务就是通过互联网出售物品、服务和信息的商业活动。信息也可以通过电子商务销售，电子书在互联网上就非常流行。\n高速快车道 2:创新产品或服务 何为创新产品，实际上他事才满足一项需求或一个愿望：\n食品（啤酒、烧烤酱、饼干、秘方） 家居用品（真空机器人、工具、衣架） 健康与活力（维生素、草药、能量饮品、酒吧、男性保健品） 信息（书籍、杂志、简报） 个日用品、衣物、钱包、鞋子、手套） 汽车用品（车用饰品、配件、贴签） 发明还被看作是满足缺省的快速致富途径，事实也确实如此。然而不要被愚弄了，发明并不是指发明一个工具、电话机或者笨重的赛格微车，发明者的核心活动是对一些东西加以改进和提高，把一些老旧的东西改造的更好。发明者选一个不为人知的产品，加以改进并重新推入市场，把不常见的东西变成常见的。 我看过对一位成功企业家的专访，那位发明人只是将伏特加的旧透明玻璃瓶换成了一个五彩缤纷的彩色瓶子。伏特加大概已经有几个世纪的历史了，然而当一位企业家将这个古老的产品加上独特的元素时，它变得不同了。有时候，事情就是这么简单。 创新是双阶段挑战过程：制造和销售。发明一件可以解决一项需求的产品，只是打了半场仗。另外半场是将你的发明卖给几百万人，其中包括一系列的销售渠道，如电视购物（通过大众媒体销售）、零售商（卖给分销商和批发商），以及直销（通过印刷媒体、直邮、互联网销售）。 和所有创新一样，生产只是一场大战中的一个小战斗，销售才是赢得大战役的关键。如果一个产品无法送到人们手中，那他就毫无用处，要使他实现价值，则需要销售。 写书并非一项生意，卖书才是。 高速快车道 3:创造规模效应 创造规模效应是一条高速快车道，但因为不满足全部 5 条戒律而极具挑战性。他不满足其中四条戒律而只满足最后一条戒律\u0026ndash;规模。规模可以通过人力资源系统或重复成功获得。 比如说一位房地产投资者在银行处置不良资产时，购入一栋独立别墅再将其租出去，这个行动不会产生规模效应。这位投资者在快车道财富公式中的回旋空间很少，因为净收入来自租金，而租金取决于这栋房屋的市场价值。 为了解决这个问题，投资者并非只买了一栋别墅，而是买了50栋。是的，说起来容易做起来难，整个过程非常漫长。实际上投资者选择的是使用一种“安打”的做法达到全垒打的效果，这就需要创造规模效应。 连锁经营是创造规模效应的另一个例子。如果你设立一家小型商店用来创造规模效应，你的目标不是一家店，而是几百家，也许是几千家，这可以通过连锁经营实现。 规模效应可以积累多个成功。尽管你的小店可能并非快车道，但是通过创造规模效应，用连锁经营和复制的方法可以变成那样的企业。 安打型生意可以通过创造规模效应而成为全垒打型生意。\n开始时人们拒绝相信一件新奇的事，之后人们开始希望能做到，然后他们看到那件事确实可以做，最终那件事做成了。所有人开始问，为何这件事情几个世纪了都没有人去做。\n极少会有像电灯泡或汽车那样的突破性发明，但机遇会像一个有待满足的需求那么简单，或者就是一个未得到充分满足的需求。\n机遇就是对一个不方便提出解决方案； 机遇就是简化； 机遇是一种感受他让人感觉到舒适； 机遇是更好的服务； 机遇是消除痛苦； 机遇是让经营差的公司退出市场。 有人在做那件事\n你想到一个好主意，但有人已经在做那件事了？无所谓，你可以做得更棒。 所有事情都有人在做。问题在于，你可以做得更好吗？你可以更好地满足需求，提供更高的价值，或者成为更棒的营销商吗？ 竞争无处不在，只要去做，做得更好就行。 新奇点子不如比别人干得更好\n成功的生意极少来自新奇的想法。相反，成功的创业者采用现有的概念，但会做得更好。他们选择会被很好满足的需求，并更好地解决问题。放弃新奇的点子，专注于很好的执行。你无需去做从未有人尝试过的生意。旧的点子没有什么不好的，关键是比别人做得更好。 一定要有一个全新的想法吗？不，你只要有一个需要更好解决方案的需求和完美的执行即可。 未能得到很好满足的需求就是一条大道，尽管他们看上去似乎走不通。成功的生意，可以采用已有的点子、服务和产品，只需要做得更好，或者采用新的做法。 如何找到大道\n找到未被满足的需求，并将其作为走上快车道的机会，并非一日之功。我之所以有创新性想法，是因为通过习惯性感觉，我发现了机会的边界。我看到和听到了大多数人看不到的。怎样才能发现机会呢，通过一些练习很容易做到（关注别人的不满意情绪之所在）。 公开大道的机会很容易用平板语言说出来：不适、不良、不便、抱怨、问题以及表现不佳。你必须面对这些挑战，向大众提供解决方案，并确保赚钱！也就是说，解决了别人的问题，就能解决自己赚钱的问题。 失败开辟一条新路\n不幸的是，快车道并非铺满沥青的坦途，而是充满磨难。这意味着会有人离开这条路。在这条路上，每个人都尝过挫败滋味。面对失败时的反应才能区分谁是胜者，谁是失败者。 是的，放弃现有道路并改变方向有时候就是最佳选择，但是要注意“放弃”和“放弃你现在的路”之间的区别，放弃是永远丢掉你的梦想，将他们扔进“不可能”的垃圾箱，而放弃现在的路，则是改弦更张，转上一条新路。 问题不在于商业计划书，永远都和商业计划书五个V，世界上最好的商业计划书就是执行的记录。\n依靠执行获得资金，而不是商业计划书。\n如果你想要找到投资人，那就行动吧。做一个原型，创立一个品牌，建立让别人看得到的执行记录，深入到过程中去当你把一个想法变成现实时，投资人就会打开钱包。你只要做得足够好，他们就会抢着给你钱。\n内部路线图：我的黑皮书\n它记录了我生意中每天遇到的抱怨、牢骚和问题，这本书作为我的指南已经有 10 年以上时间了。 抱怨是很好的事情，他们代表的是反馈，暴露了你的生意中未被满足的需求。 我之所以记录客户的投诉，是因为这是一个观察客户内心的万花筒。一个投诉意味着还有10个人也有同样的意见。我每周会把类似的投诉集中处理，评估和采取纠正措施。投诉是这个世界给你的提示，告诉你应该前进的方向。 4 类抱怨 抱怨有四类：变化、期望、无效投诉、欺诈投诉。\n变化 对人们喜爱的东西做出改变，你就会接到汹涌的抱怨。这个世界厌恶改变，抵触改变也是人类的天性。改变会威胁到舒适、预期和安全。 然而对于批评意见，问题在于多少才是正常的，多少才是合理的？ 当你做出改变时，就会出现抱怨和投诉，这是必然的。并不是所有抱怨都是可以解决的。因为起作用的是人的心理，而不是你的工作。 期望 当你打破了客户的期望时，就会发生相应的抱怨和投诉。你说服他们和你做生意，他们对此有所预期，而你提供的东西没有达到他们的期望。这种情况之所以发生，要么是因为你的服务失败了，要么是他们的期望受到了营销策略的误导。不管是哪种情况，都暴露出了一个问题。这是你的问题，不是客户的问题。你或者做出更好的工作去满足他们，或者更好地管理他们的预期。 无效投诉 无效投诉是指客户不断提出某方面的要求，而你无法满足。无效投诉非常有价值，因为它们暴露了有待满足的需求。 无效投诉充满着机会。人们坦诚的告诉你，他们想要什么，而你不一定要为此花钱，就可以满足这些需求。 欺诈投诉 欺诈投诉，是指客户设计非法的投诉敲诈企业主。\n如何处理那些别有用心的投诉人，你可以优雅地回应，解释你的立场，然后继续做你的事情。\n选择你的战场\n应该有选择的处理投诉，这就是为何我要做记录，我想要识别出可以加强我的服务价值的模式。我明白，更好的产品带来更好的客户，而更好的客户给的价格也更好。 把“差劲”变成“超越预期的客户服务”\n当你打破了客户对服务的负面期望时，就会把他们变成忠实的回头客，最终给你的业务带来好处。 借力免费的人力资源系统（其实说的就是借助口碑的传播）\n好的客户服务要求你付出更多，但是收益也会更多你需要突破客户的期望，培养自己的传道士，创造免费为你工作的人力资源系统，把钱吸引过来。 大处着眼，小处入手\n（作者在自己网站上虚构了很多人物作为高管：首席技术官、BD或网站设计师等等）这些人不是我的员工，但是会让别人以为我的员工很大牌，业务在成长。 先验证，再信任。而不是相反。\n现在我不相信任何人，但是会给所有人机会证明他们值得被信任。 要小心对待你挑选的人，不要受到诱惑而对危险视而不见 对于成熟的企业来说，竞争通常是用来发现你不应该做什么，而不是你应该做什么。跟我竞争最激烈的竞争对手以不回复电邮而著称。，而声名狼藉他们给了我一个好机会。\n提升同类产品和服务力竞争力的唯一方式是差异！这里要通过分析竞争对手的劣势和创新完成，因此努力创新。\n打造品牌而不是生意。\n人们充实与品牌和关系，而不是公司或生意。 做到独特\n打造品牌的第一部 步是有一个独一无二的销主张，没有独特销售主张的生意没有吸引力。 你独到的销售主张就是你的品牌之锚 是什么让你的公司与其他公司不同？ 是什么让你的生意有别于其他生意？ 是什么原因让客户选择你，而不是别人？ 我的销售主张很有力：没有风险的广告。如果我们没给你提供有价值的东西，你无需付款。 独特的销售主张是建立品牌的基石，可以弥补过高的价格，甚至一个差劲的产品。 开发你独特的销售主张 第一步：发掘优点 进入一个行业要有合适的理由：解决一个问题或者满足某种需求。你的销售主张首先要符合这个条件。如果你早就在做生意，那么找出你的产品的最大优点，以区别与其他产品。做这件事的时候，心里要有客户，靠户考虑他们有什么需求，他们想要什么。 第二步：独一无二 销售主张的目标是要独一无二，这是消费者选择你的逻辑依据。如果不需要你，他们就会失去这个好处。独特的销售主张应该采用有力的动词，产生出愿望和紧迫感。“减轻重量”应该改为“消灭脂肪”或者“甩掉肥肉”，“做大企业”应该写成“收入爆炸式增长”或者“打破销售记录”。 销售主张的独特性可以在消费者做购买决定时给他们提供更多的信息。 第三步：要具体，给出证据 销售主张要具体化，如果可能提供一些证据。 达美乐的披萨并没有说“及时送货”，他们说的是“30分钟内送到，否则免费”。给出的是一个特定的行动和这个行动的证据（如果我们没有做到，你的披萨就免费）。 第四步：简短、清晰、明智 最佳的销售主张是简短、清晰和有力的，过长的句子，会被人们略过。 第五步：把你独特的销售主张放进所有营销资料 如果有了独特的销售主张而没有表达出来，那他们就没有价值。在你所有营销资料中用上你独特的销售主张：\n你的货车设备和建筑物上 你的广告和促销资料上 你的商业卡片、信头、logo、手册和传单上 你的网站和电邮签名上 你的语音邮件系统，前台/销售资料中等 第六步：说到做到 你必须对销售主张上的承诺，说到做到。欺诈的销售主张很快会露馅，导致人们抛弃你。\n为了在快车道上取得成功，我们必须放弃自我，去满足他人。 只有专注，才能多样化。一些伟大的技术型企业创业者用百分之百的努力打造出令人印象深刻的公司，他们没有把精力分散在其他创业企业。在赚得第一桶金之后，他们才会涉足由其核心业务延伸出的其他领域的创业企业。换言之，是他们的专注换来了多样化的结果。 一个领域做的成功，才能在其他领域得到成功。 ","title":"百万富翁快车道"},{"link":"/posts/naval/","text":" 最重要的是要在重大决定上花更多的时间。人生早期有三个重大决定：在哪里生活，和谁在一起，从事什么职业。\n阅读数学、科学和哲学领域的经典作品，不要看畅销书，不要看新闻。避免加入任何所谓的图书俱乐部，追求任何的社群认同。把真理置于社群认同之上。\n追求财富，而不是金钱和地位。财富是在你睡觉时仍能为你赚钱的资产，金钱是我们转换时间和财富的方式，地位是你在社会等级体系中所处的位置。\n创造财富和坚持道德标准是可以兼得的。\n依靠出租时间是不可能致富的。你必须拥有股份（企业的部分所有权），才能实现财富自由。\n选择一个有长期发展前景的行业，找到可以长期合作的人。\n培养迭代思维。生活中所有的回报，无论是财富、人际关系，还是知识，都来自复利。\n代码和媒体是不需要许可就能使用的杠杆。这两个杠杆是新富阶级背后的杠杆。你可以创建软件和媒体，让它们在你睡觉时为你工作。\n如果不会写代码，那就出书、写博客、做视频、录博客。\n社会、商业和金钱是技术的下游，而技术本身又是科学的下游产物。应用科学是推动人类社会发展的引擎。由此得出的推论是应用科学家是世界上最权威的人，这一点在未来几年会更加突出。\n找到天赋所在，积累专长。\n专长无法被教授，但可以被学习。 要想有所专长，就要追求真正的兴趣和热爱，而不是盲目追逐热点。 专长往往具有高度的技术性或创造性，不能被外包或自动化。 在创意领域，复利效应非常明显，杠杆效应也非常明显。 培养责任感，勇于以个人名承担商业风险，社会将根据责任大小、股权多少和杠杆效应回报你。\n没有股权，就没有通往财务自由的路径。\n从本质上看，上班就是给人打工，而企业所有者在承担风险和责任的同时也拥有知识产权和品牌效应。\n要努力工作，直到有能力拥有企业股权。你可以买入企业的股票，成为小股东，也可以创办一家属于自己的企业。总而言之，要想方设法拥有企业的所有权，这一点真的非常重要。\n总之，真正的财务自由都不是靠单纯地投入大量时间来实现的。\n要时刻牢记，掌握社会所需的独门绝技才是占据职业制高点的不二法门。\n如果社会可以培训你，那么总有一天，社会也可以编写代码，用计算机取代你。\n人生的一大目标应该是掌控自己的时间。理想的工作是利用杠杆效应的工作。\n在这种工作模式下，你可以掌控自己的时间，并能对自己的产出成果负责。 如果你通过提供绝佳的解决方案，给企业带来了神奇的转机，那么你必将得到金钱的回报。 特别是，如果别人根本不知道你是如何做到的，他们就必须不断地付钱给你让你继续提供这种产品或服务。 你之所以能够做到这一点，就是因为你的痴迷、技能或天赋。 世界上的工作本质上分为两种：存在杠杆的工作，不存在杠杆的工作。\n用头脑赚钱，而不是用时间赚钱。\n用判断力赚钱\n我想让机器人、资本或计算机完成实际工作，而我只靠判断力赚钱。 首席执行官的报酬之所以很高，就是因为杠杆效应。在判断力和能力上，毫厘之差都会有天壤之别。 在实际操作中展现出色的判断力，拥有可信可靠的判断力 这一点非常关键。巴菲特。。。没有人问他工作有多努力，没有人问他几点起床、几点睡觉，大家都说：“巴菲特，你只要把业务搞好就行了。” 要有出色的判断力\u0026ndash;尤其是经过实操验证的判断力，以及高度的责任感和优秀的业绩记录，这几点至关重要。 普通人把时间浪费在短期思考上，浪费在毫无价值的繁重工作上。而巴菲特会用一年斟酌判断，然后用一天采取行动。他一天的行动可以影响未来几十年。 只要在优秀的基础上稍微提高一点儿，做到卓越，经济回报就会呈数量级增加。而杠杆效应进一步放大了经济回报的差异。在杠杆时代，在自己的领域做到极致非常重要。 分清主次，聚焦重点\n玩愚蠢的游戏，就只能赢得愚蠢的奖品。\n对初出茅庐的年轻人来说，最重要事情是什么？\n最重要的是，要在重大决定上花更多的时间。人生早期有三个重大决定：在哪生活，和谁在一起，从事什么职业。 想要做到与成功人士为伍，你认为最重要的一件或两件事是什么？\n找到自己擅长的领域，然后用自己的技能去帮助他人：提供免费的产品或服务，主动向世界传递善意。好人终有好报。只要始终如一，假以时日，付出就一定能获得相应的回报。但不要计较自己付出了多少\u0026ndash;一旦开始计较，耐心就会被消耗殆尽。 退休的定义\n退休就是不再为了想象中的明天而牺牲今天。当你能活在当下，内心充盈地度过每一天时，你就达到了退休的状态。 我认为，摆脱金钱贪念最好的办法就是，赚了钱之后不要升级自己的生活方式。\n获得好运的方法：\n希望好运不期而至 不停地折腾，直到撞上大运 做好心理准备，对别人错过的机会保持敏感 把你所做的事情做到极致。精益求精，直到名副其实。让机会自动找到你，让运气成为必然。或者说，以某种方式塑造自己的性格，之后就由性格决定命运。 赚钱很重要的一点就是知名度和信誉度。\n人品和声誉是可以自己建立的。人一旦有了人品和声誉，你就会有很多机会。别人认为你是运气好，但你知道那不是运气，而是人品。我的联合创始人尼维说过：“在一个长线游戏中，似乎每个人都在让彼此变得富有。而在一个短线游戏中，似乎每个人都在让自己变得富有。”我觉得这个说法非常精准。长线游戏是正和游戏，我们在一起做蛋糕，把蛋糕越做越大。而短线游戏只是先分蛋糕。\n做一个创造者，创造出人们想要的有趣的东西，展示你的技能，练习你的技能，最终会有合适的人找到你。\n保持耐心\n随着年龄和阅历的增长，我逐渐发现，只要有足够的耐心，优秀的人就会成就一番大事业。 运用专长，结合杠杆效应。最终，你的才华和努力会得到相应的回报。 时间的投入是必须的，所以我认为，你需要做的就是拥有专长，有责任感，有影响力，利用杠杆效应，获得独步天下的技能组合，在自己的专业领域做到首屈一指。 对自己热爱的事物孜孜不倦，乐此不疲，不断精进，日积月累。不要去计算自己投入的时间和精力，因为一旦开始计算，你就会失去耐心。 所谓“性格决定命运”，就是一个人不断重复自己的行为模式，好的坏的、优点缺点，最终会得到与自己的行为相应的结果。\n始终主动付出、不断奉献，不要斤斤计较、患得患失。\n人生真正的履历，其实就是一生所承受的痛苦的集合。如果临终前要直面真正的自我，回顾这一生做过哪些有意义的事。你们你能想起来的一定都是你所做出的牺牲和迎接过的挑战。\n把时间花在省钱上是不会致富的。省出时间来赚钱才是正确的思路。\n智慧和判断力是高度相关的：一个智慧而富有判断力的人，首先要知道个人行为的长期后果，然后做出正确的判断并付诸行动。\n在杠杆时代，一个正确的决策可以帮你赢得一切。不付出努力，就无法培养判断力，也不会赢得任何杠杆。\n与聪明相比，思路清晰是一种更好的赞誉。\n要直面现实，就要放下自我，消除自我意识，忘记自我判断，平复自我情绪。\n痛苦时刻的一个定义是：当你看到事物的真面目不是你本来想要的样子时，你是痛苦的。……但痛苦的时刻就是真相大白的时刻，只有身处痛苦之中，你才会被迫接受现实，而只有接受现实，你才能做出有意义的改变，取得有意义的进步。\n感受跟事实是两码事。感受只是自我对事实的部分估计。\n事实上，留出空闲时间非常重要，如果每一天都被各种会议占满，都是忙忙碌碌的，你就无法进行思考。没有思考，你就不会有出色的商业创意，也不可能做出正确的判断。我鼓励大家每周至少花一天时间来思考，最好是两天，因为即使预留了两天，最终也可能变成一天 。悠闲的大脑才能产生伟大的创意，一个倍感压力、案牍劳形、四处奔波、焦头烂额的人是没有办法思考的。所以，一定要为思考挤出时间。\n非常聪明的人往往都是特立独行的，他们坚持独立思考、亲力亲为，以厘清事情的来龙去脉。\n逆势而为者，并非总是反对一切，事实上，反对一切是墨守成规的另一种表现。逆势而为者会根据实际情况独立思考，能够顶住盲目从众的压力。玩世不恭很容易，随波逐流也很容易，成为逆势而为的乐观主义者才最难。\n摆脱自我束缚，认清世界真相。\n习惯有好有坏，要持续成长，很重要的一点是学会打破现有的条件反射，改掉不良习惯。\n从长远看，承受痛苦是人生的必修课，它可以带来两大收获：一是痛苦可以让人接受世界本来的面目；而是痛苦可以大大改变一个人的自我，虽然过程非常煎熬。\n个性、职业和团队也需要重新设计、推陈出新。在一个动态的系统中，没有一劳永逸的解决方案。\n几乎所有的偏见都是为了帮助人们在信息不完整的情况下迅速做出判断。对于重要的决策，要抛开记忆和身份，专注于问题本身。\n理查德·费曼：我从不考虑“我喜欢或不喜欢”这样的问题，我只关注事实，我思考问题的角度是“事实就是这样”，或者“事实不是这样”。\n做人除了要极度诚实，还可以参照巴菲特很久之前说过的一个建议：具体地表扬，泛泛地批评。我努力遵循这个建议，虽然并不总能做到，但他确实给我的人生带来了积极的改变。\n如果要提出批评意见，不要批评某个人，可以批评工作方法，或者批评某一类行为；如果要表扬，那就找到一个榜样，表扬这个特定的人。这样有助于维护你身边的人的自尊心和身份感，获得他们的支持，让他们为你所用，而不是与你作对。\n当一个人同时展现出高度的自信和关爱的力量时，他就会散发出人格魅力。诚实待人、积极向上，这是我们在任何时候几乎都可以做到的。\n决策就是一切。事实上，一个决策正确率为 80% 的人比正确率为 78% 的人在市场上的价值和获得的回报要高出数百倍。\n越觉得自己无所不知，规避和处置风险的方法越少。\n发推文有助于我提炼所学知识的精髓，也有助于我温故而知新。\n人生的很多问题都可以从进化论、热力学、信息论和复杂性理论中找到解释和预测。\n反推法\n我认为自己并没有能力找到正确的方法，相反，我努力的方向是逐一排除不奏效的方法。我认为成功就是不犯错，成功的关键并不在于做出正确判断，而在于避免做出错误判断。 如果难以抉择，那答案就是否定的\n如果面临艰难选择，比如：我应该跟这个人结婚吗？我应该接受这份工作吗？我应该买这栋房子吗？我应该搬到这个城市吗？我应该和这个人做生意吗？如果难以抉择，那答案就是否定的。 一条简单的人生经验：如果在一个艰难的决定上意见不统一，你就应该选择短期内更痛苦的道路。\n如果面对两个选择，利弊各占50%，你就应该选择短期内更艰难、更痛苦的道路。 从本质上看，两条道路中的一条会带来短期痛苦，而另一条会在未来引发更长久的痛苦。为了回避矛盾，大脑会本人的选择摆脱短期痛苦。 前提条件是两个选择利弊相当，但如果一条道路会带来短期痛苦，那么他也会带来长期收益。而根据复利效应，长期收益才是你想要的。 大脑会过分看重短期快乐，试图避免短期痛苦。 因此，你必须进行自我训练，主动迎接短期痛苦，压制回避痛苦的倾向（这种潜意识倾向非常强大）。如你所知，我们生命中的大部分收获都来自于承受短期痛苦而获得的长期回报。 一般来说，应该选择短期痛苦，以换取长期收益。 建立新的心智模型的有效方法是什么？\n海量阅读，多多益善。 每天花一个小时阅读科学、数学和哲学类书籍，。。。\n真心热爱阅读，加上后天的引导和培养，你的能力将不可限量。\n我不知道大家的情况，但我本人注意力非常差。我会略读、速读、跳读，也记不住书里具体的段落或内容。但这些并不重要，重要的是在某个更深的层面，我吸收了书中的精华，这些书成为我心灵织锦上的丝线，编织成我灵魂的一部分。\n阅读的题材和内容并不重要，最终你会追随自己的兴趣，完成大量阅读，你的生活也会因此得到极大的改善。\n不要刻意追求读完多少本书，而要时刻关注可以预测未来趋势的新概念。\n学习逻辑和数学。一旦掌握了逻辑和数学，无论读什么书你都不会发怵了。\n另一种方法是阅读原著和经典。。。。。。以原著和经典为基础，你能够获得足够完备的世界观和深刻的理解力，你不会再畏惧任何书籍，你可以顺利开启自己的学习之旅。\n要想思路清晰，就要了解基础知识，如果只是死记复杂概念，却无法融会贯通、学以致用，那么记得再多也是一窍不通、无济于事。\n我们现在身处推特和脸书的时代，得到的都是碎片化的智慧精华，吸收起来非常困难。\n读书对现代人来说已经非常困难了，因为我们的大脑已经被训练成特定模式，大脑同时接受了两个相互矛盾的训练，\n一方面我们的注意力的持续时间越来越短，因为总有海量的信息扑面而来，我们希望快速略读，总结要点，直奔主题。 另一方面，我们从小受到的教育就是，书必须读完一本再读下一本。。。。。。随着时间的推移，我们逐渐忘记了如何阅读。我认识的每个人都卡在某一本书上，很难开始下一本。 推特降低了我的阅读能力，却大大提高了我的写作能力。\n在解决问题时，问题越古老，解决方案存在的时间越长。\n如果想学开车或者驾驶飞机，你就应该阅读一些现代指南，因为这个问题是在现代社会产生的，而且现代社会可以提供很好的解决方案。 而如果是一个古老的问题，比如如何保持身体健康，如何保持冷静和平和，什么样的价值体系是最好的，如何经营好家庭，诸如此类的问题，古老的解决方案可能更好。任何流传的两千年的图书都是经过了许多代人的甄别和筛选，其中的一般性原则更有可能是正确的。 一颗平静的心，一个健康的身体，一个充满爱的家，这些东西是金钱买不到的，必须通过努力才能获得。\n别太把自己当回事，你只是一只会做计划的猴子。\n理性很强的人可以通过训练自己的无感反应获得平和，即学会漠视自己无法控制的事物。\n可以有条不紊、循序渐进地提高自己的幸福基线，就像提高身体素质一样。\n以往种种未能实现的欲念会带来现在的缺憾感，而我们又将弥补现实缺憾的希望寄托于未来。消除缺憾感会让人更容易活在当下。\n你有没有想过，现在的生活可能就是上帝承诺给你的天堂，而你却好不珍惜，肆意挥霍？\n幸福就是内心的平和\n我感觉大多数人都有如影随形的轻微焦虑感。有时你四处奔忙，感觉状态一般。这时，如果停下来感知一下自我，你就会发现大脑在一刻不停的念叨。又或许，你就是没有办法安静地坐下来。即使身体坐下来了，你的大脑也会一直想着“下一步”应该做什么。 事情总是一件压着一件，处理完这件，下一件会接踵而至，永远有做不完的事，所以焦虑感才会普遍存在。 如果你找个地方坐下来，尝试着什么都不做，这个时候，焦虑感是最明显的。我说的什么都不做，是不要读书，不要听音乐，不要做任何事情，只是坐着。只是这一件事，你就做不到，因为焦虑感会让你如坐针毡，会不停地催促你站起来去做事。所以，很重要的一点就是，你要意识到，是焦虑感让你感到不快乐。而这种焦虑感源于一连串不断涌现的想法。 我应对焦虑的方法就是不与之对抗，让自己意识到这种焦虑感源于脑海中此起彼伏的想法。然后，我会问自己：“我是想一直执着于这些想法，还是想重获内心的平静？”如果大脑中一直存在各种各样的想法，我就无法获得平静，所以，答案是显而易见的。 你也注意到了，我说的“幸福”，指的就是拥有平和的内心。很多人说的幸福指的是开心快乐，但于我而言，幸福就是内心的平和。 幸福的人并不是时时刻刻都快乐的人。幸福的人是可以轻松地以特定的方式诠释事件、保持内心平和的人。 我觉得人类最常犯的一个错误就是，认为自己会因外部环境变化而获得幸福。我不这样认为。我知道我的想法并非原创，也不新颖，这并不是我的总结，而是佛学的终极智慧。\n从根本层面上看，从自身以外的事物中寻求幸福，本身就是缘木求鱼。\n幸福就是满足现状，而成功源于对现状不满 ，是对现状的改造。两者只能选一个。\n生存和繁衍的本能驱使人们劳作，而享乐适应让我们步履不停。幸福的秘诀在于，知道何时停下劳作的脚步，开始随心去玩耍。\n对现在的我来说，真正的赢家是哪些已经完全退出游戏的人，甚至根本不玩游戏的人，是那些已经超越了游戏的人。这些人的内心无比强大，有极强的自控力和清醒的自我意识，他们不需要从任何人那里获得任何东西。这样的人我也认识几个，比如耶日·格雷戈雷克，他就不需要任何人为他提供任何东西。他内心平静，身体健康，无论赚的钱跟别人相比是多还是少，他的心理状态都不会受到影响。\n布莱士·帕斯卡说过：“人之所以有烦恼，是因为他不能独自安静地在一个房间坐着。”如果你能坐上30分钟，同时保持幸福的心境，你就是成功的。这是一种超然物外的境界，不过极少有人能做到。\n我认为，幸福的自然属性是平和。如果你身心宁静平和，那么你终将得到幸福。但是，平和的心境是很难获得的。颇具讽刺意味的是，我们大多数人都试图通过斗争找到平和。某种程度上创业就像打仗，当你和室友争论该谁洗碗的时候，你们也是在打仗。他们都是试图通过现阶段的挣扎，换取日后的些许安全与平和。\n在现实生活中内心的平和状态不是一劳永逸的，也不会是一成不变的。心理状态总在不断变化，在大多数情况下，接受并顺应现实，是获得幸福的核心技能。\n平和是静态的幸福，幸福是动态的平和。\n人类和蜜蜂和蚂蚁一样是社会性动物，我们遵从一定的社会规则，受到社会反馈的驱动。结果就是，我们已经不知道如何玩和赢得这些单人游戏了，我们完全投身于多人游戏的竞争。\n而现实是，生活就是一场单人游戏，人独自出生，独自死亡，独自解读人世间的一切。你的记忆只属于你一个人，你出生前无人在意，你离开人世后，也无人在意。你存在于人世间，只是短短几十年，人生就是一场单人游戏。\n工作时，和比自己更成功的人在一起；玩耍时，和比自己更快乐的人在一起。\n从本质上讲，生活的过程就是用精心培养的好习惯替换那些在不经意间养成的坏习惯，努力成为一个更幸福的人。你的幸福指数最终取决于你的习惯和你花最多时间与之相处的人。\n处理冲突的首要原则是，不要和经常参与冲突的人在一起。\n如何改变习惯\n选择一件事情，许下一个愿望，并使其具象化。 规划一条可持续的路径。 确定需求、诱因和替代品。 把自己的规划告诉朋友。 一丝不苟地稳步前行。 自律是通向新的自我形象的桥梁。 全面接受新的自我形象，这就是现在的你。 这就是改变习惯的步骤：\n首先，知道自己要做什么； 其次，把规划告诉朋友，让一致性偏见发挥作用。 最后，严格自律，知行合一，进行自我重塑，直至蜕变成全新的自己。 要做出原创性贡献，必须非理性地痴迷。\n我生活中的第一要务是我的身体健康。对我来讲，健康的重要性高于幸福，高于家庭，高于工作。我的身体健康是一切的起点，排在第一位，紧随其后的是我的心理健康和精神健康，接着是家人的健康和幸福。在确保了这些之后，我就可以按照自己的意志在这个世界上自由活动了。\n健康问题是对人生影响最大的问题。\n锻炼越卖力，一天越轻松。\n你认为哪种运动习惯对你的生活有了最积极的影响？晨练。晨练完全改变了我的人生。晨练让我感觉更健康更年轻。为了晨练，我得早早起床，这样我就不能太晚回家了。想要养成晨练的好习惯，其实很简单。……我所做的就是，认定我生命中的第一要务是自己的身体健康，这件事的优先级高于我的幸福，高于我的家庭，高于我的工作。一切始于身体健康。我把身体健康放在第一位，所以我永远不会以“没时间”为理由不去健身。\n养成习惯的方法和过程并不重要，甚至连做什么都不重要，重要的是每天坚持。……对个人而言，最好的锻炼就是每天都能坚持去做的那种锻炼。\n生活中的所有事情都一样，如果愿意做出短期的牺牲，你就会得到长期的好处。…他总是说：“选择简单模式，人生会越来越困难；选择困难模式，人生会越来越简单。”\n冥想是屏蔽社会的噪声，倾听自己的声音。只有以冥想本身为目的，冥想才会起作用。\n徒步旅行是行走冥想，写日记是书写冥想，冲澡是意外冥想，静坐是直接冥想。 最了不起的能力就是改变自我的能力。\n想要拥有内心的平静，必须先拥有身体的平静。\n迅速采取行动，并对结果保持耐心。\n一旦决定去做，就要迅速采取行动，并全神贯注、全力以赴。同时，要对结果保持耐心，因为你唯一能把握的只有自己，他人和外界环境都纷繁复杂、充满变数。 一旦采取行动就要速战速决，但等待结果要从容沉着。 如果你要给子女传授一两条人生原则，这些原则会是什么？\n第一条原则是阅读，广泛的阅读，阅读面要广，不要局限于社会认可的书，更不要局限于我推荐的书…开卷有益，尽管读吧，假以时日，你会找到那些你应该读和喜欢读的东西。 第二条原则是，掌握与阅读技巧相关的数学和说服技能，这两种技能有助于你在现实世界里活得游刃有余、畅行无阻。 拥有说服技能很重要，因为如果能够影响自己的同胞，你就可以做成很多事情，我认为，说服力是一项实实在在的技能，而且是可以学会的，并没有那么难。 数学有助于解决生活中所有复杂的难题。如果想赚钱，如果想研究科学，如果想了解博弈论、政治，经济、投资或计算机，你就需要学好数学，因为所有这些都是以数学为核心，数学是自然界最基本的语言。 勇气不是在枪林弹雨中冲锋陷阵，而是不在乎别人怎么想。\n珍惜自己的时间，你唯一真正拥有的就是时间，时间比金钱更重要，比朋友更重要，比什么都重要。你的时间就是你的一切，不要浪费自己的时间。\n珍惜时间并不意味着不能放松下来享受生活，只要是做自己想做的事情，你就不是在浪费时间，但是如果没有把时间花在想做的事情上，既没有赚到钱，也没有学到东西，你就要问问自己到底在瞎忙什么。\n生活中的所有回报，无论是财富、人际关系、爱情、健康、活动，还是习惯，都来自复利。我只想选择值得一辈子深交的伙伴和能获得长期回报的事情。\n生儿育女会改变一个人。有了子女的那一刻，生命的意义、生命的目的等类似问题突然就有了答案，这种感觉非常神奇。突然间，宇宙中最重要的东西从你的身上转移到孩子身上，你会因此而改变，你的价值观从本质上，变得不那么自私了。\n问题越古老，答案存世的时间越长。\n人之初，性本善，而后被污染腐化。智慧就是通过追求知识，去伪存真，抛弃罪恶，回归美德。\n智慧是一种知道个人行为的长期后果的思维能力。\n如果仅仅通过语言就可以传授智慧，我们今天就不需要努力了。\n生命公式\n幸福 = 健康 + 财富 + 良好的人际关系 健康 = 锻炼 + 饮食 + 睡眠 锻炼 = 高强度耐力训练 + 体育运动 + 休息 收入 = 责任 + 杠杆 + 专长 责任 = 个人品牌 + 个人平台 + 承担风险？ 杠杆 = 资本 + 人力 + 知识产权 专长 = 无法通过培训获得的知识 投资回报 = 买入并持有 + 估值 + 安全边际 纳瓦尔的个人原则\n阅读（学习）是终极元技能，可以换来其他任何东西。 生活中所有回报都来自复利。 用头脑赚钱，而不是用时间赚钱。 具体地表扬，泛泛地批评。 真理是有预测能力的理论。 生命的伟大很大程度源于苦难。 2 ruanyifeng的摘抄 https://www.ruanyifeng.com/blog/2023/09/weekly-issue-271.html 今天我想分享，他去年的一个访谈，与美国最红的播客主持人 Joe Rogan 对谈。\n他说了一段话，发人深思。\n\u0026ldquo;新人企业家的常见错误，就是认为结果是可预测的。如果我长期努力工作，就应该会得到某种成果。\u0026rdquo;\n\u0026ldquo;实际上，你的成果是不可预测的。你工作多么努力并不重要，重要的是你在做什么、与谁一起工作、以及在哪里工作。 \u0026quot;\n他的意思是，很多人有一个思维误区：他们认为\u0026quot;努力\u0026quot;与\u0026quot;成果\u0026quot;是正比例关系，工作越努力，越可能获得好成果。\n实际上根本不是这样，努力与成果之间，没有必然关系。\n\u0026ldquo;你每天都会看到，那些赚最多钱的人，工作时间根本不长。而淘金者和商铺老板，努力工作一天，赚不到什么钱。 \u0026quot;\n原因在于，现实世界是非线性的、非因果的，而人的思维是线性的、因果关系的，会不知不觉从单一的线性因素，去解读非线性关系。\n举例来说，银行存款是线性的，存款越多，利息越多；股票是非线性的，投资多，可能回报多，也可能亏得多。我们不应该把存款的逻辑，用在股票市场这样的非线性系统。\n你不断加大努力的程度，长时间工作、长期加班、没有个人生活，会带来成功吗？很可能不会，因为两者之间没有因果关系。\n纳瓦尔的建议是：\n\u0026ldquo;重要的不在于你的努力程度，而在于仔细选择工作、人员和项目。\u0026rdquo;\n\u0026ldquo;真正有效的工作方式，不是铁人三项或马拉松，比拼谁坚持的时间长，而是短跑，当机会来临的时候冲刺，平时注意健康和休息。\u0026rdquo;\n\u0026ldquo;你要像狮子一样，看到猎物一跃而起，而不要牛一样，从早到晚劳作。\u0026rdquo;\n","title":"纳瓦尔宝典"},{"link":"/posts/zhangfakui/","text":"收黑钱 我禁止营长们收受黑钱，理由很简单：。。。。。。我要集中一切资源，麾下营长们才会听命于我。\n叶挺的婚事 我告诉你，叶挺是怎样当上卅四团团长的。这里包含着一段姻缘的秘密。叶挺与我是好朋友，我俩是校友兼同事。当我俩都当营长时，他在广州认识一个美丽的女孩，在她姐姐出阁前，父母不让妹妹嫁给叶挺。姐姐是个麻脸。叶挺追求她经年，一直不成功。在失望中，他剃光了头发。\n我升任师长时，叶挺在第四军军部担任参谋，他要求我帮助他当上团长以成全他的婚事。他说，即使婚后立即免职也可以。你看，那时候他女友的姐姐已经出嫁了，但其父母又开出新的条款，叶挺必须当上团长，所以我推荐他当卅四团团长。\n四大禁令 禁止逃亡、禁赌、禁嫖、禁（鸦片）烟\n。。。四大禁令，它维护了军纪，也保障了战斗力。我们的口号是“遵纪人人平等，杀敌绝对自由”，我善待官兵们，与他们同甘共苦。那就是为什么上帝独厚于我，以及我从未受伤的原因。\n敌人能攻占任何他们想要的目标 我的观点是基于一个简单的理由，我感觉敌人能攻任何他们想要的目标。倘若他们没有占领某地，那是因为他们不想要。在这个抗战期间问一贯的思路都是这样。一切都是时间问题。\n抗战我参加的最重要的战役 我参加了三个重要的战役；淞沪会战、武汉会战、桂柳会战。可以说在战略上这三次会战都是成功的，我们以空间换取了时间，但在战术上，我们失败了。讲句真话，我从未取得一次胜利，可是我延宕了敌人的前进，还多次重创敌军。\n在整个抗战中，我们一直采取守势。在战争快结束时，我首次负责发动生大规模的攻势，可惜攻势刚开始，战争就结束了。\n大多数海内外同胞认为，我们以劣质装备与粗浅训练出钱，英勇地与武器精良训练一流的敌军鏖战了八年，最终取得了胜利。然而从一个军人观点，我认为谈不上英雄史诗，我们所做的一切，只不过是以空间换取时间。\n怎样评价蒋先生抗战 我钦佩他的抗战决心，而非战略。例如，死守这种战略上一种严重的错误。\n海南 我把台湾与海南视为龙的双眼。\n自我评价 我不敢说广州全体市民对我都印象很好，我仅能说，我虽无显赫功劳，却未曾玩忽职守，绝无作奸犯科。\n李宗仁代总统期间 如果李宗仁愿意出头，我当然愿意帮助他，为什么，因为他作风民主，许多人都有这一看法。\n薛岳、白崇禧与我，组成一个核心，我们讨论所有的大事。\n评价李宗仁 你看，论到成败，李宗仁在坚定、耐力方面远远不如蒋先生，他缺乏不拔之志。然而，无可否认，在为人处世作风民主方面，他是首屈一指的政治人物，而且虚怀若谷。\n黄绍竑 程思远 【也做了很龌龊的事情，被张发奎鄙视。】\n个人感受 张发奎个人不喜欢共产党，但是对共产党员个人确单独看待。他手下的共产党真的很多，可以说比比皆是。 张发奎反蒋两次，嫡系的第四军很早就不在自己手里掌握，可以说没有固定地盘，但是在抗日期间仍被委任战区司令长官，长期作为两广的最高负责人，说明张确实有他的威望和能力。 张发奎的口述，讲了很多其他人的回忆录不会讲的事情。 ","title":"张发奎口述历史"},{"link":"/posts/huangxuchu/","text":"北伐完成后的第一幕悲剧 ","title":"黄旭初回忆录【未完待续】"},{"link":"/posts/phoneix_project/","text":" IT不只是一个部门，相反，他就像电力一样无处不在。 IT是一种技能，就像能读会算一样。在xxx公司，我们没有一个集中的阅读或计算部门，我们希望每一个雇员都多少掌握这些技能，理解技术能做什么、不能做什么，已经成为这家公司里每一个部门必须具备的一种核心竞争力。\n现在我希望看到你成长、学习，并掌握新的技能，对公司提供最好的帮助。\n三步工作法：流动、反馈、持续学习与实验 第一步，实现开发到运维的工作快速地从左向右流动。\n第二步，在从右向左的每个阶段中，应用持续、快速的工作反馈机制。\n第三步，建立具有创意和高可信度的企业文化，支持动态的、严格的、科学的实验。通过主动的承担风险，不但能从成功中学习，也能从失败中学习。通过持续的缩短和放大反馈环，不仅能创造更安全的工作系统，也能承担更多的风险，并进行实验帮助自己比竞争对手改进的更快，从而在市场竞争中战胜他们。作为第三步的一部分，我们能够让工作系统事半功倍，将局部优化转化为全局优化。另外不管是谁参与了工作，所有经验都可以持续的累积，组织里的人都可以相互借鉴彼此的经验和智慧。\n","title":"凤凰项目-一个IT运维的传奇故事"},{"link":"/posts/use-rclone-to-replace-sshfs-on-mac/","text":"将远程服务器上的文件夹很便捷地通过ssh来挂载到本地，用起来非常方便。但是sshfs已经停止更新，在mac上用brew无法安装。\n其实可以用rclone来完成同样的功能。\ninstall rclone\nmac版需要从其官网下载和安装。\nrclone config\nPLAINTEXT 折叠 复制 \u0026gt; rclone config Current remotes: e) Edit existing remote n) New remote d) Delete remote r) Rename remote c) Copy remote s) Set configuration password q) Quit config e/n/d/r/c/s/q\u0026gt; 点击展开查看更多 选择n或e，按照提示操作即可\nmount\nrclone mount host:/path/to/src/dir/ /path/to/local/dir/\n这种方法mount之后，命令行并不返回，需要在其他窗口读写远程文件，使用完毕后关闭rclone窗口即可。\n还有一种方法是mount的时候使用--daemon参数\nrclone mount --daemon host:/path/to/src/dir/ /path/to/local/dir/\n使用完毕后需手动umount：\numount /path/to/local/dir/\n","title":"Use rclone to replace sshfs on Mac"},{"link":"/posts/shenzui/","text":"笔记几则 沈醉1914年生，18岁投奔余乐醒(也是一个重要的特务)开始当特务，28岁成为军统局总务处少将处长，1947年成为云南站站长，1949年被迫参加龙云的云南起义，才35岁。后接受改造至1960年释放（也就是说，在做了18年特务，成为军统的风云人物，入狱改造10年，1960年被释放的时候，才46岁），之后作为政协文史资料委员会文史委员，文革期间曾入狱。1980年身份由战犯改为起义将领。 沈醉曾打电话恐吓宋庆龄，并计划开车撞车宋庆龄以警告，后未实行。\n沈醉曾受命计划刺杀李宗仁，后未实行。李宗仁回国后曾找沈醉当面了解此事。\n余乐醒也是一个资深特务，汪精卫初逃至越南时，余赴越南主持刺杀行动。确实汪精卫运气好，躲过多次暗杀，最后一次暗杀也是运气好睡在了隔壁房间。进屋刺杀的特务后来被越南当局囚禁至抗日战争胜利，余在附近指挥故及时逃脱。汪精卫之后也担惊受怕，日本人把汪运走的过程中也担心军统再次袭击，但是可惜军统后来没有再次刺杀。\n军统当时权力太大，民航的机票、全国水陆交通检查站都是军统的，而且有一个有2000辆汽车的运输队。\n渣滓洞这个地方原来是一个煤矿，是沈醉选中作为监狱的，煤矿老板被逼死。\n王耀武杀了方志敏，宋希濂杀了瞿秋白。\n杜聿明等战犯，被俘后，除了文革期间，没有被刑讯，没有被洗脑，通过自己学习、参观、轻微劳动进行改造。党在这方面，称得上有耐心，有气量。\n杜聿明出狱后，其在台湾的妻子即经美国辗转回大陆。还有一个例子是末代皇帝溥仪的兄弟溥杰在特赦之后，其在日本的妻子也回到大陆与其团聚。但是还有将领在被俘之后妻子跟副官卷款跑路的。\n政协文史专员一行人跟溥仪一起去游故宫，需要买票，溥仪说，“到这里来，我还得买门票！？”\n溥仪，这位被中国共产党改造过来的中国末代皇帝，在文革中死去。\n徐远举，白公馆和渣滓洞的刽子手，也曾一心悔改，文革中死去。\n张国焘回忆录中欠缺的一段经历，在军统担任特种政治问题研究室少将主任，丢脸。\n郑萍如，可能是色戒里汤唯那个角色的原型，只是军统的一个“运用人员”，不是正式人员，后来被沈醉要求补上作为军统在抗战时在沦陷区殉职的烈士，“据认识她的特务告诉我，说她完全是出于爱国和好奇，才去干这一冒生命危险的工作的。”\n七七事变之后，军统要在日战区设立潜伏组，沈醉任组长，确实潜伏进去了，虽然没有做长。\n唐生明受蒋介石之命投靠汪精卫，此后在汪伪政权里竟然成为日本人、重庆和南京方面三方优待的对象，甚至可以直接找日本人释放被捕的重庆方面的人，闻所未闻。也反映了蒋介石一直跟日本有联络，投降或者合作，曾经是一种可能。\n汪伪政权的几个大特务，最后都没有好下场。\n抗日战争胜利后，唐生明回到重庆，被排挤，由到湖南，然后在解放前夕参加了湖南起义。自云，在汪伪政权任职时，在家里藏了重庆方面的电台，在湖南的时候家里藏了共产党的电台。这个人的故事，后面值得细说。\n最大的感触: 即使穷凶极恶杀人如麻的特务，开始也是抱着一片报国之心，也有很多为国捐躯的，后来变成作威作福、鱼肉百姓，可能是因为人所处位置和拥有的特权所致。就跟文革里面的小将一样，或者现代的城管，有了特权便忘了出身。\n国民党的将领，最早走上革命道路，其实很多也是为了报效祖国，不是天生的反动派，很多中下层的军人的行为是被大的洪流所裹挟。\n","title":"沈醉回忆录读书笔记"},{"link":"/posts/mosh-did-not-find-mosh-server-startup-message/","text":"Mac使用mosh登录新的服务器，发现如下错误：\nbash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8) The locale requested by LC_ALL=en_US.UTF-8 isn\u0026rsquo;t available here. Running `locale-gen en_US.UTF-8\u0026rsquo; may be necessary.\nThe locale requested by LC_ALL=en_US.UTF-8 isn\u0026rsquo;t available here. Running `locale-gen en_US.UTF-8\u0026rsquo; may be necessary.\nmosh-server needs a UTF-8 native locale to run.\nUnfortunately, the local environment (LC_ALL=en_US.UTF-8) specifies the character set \u0026ldquo;US-ASCII\u0026rdquo;,\nThe client-supplied environment (LC_ALL=en_US.UTF-8) specifies the character set \u0026ldquo;US-ASCII\u0026rdquo;.\nlocale: Cannot set LC_CTYPE to default locale: No such file or directory locale: Cannot set LC_MESSAGES to default locale: No such file or directory locale: Cannot set LC_ALL to default locale: No such file or directory LANG=en_US.UTF-8 LANGUAGE= LC_CTYPE=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_NUMERIC=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_TIME=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_COLLATE=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_MONETARY=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_MESSAGES=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_PAPER=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_NAME=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_ADDRESS=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_TELEPHONE=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_MEASUREMENT=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_IDENTIFICATION=\u0026ldquo;en_US.UTF-8\u0026rdquo; LC_ALL=en_US.UTF-8 Connection to thin closed. /usr/local/bin/mosh: Did not find mosh server startup message. (Have you installed mosh on your server?)\n搜索了一下，找到答案 :\nThis happens when your SSH session sends a locale that Mosh does not support. The fix is fairly easy, just configure your SSH not to send the LANG variable. To do that, open your /etc/ssh/ssh_config and comment out the following line:\nPLAINTEXT 折叠 复制 # SendEnv LANG LC_* 点击展开查看更多 但是这个不是最好的方法，治本的方法是解决远程服务器的locale不全的问题：\n\u0026gt; sudo apt install locales\n\u0026gt; sudo locale-gen en_US.UTF-8\n即使保留/etc/ssh/ssh_config中的SendEnv LANG LC_*，也可以正常登录。\n","title":"mosh: Did not find mosh server startup message"},{"link":"/posts/sihangcangku/","text":"偶然走到四行仓库附近，办事之前趁有时间，就去看了看。\n巧英吾妻爱鉴：\n日内即将率部进入沪淞参战，特修寸笺以慰远念。我神州半壁河山，日遭蚕食，亡国灭种之祸，发之他人，操之在我，一不留心，子孙无噍类矣。为国杀敌，是革命军人素志也；而军人不宜有家室，我今既有之，且复门衰祚薄，亲者丁稀，我心非铁石，能无眷然乎！但职责所在，为国当不能顾家也。老亲之慰奉，儿女之教养，家务一切之措施，劳卿担负全责，庶免旅人之分心也。\n晋元\n在冠乔《谢晋元的两封家书》 (冠乔 《中国青年作家报》（ 2019年11月26日 01 版）)中，有一段关于谢晋元妻子的介绍：\n情真意切与妻书\n1936年春节过后，迫于中日战争形势压力，谢晋元把妻子凌维诚以及三个儿女从上海护送回广东蕉岭老家，临别时对怀孕的妻子说：“等抗战胜利那一天，我亲自把你们接回上海。”\n妻子凌维诚祖籍镇江，生于上海，毕业于上海东南体育专科学校，和谢晋元认识于同学的一场婚礼，当时两人分别是伴郎伴娘角色，经介绍后很快熟悉、交往、通信。1929年9月，两人在汉口结为伉俪。1930年生下大女儿谢雪芬不久，凌维诚回沪与丈夫团聚，直到二女儿谢兰芬、三子谢幼民降生，一家人一直住在上海龙华寺对面的三间寓所。\n谢晋元送妻子儿女回老家蕉岭后，好长一段时间心情无法平静。凌维诚自幼在上海长大，生活一直比较优渥。当时大家都劝妻子：“维诚啊，无论从哪方面看，你都不用跑到广东蕉岭那个穷乡僻壤去。”大姐凌维君得知妹妹回广东原籍时，更是气得当即晕倒。\n凌维诚最初也是想不通，只是经谢晋元反复劝说，才勉强同意带领孩子回去的。除战事紧张等原因，凌维诚更多的还是深爱丈夫，明白丈夫是至孝之人，高堂白发，年老体衰，有自己回去代尽孝道，也能使丈夫安心杀敌报国。\n从城市来到山乡农村，对从未耕过田的凌维诚来说谈何容易。按照当地习惯，男人喝茶聊天，女人下田种地、洗衣煮饭。凌维诚刚到蕉岭的时候，劳作后腰酸腿麻，心悸头晕，吃饭无味，难以安眠。夜深人静之时，看着几个熟睡的幼小孩子，伤心的泪水止不住流下来，但又怕年迈的公婆看到，只好自己强忍苦痛。\n丈夫又何尝不是对妻子儿女无时无刻地牵挂呢？抗战形势日渐紧张，白天军务繁忙，但一到夜深人静，独自遥想家乡亲人，思绪便飞向远方，坐卧不安，辗转难眠，不由得披衣坐起，铺展信笺，提笔向爱妻倾诉衷肠：\n“巧英吾妻爱鉴：日内即将率部进入沪淞参战，特修寸笺以慰远念。我神州半壁河山，日遭蚕食，亡国灭种之祸，发之他人，操之在我，一不留心，子孙无噍类矣。为国杀敌，是革命军人素志也；而军人不宜有家室，我今既有之，且复门衰祚薄，亲者丁稀，我心非铁石，能无眷然乎！但职责所在，为国当不能顾家也。老亲之慰奉，儿女之教养，家务一切之措施，劳卿担负全责，庶免旅人之分心也……”\n信中有嘱托，有表白；有坚定，也有无奈；有拳拳爱国心，有殷殷赤子情，更多的还是发自肺腑的爱、难分难舍的情。\n。。。。。。\n谢晋元遇刺消息传出后，举国震惊。4月25日，上海30万民众自发前往孤军营吊唁，毛泽东高度赞扬谢晋元八百壮士为“民族革命典型”。5月8日，民国政府明令褒扬，追赠谢晋元为陆军少将。\n1945年8月抗战结束，妻子凌维诚终于可以携子女返回上海，而此时迎接他们的，已是丈夫谢晋元忠魂一冢。\n四行孤军后来被困于租界，谢有一封家书给双亲：\n双亲大人尊鉴：\n上海情势日益险恶，租界地位能否保持长久，现成疑问。敌人劫夺男之企图，据最近消息，势在必得。敌曾向租界当局要求引渡未果，但野心仍未死，且有“不惜任何代价，必将谢团长劫到虹口（敌军根据地），只要谢团长答应合作，任何位置均可给予”云云。似此劫夺，为欲迫男屈节，视此为敌作牛马耳。\n大丈夫光明而生，亦必光明磊落而死。男对死生之义，求仁得仁，泰山鸿毛之旨熟虑之矣。今日纵死，而男之英灵必流芳千古。故此日险恶之环境，男从未顾及。如敌劫持之日，即男成仁之时。人生必有一死，此时此境而死，实人生之快事也。\n唯今日对家庭不能无一言：万一不讳，大人切勿悲伤，且应闻此讯以自慰。大人年高，家庭原非富有，可将产业变卖以养余年。男之子女渐长，必使其入学，平时应严格教养，使成良好习惯。幼民姊弟均富天资，除教育费得请政府补助外，大人以下应宜刻苦自励，不轻受人分毫。男尸如觅获，应归葬抗战阵亡将士公墓。\n此函俟男殉国后即可发表，亦即男预立之遗嘱也。\n男 晋元谨上\n民国28年九一八于上海孤军营\n其中一封是谢晋元自题词：\n余一枪一弹，绝与倭寇周旋到底。\n谢晋元\n一个市民回忆亲眼见到战士挂满手榴弹跳下去杀敌殉国:\n1937年，我14岁，中学生。我家住在新闸路口，隔苏州河就是四行仓库。我登高楼，用望远镜观望，亲眼目睹，一位战士，全身挂满手榴弹，从空飞下，炸死日军；我也看到仓库顶层，孤军战士为了保护国旗，壮烈牺牲。这些惨烈的战斗场景，我终生难忘，应永载抗战史册。\n九十二岁 沈寂 2015年7月1日\n","title":"四行仓库"},{"link":"/posts/civicdb/","text":"Nucleic Acids Research上有civicdb最新的介绍。\nKrysiak, K. et al. CIViCdb 2022: evolution of an open-access cancer variant interpretation knowledgebase. Nucleic Acids Research 51, D1230–D1241 (2023).\n","title":"Civic数据库介绍"},{"link":"/posts/methylation_and_cancer/","text":"1. 甲基化肿瘤检测产品综述 1.1 截至2018年的国外商业化甲基化肿瘤检测 Koch, A. et al. Analysis of DNA methylation in cancer: location revisited. Nat Rev Clin Oncol 15, 459–466 (2018).\nThe Cancer Genome Atlas (TCGA) data for all biomarkers with commercially available assays were analysed for differential methylation between tumour and nonmalignant samples and to determine whether or not methylation status at the location of the area covered by the assay is correlated with expression. We also investigated whether or not the biomarkers are located in the promoter region of their corresponding genes and whether or not they are located in a CpG island. Data on the clinical performance of these biomarkers, as reported in the literature, are listed in Supplementary Table 2. CRC, colorectal cancer; NA, not available. ^a^Two different SEPT9 biomarkers are available, which both target the same genomic region but at slightly different locations. In some publications, the SEPT9 biomarker is variably referred to as the ColoVantage test by Quest Diagnostics, as a test provided by ARUP Laboratories, or as the Epi proColon test provided by Epigenomics. Both biomarkers have been patented by Epigenomics^83,85^, which has licensed one of them to Quest Diagnostics and ARUP Laboratories. ^b^A positive, instead of a negative, correlation exists between DNA methylation and gene expression of SHOX2, OTX1, and ONECUT2. ^c^MGMT is a predictive marker, rendering the comparison between tumour and nonmalignant samples less relevant. Furthermore, no nonmalignant samples of brain tissue are available in TCGA for comparisons with glioblastoma specimens.\n1.2 国内甲基化产品： 产品列表 编号 注册证编号 注册人名称 产品名称 1 国械注准20223401301 安徽达健医学科技有限公司 人Twist1基因甲基化检测试剂盒（荧光PCR法） 2 国械注准20223401371 北京艾克伦医疗科技有限公司 Septin9/SDC2/BCAT1基因甲基化检测试剂盒（PCR-荧光探针法） 3 国械注准20223400203 北京艾克伦医疗科技有限公司 SHOX2/RASSF1A/PTGER4基因甲基化检测试剂盒（PCR-荧光探针法） 4 国械注准20233400253 北京起源聚禾生物科技有限公司 人PAX1和JAM3基因甲基化检测试剂盒(PCR-荧光探针法) 5 国械注准20203400447 博尔诚（北京）科技有限公司 RNF180/Septin9基因甲基化检测试剂盒（PCR荧光探针法） 6 国械注准20153401481 博尔诚（北京）科技有限公司 Septin9基因甲基化检测试剂盒（PCR荧光探针法） 7 国械注准20183400506 广州康立明生物科技股份有限公司 人类SDC2基因甲基化检测试剂盒（荧光PCR法） 8 国械注准20203400845 杭州诺辉健康科技有限公司 KRAS基因突变及BMP3/NDRG4基因甲基化和便隐血联合检测试剂盒（PCR荧光探针法-胶体金法) 9 浙械注准20202210848 杭州诺辉健康科技有限公司 KRAS基因突变及BMP3/NDRG4基因甲基化和便隐血联合检测分析软件 10 湘械注准20222211952 湖南奕谱生物科技有限公司 PCDHGB7基因甲基化检测分析软件 11 国械注准20193400101 基因科技（上海）股份有限公司 人类MGMT基因甲基化检测试剂盒(荧光PCR法) 12 国械注准20183400103 江苏为真生物医药技术股份有限公司 人septin9基因甲基化检测试剂盒（荧光PCR法） 13 国械注准20213400007 厦门艾德生物医药科技股份有限公司 人类SDC2基因甲基化检测试剂盒（荧光PCR法） 14 国械注准20223401036 上海捷诺生物科技有限公司 人ASTN1、DLX1、ITGA4、RXFP3、SOX17、ZNF671基因甲基化检测试剂盒（荧光PCR法） 15 国械注准20223400637 上海锐翌生物科技有限公司 人类SFRP2和SDC2基因甲基化联合检测试剂盒（荧光PCR法） 16 湘械注准20212211844 上海锐翌生物科技有限公司湖南分公司 人类SFRP2和SDC2基因甲基化联合检测试剂盒（荧光PCR法）阳性判断值分析软件 17 国械注准20173403354 上海透景生命科技股份有限公司 人SHOX2、RASSF1A基因甲基化DNA检测试剂盒(PCR荧光法) 18 国械注准20193400316 上海透景生命科技股份有限公司 人Septin9基因甲基化DNA检测试剂盒（PCR荧光法） 19 国械注准20233400151 深圳市优圣康生物科技有限公司 Septin9基因甲基化检测试剂盒（PCR荧光探针法） 20 国械注准20223400373 武汉艾米森生命科技有限公司 SDC2和TFPI2基因甲基化联合检测试剂盒（荧光PCR法） 可以看到，有几个产品是跑到湖南和浙江注册了对应的分析软件的。\n评审报告公开的 Septin9/SDC2/BCAT1基因甲基化检测试剂盒（PCR-荧光探针法）（CSZ2000117） 结直肠癌辅助诊断(减少肠镜使用) 北京艾克伦，2022.10.18 人Twist1基因甲基化检测试剂盒（荧光PCR法）（CSZ2000297） 初诊膀胱癌的辅助诊断(减少膀胱镜使用) 安徽达健，2022.09.28 人ASTN1、DLX1、ITGA4、RXFP3、SOX17、ZNF671基因甲基化检测试剂盒（荧光PCR法）（CSZ1900359） HPV初筛 上海捷诺，2022.08.03 人类SFRP2和SDC2基因甲基化联合检测试剂盒(荧光PCR法)（CSZ2100018） 结直肠癌辅助诊断(减少肠镜使用) 上海锐翌，2022.05.10 SDC2和TFPI2基因甲基化联合检测试剂盒（荧光PCR法）（CSZ2100044） 结直肠癌辅助诊断(减少肠镜使用) 武汉艾米森 ， 2022.03.11 SHOX2/RASSF1A/PTGER4基因甲基化检测试剂盒（PCR-荧光探针法）（CSZ1900370） 疑似肺癌患者的辅助诊断 北京艾克伦 ， 2022.01.29 KRAS基因突变及BMP3/NDRG4基因甲基化和便隐血联合检测试剂盒（PCR荧光探针法-胶体金法）（CSZ2000050） 结直肠癌高风险人群结直肠癌辅助诊断(减少肠镜使用) 杭州诺辉 ，2020.11.02 RNF180/Septin9基因甲基化检测试剂盒（PCR荧光探针法）（CSZ1900136） 胃癌辅助诊断(减少胃镜使用) 博尔诚，2020.04.24 人类SDC2基因甲基化检测试剂盒（荧光PCR法）（CSZ1800035） 结直肠癌辅助诊断(减少肠镜使用) 广州康立明 ，2018.11.13 其它信息 国家药监局器审中心关于发布人类SDC2基因甲基化检测试剂临床试验资料技术审评要点等4项技术审评要点的通告（2022年第10号） 2022.03.14\n结直肠癌筛查产品国内外现状及临床评价要求 2021.03.05\n中国器审-循环肿瘤DNA的检测应用介绍 创新医疗器械特别审查: 系统性红斑狼疮（SLE）基因甲基化检测试剂盒（MS-HRM分析法） 2020.01.22 深圳赛尔生物\n医疗器械优先审批:人类ONECUT2/VIM基因甲基化检测试剂盒（荧光PCR法） 2022.08.04 广州基准\n创新医疗器械特别审批:KRAS基因突变及BMP3/NDRG4基因甲基化和便隐血联合检测试剂盒（PCR荧光探针法-胶体金法） 2018.04.27 杭州诺辉\n创新医疗器械特别审批:胃癌甲基化基因检测试剂盒（PCR荧光探针法） 2017.04.12 博尔诚（北京）\n创新医疗器械特别审批: 人类SDC2基因甲基化检测试剂盒（荧光PCR法） 2017.03.07 广州康立明\n创新医疗器械特别审批: 大肠癌甲基化基因检测试剂盒（PCR荧光探针法） 2014.09.26 博尔诚（北京）\n2. MDxHealth的尿路上皮癌检测产品 通过qPCR方法，检测尿液里面，FGFR3、TERT、HRAS的突变，以及OTX1、ONECUT2、TWIST1的甲基化，用逻辑回归的方法进行分析。灵敏度93%，特异性86%。\n原始文献 https://www.auajournals.org/doi/10.1016/j.juro.2016.09.118 van, K. K. E. M. et al. Validation of a DNA Methylation-Mutation Urine Assay to Select Patients with Hematuria for Cystoscopy. Journal of Urology 197, 590–595 (2017).\nDNA was extracted and analyzed for mutations in FGFR3, TERT and HRAS, and methylation of OTX1, ONECUT2 and TWIST1. Logistic regression was used to analyze the association between predictor variables and bladder cancer.\nCombining the methylation and mutation markers with age led to an AUC of 0.96 (95% CI 0.92–0.99) with 93% sensitivity and 86% specificity, and an optimism corrected AUC of 0.95.\nMDxHealth网站介绍 https://mdxhealth.com/press_release/mdxhealth-launches-assuremdx-for-bladder-cancer-liquid-biopsy-test/ AssureMDx is a non-invasive, urine-based test, combining methylation and mutation biomarkers, to assess the risk of bladder cancer for patients diagnosed with hematuria. AssureMDx has been validated to improve upon the standard of care, helping rule out the risk of bladder cancer with a negative predictive value (NPV) of 99%^2^. The high NPV led study investigators to report that the test could potentially spare as many as 77% of hematuria patients from undergoing a cystoscopy^2^. Furthermore, the test’s 93% sensitivity and 85% specificity can help doctors identify patients at increased risk for bladder cancer, who may benefit from cystoscopy.^2^\n[2]: van, K. K. E. M. et al. Validation of a DNA Methylation-Mutation Urine Assay to Select Patients with Hematuria for Cystoscopy. Journal of Urology 197, 590–595 (2017).\n但是，在该公司网站上，产品介绍里面没有AssureDx了，只有针对前列腺癌和尿路感染的产品：\n3. 达健的Twist1甲基化产品 临床性能 针对尿路上皮癌，用qPCR检测尿液中Twist1基因甲基化状态，临床灵敏度88.2%，特异性86.8%，总符合率87.2%。\n看起来临床性能指标比MDxHealth的AssureDx稍差，但是单基因能达到这样效果，个人觉得已经很不错了。只不过这样的特异性，使用的时候只能做早诊或者辅助诊断（阳性率稍高），做早筛或者健康人群（阳性率很低）的时候，特异性低会导致大部分的健康患者产生的假阳性的数目非常高，相对于检测所得的真阳性和假阴性数目会变得很大，最终会造成阳性预测值非常低。\n另外，据说，该产品用于粪便也可检测结直肠癌。\nNMPA审评报告 人Twist1基因甲基化检测试剂盒（荧光PCR法）（CSZ2000297） 4. Twist1这个基因 4.1 泛肿瘤 Zhu, Q.-Q., Ma, C., Wang, Q., Song, Y. \u0026amp; Lv, T. The role of TWIST1 in epithelial-mesenchymal transition and cancers. Tumor Biol. 37, 185–197 (2016).\nIt is well recognized that TWIST1 is overexpressed in a variety of tumors. Overexpression of TWIST1 induces epithelial-mesenchymal transition (EMT), a key process in the metastases formation of cancer. TWIST1 also promotes the formation of cancer stem cells and facilitates the process of tumorigenesis.\nTwist1在多种肿瘤中高表达，其高表达与上皮-间质转化有关（所以有没有可能其他消化道相关的肿瘤也跟这个基因有关？可以查一下公开的数据），该基因也可促进肿瘤干细胞的生成并促进肿瘤形成(tumorigenesis)。\nTWIST1的高表达，在包括乳腺癌、前列腺癌、肝癌、胃癌等多种肿瘤都有发现。\n4.2 膀胱癌 El Azzouzi, M. et al. Evaluation of DNA methylation in promoter regions of hTERT, TWIST1, VIM and NID2 genes in Moroccan bladder cancer patients. Cancer Genetics 260–261, 41–45 (2022).\nHypermethylation of hTERT, TWIST1, VIM and NID2 was detected in 83.34%; 66.67%; 83.34% and 58.34% of recurrent cases, respectively, and in 80%; 80%; 80% and 60% of progressive cases, respectively. Statistical analysis highlighted a significant association between TWIST1 hypermethylation and tumour recurrence (p = 0.041\u0026lt;0.05).\nOur results indicate that hypermethylation of hTERT, TWIST1, VIM and NID2 genes is a frequent epigenetic event in bladder cancer and could be a promising therapeutic target to prevent bladder cancer progression and metastasis.\n4.3 结直肠癌 10.1016/j.urolonc.2015.04.014 方法 CORD assay\n提取粪便DNA，用微滴式数字PCR同时检测hTERT和甲基化的TWIST1的拷贝数。\nFecal samples were thawed from 220°C, and approximately 200 mg of each sample was used for DNA extraction using the QIAamp DNA Stool Mini kit (QIAGEN, Tokyo, Japan), as described previously (7). Eluted DNA (10 mL) was digested for 16 hours at 37°C by the addition of 10 units of HhaI, 10 units of HpaII, and 20 units of exonuclease I (Exo I) (all from Thermo Fisher Scientific, Tokyo, Japan). Additional digestion of DNA was performed for 16 hours at 60°C using 10 units of BstUI (New England Biolabs, Hitchin, United Kingdom). After the restriction was complete, the mixture was heated for 10 minutes at 98°C. We performed multiplex droplet digital polymerase chain reaction to simultaneously count the absolute copy numbers of human telomerase reverse transcriptase (hTERT) and the methylated target gene (TWIST1), as described previously (7). Laboratory testing was performed without the knowledge of the results of either the comparator FIT or clinical findings.\nFecal DNA testing of TWIST1 methylation\n甲基化TWIST的拷贝数在20个及以上，且甲基化的比例在19%以上，作为分别结直肠癌与否的阈值。\nThe distributions of copy numbers of TWIST1 methylation and the methylation ratio of TWIST1 are shown in Figure 2a, c, respectively. We set 20 copies of methylated TWIST1 and a TWIST1 methylation ratio of 19% as the cutoff points to discriminate between the no neoplasia group and the colorectal cancer group. Each cutoff value was determined so that the specificity would be approximately 95% (Figure 2b, d), which is compatible with the specificity of FIT in screening setting populations (4,14). The TWIST1 methylation ratio was calculated according to the ratio of methylated TWIST1 copy numbers to hTERT copy numbers. The criterion for a positive result with the fecal DNA testing of TWIST1 is either the copy number of methylated TWIST1 is above the cutoff point (\u0026gt;=20 copies) or the TWIST1 methylation ratio is above the cutoff point (\u0026gt;=19%), or both are above the cutoff points.\nPositive results of the fecal DNA testing of TWIST1 were found in 8.5% (6/71) of the individuals in the no neoplasia group (specificity of 91.5%; 95% CI, 82.5%–96.8%), in 27.5% (11/40; 95% CI, 14.6%–43.8%) of the nonadvanced adenoma group, in 47.2% (60/127; 95% CI, 38.4%–56.4%) of the advanced adenoma group, and in 44.4% (91/205; 95% CI, 37.4%–51.5%) of the co- lorectal cancer group (Table 2 and Figure 3a).\n性能 把粪便隐血检测和粪便TWIST1甲基化检测结合起来，对结直肠癌有80.3%的特异性和95.6%的敏感度。\n结论 What is known\nThe main approach to colorectal cancer screening is the FIT for which the sensitivity for the detection of advanced colorectal adenoma is low, ranging from 23.8% to 27.1%. For morphological subtypes of advanced adenoma, its sensitivity is 30.1% for polypoid type but only 18.5% for nonpolypoid type. Colonoscopy is the gold standard for the detection of colonic polyps. However, the miss rate of colonoscopy is 20.9%–24% for adenomas of any size, and the overall miss rate for adenomas of the flat type is higher than that for the protruding type (44.3% vs 15.1%). Fecal DNA testing in combination with FIT has recently been introduced for colorectal neoplasia detection. However, its sensitivity for advanced adenoma remains at a low level of only 42.4%. We reported that TWIST1 methylation is specific to colorectal neoplasia and developed a new methylation assay without bisulfite treatment and methylated DNA immunoprecipitation, the CORD assay. What is new here\nFecal DNA testing of TWIST1 methylation by the CORD assay in combination with the FIT increased sensitivity to 68.5% for the detection of advanced adenoma. For morphological subtypes of advanced adenoma, the sensitivity of the combination test for polypoid type was 2.3 times higher than that of FIT alone (64.8% vs 28.2%), and that for nonpolypoid type was 4.4 times higher than that of FIT alone (71.0% vs 16.1%). Translational impact\nPerforming fecal DNA testing of TWIST1 methylation by the CORD assay in combination with the FIT before colonoscopy might predict the presence of colorectal neoplasia, which might lead to more intensive examination during colonoscopy. 4.4 乳腺癌 Gort, E. H. et al. Methylation of the TWIST1 Promoter, TWIST1 mRNA Levels, and Immunohistochemical Expression of TWIST1 in Breast Cancer. Cancer Epidemiology, Biomarkers \u0026amp; Prevention 17, 3325–3330 (2008).\n4.5 胃癌 Sakamoto, A. et al. DNA Methylation in the Exon 1 Region and Complex Regulation of Twist1 Expression in Gastric Cancer Cells. PLOS ONE 10, e0145630 (2015).\n5. 关于膀胱癌的另外一个检测产品-基于FISH的膀胱癌复发检测 FDA网站：510(k) Summary: Safety and Effectiveness Information for the UroVysionTM Bladder Cancer Recurrence Kit December 19, 2003 Vysis®UroVysion MT Bladder Cancer Recurrence Kit\n使用FISH检测尿液中染色体的染色体特定区域(chr3、chr7、chr17上的特定区域，9p21的缺失)的CNV，判断复发风险。\nDescription of the Device The UroVysion Kit is based upon fluorescence in situ hybridization (FISH) DNA probe technology. The UroVysion probes are fluorescently labeled nucleic acid probes for use in in situ hybridization assays on urine specimens fixed on slides. The UroVysion Kit consists of a 4-color, four-probe mixture of DNA probe sequences homologous to specific regions on chromosomes 3, 7, 9, and 17. The UroVysion probe mixture consists of Chromosome Enumeration Probe (CEP®) 3 SpectrumRed^TM^, CEP 7 SpectrumGreen^TM^ , CEP 17 SpectrumAqua^TM^, and Locus Specific Identifier (LSI®) 9p21 SpectrumGold^TM^.\nIntended Use The UroVysion Bladder Cancer Recurrence Kit (UroVysion Kit) is designed to detect aneuploidy for chromosomes 3, 7, 17, and loss of the 9p21 locus via fluorescence in situ hybridization (FISH) in urine specimens from subjects with transitional cell carcinoma of the bladder. Results from the UroVysion Kit are intended for use as a noninvasive method for monitoring for tumor recurrence in conjunction with cystoscopy in patients previously diagnosed with bladder cancer.\n看来，对于膀胱癌来讲，只看特定区域(chr3、chr7、chr17上的特定区域，9p21的缺失)的CNV，就可以做复发监测的。这又让人联想起苏州宏元的检测。\n6. 苏州宏元的尿路上皮癌检测 这个检测，其实就是类似NIPT-plus的技术，用PCR-free方法建库，然后做全基因组低拷贝数测序，进行全基因组范围内CNV的分析。本质上是一个泛肿瘤的检测，因为很多肿瘤都会有染色体层面的拷贝数变化，而且具体哪些染色体哪些位置会有CNV变化，还有肿瘤特异性。他们针对尿路上皮癌去做IVD，估计是考虑了在该临床应用场景下更有优势。\n苏州宏元尿路上皮癌染色体异常检测试剂盒进入特别审查程序 7. 针对尿液cfDNA突变的尿路上皮癌检测 偶然看到这家公司的产品，检测尿液60个基因，预测尿路上皮癌，看起来效果比单用一个基因的甲基化效果稍好一点。\n通过公开数据，选择区分度大的区域和突变，最终检测60个基因，245.103k区域，突变类型包括SNV、indel、LoH（loss of heterozygosity）、CNV。\n采用配对的肿瘤和尿液来检验UroAmplitude的性能。\n可用作长期监测。\n新闻-最高可提前12年发现尿路上皮癌 公司网站的报导 Researchers studied UroAmp in two ways.\nFirst, they conducted a case-control study with urine samples from 96 control subjects and 70 bladder cancer patients (22 de novo, 48 surveillance). This found UroAmp had an 86% sensitivity in predicting new tumors and 71% sensitivity overall (new and recurrent). Specificity, or the percentage of people who tested negative for bladder cancer and do not have the disease, was 94%.\nA second study used a nested case-control design within the prospective Golestan Cohort Study , which contains urine samples from over 50,000 patients taken up to 12 years ago. Researchers analyzed the urine from 29 patients who developed bladder cancer and compared it to 98 control subjects who never developed the disease. UroAmp correctly predicted future cancer in 66% of cases with a 94% specificity. When limited to patients who were diagnosed within five years from initial urine collection, UroAmp sensitivity jumped to 90%.\nAUA2023的presentation Urinary comprehensive genomic profiling predicts urothelial cancer up to 12 years ahead of clinical diagnosis. An expanded analysis of the Golestan Cohort Study\nINTRODUCTION:\nDetecting pre-clinical urothelial carcinoma (UC) using urinary comprehensive genomic profiling (uCGP) may provide a valuable opportunity for early detection and screening of high-risk populations. The UroAmp (Convergent Genomics) uCGP test uses DNA sequencing to identify mutations across 60 genes. We study a subset of these genes, considering 10 genes with the highest performance, testing the potential of a screening modified uCGP (muCGP) to detect preclinical UC.\nMETHODS:\nA UC screening model was developed using muCGP data from a training cohort consisting of 140 urology controls \u0026amp; 96 tumors (56 de novo, 40 recurrent). Model validation was performed in two studies: first a multi-institutional case-control design with 96 controls \u0026amp; 70 UC cases (22 de novo, 48 surveillance); a second using a nested case-control design within the prospective Golestan Cohort Study (50,045 participants). The nested cohort consisted of 29 asymptomatic individuals who subsequently developed primary UC (median time to UC 7.3 yrs) and 98 matched controls (median f/u 6.1 yrs).\nRESULTS:\nThe UC screening model was trained to a sensitivity of 88% (97% sensitivity for HG) and specificity of 94%. In the first validation, a sensitivity of 86% in de novo (87% for HG), 71% overall (de novo + recurrent tumors), and specificity 94% was observed. In the Golestan cohort, baseline muCGP had a prediction sensitivity of 66% (71% for HG) and specificity 94% was observed (Figure 1A). In contrast baseline TERT predicted 48% percent of cancers with a specificity of 100%. Cancer-free survival was significantly worse in muGCP-predicted positives vs. muGCP-predicted negatives (HR 8.5, 95% CI 3.8 – 18.4, p\u0026lt;0.0001). When limited to UC diagnosis within five years, UroAmp detected pre-clinical UC in 90% of future cancers (Fig. 1B), compared to a sensitivity of 57% using TERT mutations alone. CONCLUSIONS: Our results provide the first evidence from a population-based prospective cohort study of pre-clinical UC detection with muCGP. muCGP identifies 9 of 10 cancers that occur within the first 5 years while detecting 10 of 19 cancers that occur beyond 5 years. Further studies will determine the frequency of muCGP screening required to maximize cancer detection and refine clinical interventions to save lives.\nSOURCE OF FUNDING:\nConvergent Genomics with a grant from the National Cancer Institute Small Business Innovation Research Program, 5R44CA200174-05\n方法 Bicocca, V. T. et al. Urinary Comprehensive Genomic Profiling Correlates Urothelial Carcinoma Mutations with Clinical Risk and Efficacy of Intervention. Journal of Clinical Medicine 11, 5827 (2022).\n肿瘤和尿液DNA都用Covaris进行打断，KAPA建库，IDT接头，IDT杂交捕获，2x150，NextSeq 550测序。 All NGS sequencing was performed according to the UroAmplitude procedure, a Clinical Laboratory Improvement Amendments (CLIA) validated diagnostic test. Puri- fied tumor and urine DNA was fragmented by sonication (Covaris ME220, Covaris LLC, Woburn, MA, USA) before undergoing library preparation using the KAPA Hyper Prep Kit (Roche, Basel, Switzerland) protocol and is optimized for automation by a Microlab STARLET (Hamilton). xGen Dual Index adapters are synthesized by IDT and a custom xGen Lockdown Probe panel (Integrated DNA Technology, Coralville, IA, USA) is used for hybridization capture of DNA libraries. The hybridization capture workflow has been optimized for performance on a Nimbus microLAB (Hamilton). Target-enriched libraries are analyzed using a 2100 Bioanalyzer (Agilent, Santa Clara, CA, USA) and diluted for sequencing. Libraries are loaded into a NextSeq 500/550 High Output Reagent Cartridge (v2, 300 cycles) and sequenced on a NextSeq 550 (Illumina, San Diego, CA, USA).\nBWA；SNV 用Mutect2/VarDict；CNV用t-test；LoH用基于SNP的方法。 分析性能评估 分析性能评估，灵敏度97.4%，阳性预测值 80.4%。\nIn this study, we performed a blinded, prospective validation of technical sensitivity and positive predictive value (PPV) using reference standards, and found at 1% allele frequency, mutation detection performs at 97.4% sensitivity and 80.4% PPV.\n临床性能研究 ASCO的一篇会议摘要，无pdf Salari, K. et al. Comprehensive genomic profiling of urine DNA for urothelial carcinoma detection and risk prediction. DOI: 10.1200/JCO.2022.40.6_suppl.450 Journal of Clinical Oncology 40, no. 6_suppl (February 20, 2022) 450-450.\nMethod:\nuCGP was performed on urine specimens collected at 9 centers across the US from 577 subjects prior to cystoscopy. 152 subjects were UC tumor positive (de novo and recurrence), 191 had a history of UC but negative by surveillance cystoscopy at time of collection, and 234 were urology control subjects undergoing cystoscopy without evidence of UC. Urine DNA was sequenced and comprehensively profiled across 60 genes for 6 classes of mutations using the CLIA-validated UroAmplitude test. Disease detection and molecular grade (high grade vs. low grade) algorithms were trained (n=345) and validated (n=232) in independent cohorts.\nResults:\nIn validation, de novo tumor diagnosis demonstrated sensitivity of 93.8% and specificity of 89.4% and a NPV of 98.8% in urology controls. Recurrent tumors were detected with a PPV of 73.5%, sensitivity of 62.5% and specificity of 89.0% in patients with a history of UC. Molecular grading predicted high-grade with a PPV of 90.9% and a specificity of 96.7% compared to pathology.\n公司网站，列出了一些临床证据 问题：假如把甲基化也加进来，会不会效果更好？\n","title":"甲基化与膀胱癌检测"},{"link":"/posts/datamash_tips1/","text":" SHELL 折叠 复制 \u0026gt; (cat \u0026lt;\u0026lt;-EOF a 1 a 2 b 3 c 4 EOF ) | datamash groupby 1 collapse 2 a\t1,2 b\t3 c\t4 点击展开查看更多 collapse 操作可以将对应的列（本例中为第二列）进行合并，在本例子，根据第一例的值进行分组，将第二例的值合并。\n另外，为了在一个命令中完成，本例中使用了here document。\n","title":"datamash tips"},{"link":"/posts/cancer_early_diagnostics/","text":"全国临床分子诊断技术及其规范化应用高峰论坛，听了邵建永的讲座，有一些启发，总结一下：\n肿瘤早诊的思路 1）做早诊，而不是早筛\n2）开始用粪便做结直肠癌，用尿液做膀胱癌，取材是跟肿瘤有直接接触 ，而且比血更无创\n3）甲基化不但做膀胱癌早诊，还做膀胱癌的复发检测\n4）就一个基因Twist1，用qPCR，比较简单\n5）他们就围绕自然腔道来做早诊，其它肿瘤在进行中\n达健Twist1甲基化试剂盒的审评报告： 人Twist1基因甲基化检测试剂盒（荧光PCR法）（CSZ2000297） ","title":"肿瘤早诊的思路"},{"link":"/posts/geneseeq_mrd/","text":"个人总结 对个体化panel与固定panel的优劣，做了全面而深入的分析 采用固定化的大panel来做MRD，克服了定制panel的一些问题，想的很细致，做得很坚定，效果也不错 复发病人阳性率似乎还是没有定制panel高 在复发风险预测方面，片段组学看起来效果比ctDNA突变要好 MRD检测的本质：在于判断患者是否治愈 MRD检测主要有两大技术策略 Tumor-informed assay -\u0026gt; 个体化panel Tumor naive/agnostic assay -\u0026gt; 固定化panel 如何评估MRD检测技术路线的优劣势对比 技术指标 核心点 个体化panel 固定化panel 1. 单一突变检测灵敏度：固定化 = 个体化 降噪技术、超高测序深度、克隆性造血、采血量 超高测序深度结合UMI技术提高单点检测灵敏度，无克隆性造血影响 超高深度测序结合多重技术提高单点检测灵敏度，存在一定的克隆性造血干扰 2. 监测突变数量：个体化\u0026gt;固定化 监测的突变数量越多，灵敏度也会越高，多少数量足够？ 由方法学设定，常见的个体化panel监测MRD选择16个或更多的突变 固定panel：如世和泛实体瘤MRD panel，panel的设置至关重要 3. 检测突变质量：固定化 \u0026gt; 个体化 监测的突变是否与肿瘤相关？是否是主克隆突变？能否在最短的时间内筛选出需检测的基因？ 先进行WES，再针对性设计基因检测的个体化panel，短时间内无法进行很好的筛选 预先选择与癌种相关的基因或可特异选择尽量多的主克隆基因变异病设计为固定panel 4. 检测过程质控：固定化\u0026gt;个体化 NGS检测流程复杂，任何环节质控出现问题都会影响结果的可靠性、稳定性、准确(？)性 短周期内完成个体化探针的设计和临床检测，对追踪位点检测的质量控制带来了巨大挑战 固定化panel在临床推广前经过长周期严格的探针设计、流程优化和反复验证等工作，panel的性能相对稳定、可靠 5. 克服肿瘤时空异质性 肿瘤存在时空异质性，新发变异可能也与预后(?)相关 针对基线组织单次检测结果，无法克服时空异质性。 固定化panel检测范围更广，看一定程度上克服肿瘤时空异质性 单一突变灵敏度：取决于采血量和样本起始多样性 监测突变数量：个体化panel优于固定化panel 突变数量：突变数量增多，检测灵敏度提高，但有平台期。 理论LoD计算规则：\n假设每个位点的有效测序深度为10000x 按照3条去dup后突变reads判断为阳性 根据二项分布去计算单个位点突变的LoD 进一步根据单位点突变LoD计算多位点LoD 监测突变数量达到10个左右，灵敏度进入平台期。进一步增加突变数量，灵敏度提升效果微乎其微。\n(按：此处与Natera的研究不一致，Natera认为16个突变是必须的，突变数目超过16个之后，对性能提升有限)\n突变质量：少数重要突变也具有MRD监测效果 某研究只关注15个重要的驱动基因\n突变质量： Natera转战组织panel测序个性化MRD 检测质控：全流程质控与结果可信度密切相关 固定化panel，18-36周的研发周期，保证检测质量 探针合成：2周 探针用量及最适条件确认：4-8周 性能确认（精密度、LoD、准确性）：12-24周 （按：这里24周似乎太长） 临床应用：1周 个体化panel：研发检测周期短，无法保证检测质量 质控关键一：基因/位点覆盖的均一性 固定化panel探针均一度可控 每个区域多探针密集覆盖 每条探针单独合成及质控 探针库反复优化，不同区域探针比例反复优化 （按：似乎有点夸张，不同区域探针比例很难**反复**优化） 性能验证（精密度、LoD、准确性） 个性化panel引物均一度不可控 引物设计影响因素繁杂：引物长度、GC含量、自由能、特异性等等 个性化panel位点明确，引物设计空间有限，引物最终效能无法保证 不同因为扩增效率存在差异，引物间配比缺乏优化，缺乏性能验证评估 质控关键二：有效控制PCR随机错误的比例 固定化panel流程及QC 样本接收 核酸提取 文库构建（~8 cycles PCR） 文库富集（~4 cycles PCR） 上机测序（约30000x（？），有效深度6000-8000x） 个性化panel流程及QC 样本接收 核酸提取 文库构建（~11 cycles PCR） 巢式富集（双链各19 cycles PCR） 上机测序（~100000x，有效约6000-8000x（？）） 时空异质性克服：固定化panel优于个体化panel 个体化panel vs 癌种固定化panel 技术指标 个体化panel技术 癌种固定化panel技术 灵敏度 $\\Delta \\Delta \\Delta$ $\\Delta \\Delta \\Delta$ 特异性 $\\Delta \\Delta \\Delta$ $\\Delta \\Delta$ 稳定性/质量控制 $\\Delta$ $\\Delta \\Delta \\Delta$ 检测周期 $\\Delta$ $\\Delta \\Delta \\Delta$ 空间异质性 $\\times$ $\\surd$ 时间异质性 $\\times$ $\\surd$ 用药指导/科研意义 $\\times$ $\\surd$ 不同技术如何选择？临床验证是检测技术验证的金标准 世和MRD策略：癌种定制化 + ATG-Seq高灵敏技术 定制化\nctDNA定制化热点突变追踪panel\n针对不同癌种中国人群数据定制热点追踪 超高灵敏度： ATG-Seq超高灵敏度检测技术（ATG-Seq三重降噪技术，结合30000x测序深度）\nATG-Seq技术(Automated Triple Groom Sequencing) 降低背景噪音\nBISC技术噪音抛光 BBAM标签去除PCR随机错误 DDAM标签还原双链，去除单链损伤错误 30000x超高深度\n检测性能提升：多重机制降低克隆性造血突变等干扰 去除克隆性造血影响的方法：\nWBC对照 基线组织数据 世和基因自建中国人群CH突变库 多次检测，综合评估 患者年龄辅助判断 世和MRD panel：基于大样本中国人群数据库富集高频位点 超万例WES数据库建设 世和临床WES数据 世和科研WES数据 公告数据库 主克隆突变筛选 生信利用FACETS分析WES测序突变结果 获得CCF（Cancer Cell Fraction），根据CCF\u0026gt;0.8选择主克隆突变 主克隆突变频率从搞到地排序，选择最高频突变位点纳入 世和MRD panel：全面覆盖基因组2365基因(\u0026gt;1M) 真实临床样本验证 中位17突变/患者 95%人群覆盖\u0026gt;=5个突变 77%患者覆盖\u0026gt;=10个突变 灵敏度验证：95%的样本LoD可达0.02% 临床验证：世和MRD多项大型临床研究获国际权威杂志认可 世和MRD肠癌临床验证：多中心肠癌术后动态检测项目 研究设计 时间点\n术前，外周血 术后3-7天 术后6个月 术后9、12、15、18、21、24个月 术后、辅助治疗后或动态检测ctDNA阳性患者复发风险高 83%复发的患者ctDNA阳性，平均提前影像学153天提升复发 （按：复发的患者，只有83%的患者ctDNA阳性，还有17%的假阴性，够好吗？）\n世和MRD肺癌临床验证新成果：揭示更优术后复发监测方案 主克隆性突变对于复发风险可能更有预测价值 MRD检测媒介：多种特征可以用于MRD监测 ctDNA突变检测 甲基化检测 CNV检测 cfDNA片段大小检测：片段组学可为MRD提供更为丰富的xx特征 Motif检测 MERCURY多组学技术用于肺癌术后复发风险预测 相比传统突变方法，片段组学预测复发风险具有更高的敏感性\n片段组学可有效预测术后复发风险 使用术后7天和术后6个月的cfDNA片段大小比值(Fragment Size Ratio, FSR)\n片段组学模型预测复发风险性能优于ctDNA突变 MRD前瞻性干预研究的设计思路 深度布局肿瘤全周期，让精准与可及的肿瘤检测造福全球 ","title":"邵阳对世和MRD的介绍 - MRD的技术创新与应用案例分享"},{"link":"/posts/ont_basics/","text":"转载自 baimoc - 博客园 一、测序原理 先介绍 Nanopore 测序中的几位主角：\nReader ：在自然界中，有一种可以嵌入到细胞膜中作为离子或分子通道的跨膜蛋白，具有天然的蛋白纳米孔。经过人为基因工程修饰后，得到的就是 Nanopore 测序所需的 Reader 蛋白。\nMembrane：Reader 蛋白会被嵌入到高电阻率的 Membrane （人工合成的多聚物膜），膜两侧是离子溶液，在两侧加不同的电位，离子就会在孔中流动，形成电流。\nMotor：在 Nanopore 文库构建时，需要在接头上连接一种动力蛋白，用于将DNA或RNA分子推入纳米孔中。以DNA解螺旋酶作为 Motor（动力蛋白）为例，它可以除了可以解开双螺旋，使之变为单链，还可以提供推动力。\nTether：该蛋白用于锚定DNA或RNA链，防止在溶液中飘动，并使其进入纳米孔中。 这时，解开的其中一条链会穿过蛋白质孔，它在通过蛋白孔时，会对膜两边离子的稳定流动产生扰动。不同的碱基，对离子流的影响不同，也就会产生不同的电流大小，进而形成下面的电流信号图。\n利用这些电流信号，使用计算机软件识别后，推断出碱基类型，完成测序。\n二、测序仪介绍 虽然 Nanopore 测序仪种类很多，但都是基于Nanopore芯片来搭建的平台，大到由多个芯片阵列组成的PromehION，GridION系列测序仪，小到可以连接手机的Type C，电脑USB的MnION系列便携式测序仪。\n这里边，最著名的就是MnION系列，2016年8月，美国宇航员凯特·鲁宾斯在国际空间站完成微重力条件的DNA测序。\n它在测序时，一般像下图这样连接就行，显而易见的便携性。比如，可以直接用它在深入疫区采集样本后进行实时分析，为防疫工作争取大量宝贵的时间和资源。\n测序时，将制备好的文库或样本溶液，滴在芯片小孔中，开始测序。\n一张芯片中有 2048 个 membrane wells，也就是芯片上的一个孔，每个孔包含一个nanopore Reader。\n每四个 wells 共享一个 Amplifier（信号放大器），一张芯片中有 512 个信号放大器，也就是 512 组 wells。\n在启动测序仪后，机器自检，会将每组 wells 中依据效率高低排序。测序开始，仪器先用每组 wells 中效率最高的 wells，运行 8 小时后，更换效率第二的，以此类推。\n但是，在实际使用过程中，只有 1200 个 wells可以正常工作。\n造成 wells 失效的原因：\nwells 中没有 Reader 蛋白，或纳米孔不通，这时无电信号 膜破损，这时有强电信号，不能正常测序 在单个 well 中有两个及以上的 Reader 蛋白，电信号互相干扰 三、建库方法 1、1D 文库 1D文库是将DNA双链，解链为正义链与反义链，分别测序，大约有 85% 的碱基判读准确率。\n目前1D文库有两种建库方案：\n标准建库 将 DNA 打断\n补齐DNA末端，末端加 A 碱基\n连接 Adapter（ 接头序列），接头上连有 Motor 蛋白\n接头中有一段序列可以与 Tether 蛋白结合，作用是为了将 DNA 链吸附在膜上，将 DNA 锚定，不易被溶液洗走\n下图是 Tether 与接头序列识别及锚定过程\n转座酶建库 建库时使用连有测序接头的转座酶，该酶可以将长链 DNA 链切断\n由于该酶的特性，会在DNA的断点两端加接头序列\n随后在测序接头加入 Motor 蛋白\n2、$1D^2$ 文库 在 DNA 两侧接 $1D^2$ 接头，其他步骤和 1D 文库类似。\n这种文库中的$1D^2$ 接头，可以让第二链紧跟第一链来一起测序。\n由于可以测到两条链，可以相互矫正，进而提高判读准确率，能达到 90%以上的碱基判读准确率。\n但是，由于文库质量，蛋白活性等因素，导致并不是所有的第一链后都会测到第二链。\n四、碱基判读 在测序过程中，得到的信号并不是每次测得一个碱基信号。而是根据 Reader 蛋白孔的纵向长度，R9 大约为 5 个碱基长，也就是说，同时会测得 5 个碱基的电信号，这并不是一项简单的判断过程。\n目前，Nanopore 公司采用一种机器学习方法，递归神经网络（RNN），对碱基进行判读。\n该过程简单来说，是将已知碱基序列的电信号波形图做训练集和测试集，通过修正参数，拿到模型。最后，将新测到的未知序列的波形图与之比对，从而提高判读准确率。\n但是，还是有误读情况：\n由于空间结构相似性，嘌呤间误读，嘧啶间误读更容易发生。 碱基复杂度低的序列（如，polyA序列），更容易误读 五、测序影响因素 电压 以R9芯片为例，测序过程，先用 180 mV 电压，每 10 min，短时间翻转电压方向，作用是激活被堵住或卡住的 Reader 蛋白孔。但是，这个过程也会使正常测序的 DAN链倒吐回去。\n随着电极使用时间的增加，电极的电压会发生漂移，因此每过两小时，要增加 5mV 电压抵消影响。\n速度与产量 R9 芯片，测序速度是 250 碱基/s，一张芯片可以得到约 5 ~ 10 G的碱基序列。\n六、芯片版本号 Nanopore 公司每一种新芯片就会有新 Reader蛋白，Motor，Membrane 版本号，一般命名规则如下：\nReader：R8，R9，R10，等\nMotor：E6，E7，E8，等\nMembrane：M9，M10，等\n比如，R9 指的是大肠杆菌的 CsgG 蛋白质改造的 Reader 蛋白。\n总结 Nanopore 测序是基于电学的检测，区别与 Illumina 和 PacBio 的光学 测序仪器便携，可用于远离实验室的地区，如疫区，农场等 读长较长，大约 300,000 ~ 400,000 个碱基，可用于从头组装基因组，可变剪切等 可以对DNA ，RNA，甚至蛋白质序列进行测序 碱基判读准确率较高，R10纳米孔数据质量值超过Q40（错误率0.01%），一致性（Identity）质量值达Q50。 参考：\nhttps://www.youtube.com/watch?v=RcP85JHLmnI https://www.youtube.com/watch?v=E9-Rm5AoZGw\u0026amp;t=13s https://www.youtube.com/watch?v=sv9fFeSd3kE https://nanoporetech.com/ ","title":"图解三代测序（Nanopore） (转载作为备份)"},{"link":"/posts/ont_notes/","text":"准确度 Kit V14 + R10.4.1\nsimplex: 99.6%, Q24 duplex: 99.92%, Q31 duplex 一个双链文库分子，两端都有motor protein（马达蛋白）。一端的马达蛋白牵引双链文库靠近纳米孔，并解开双链让其中一条单链进入纳米孔，在其完全进入纳米孔之后，文库另外一端的马达蛋白有可能会牵引文库另外一头直接以单链的形式（无需解链）进入纳米孔（此时也有可能是其他的片段进入纳米孔测序）。这样测得的序列是一条原始分子的正负链都被测到了，所以叫duplex，可以提高测序精度。\nduplex不是通过新的试剂，只是protocol，让互补链紧跟着正义链过同一个孔而已，有一些reads是duplex，也有很多是simplex。 据说最新的试剂，可以将duplex reads的比例提高到70%。\nduplex的精度与长度相互独立\n测indel要60x才比较准。\nmisc 低覆盖度，1x也可以测CNV 泛基因组 泛基因组用ONT组装，只看SV或NSR的话，20x覆盖度够用。但是要看单碱基分辨率的SNV/indel，学校研究人员认为需要用NGS数据做polish.\n学校研究人员提到长的sv假阳性非常高，他们把5M 以上inv和2M 以上indel都过滤掉了，我也是有点无语，做临床检测的话，这些才是更容易致病的。。。。\nONT公司认为泛基因组的组装，SV所需数据量较小，SNV用40x够了，homopolymer处的indel，可以用60x的duplex测序来解决。但是他们一般推荐40x，因为一个芯片标准的测序量是120G，刚好是40x的覆盖度。\n植物多倍体 组装多倍体比较难，ONT单独无法完成，一般是结合PacBio HiFi，Hi-C和OGM也常用。 适应性采样 NGS短板：读长短，修饰信息丢失 大量宿主DNA给mNGS带来挑战，唾液中加入PMA，可显著减少人源DNA 三代测序因序列较长，更容易将耐药基因归属至菌种。 NGS的扩增可能产生偏向性（bias），三代测序无扩增，可避免此类偏向性。 适应性采样，提供人类基因组的bed文件，碰到可以匹配到ren基因组的序列，就弹出。 适应性采样，可提高病原序列比例，且显著提高病原体达到30x覆盖度的速度（4h vs 常规12h）。 文件格式 Fast5 ONT现在的默认格式，未来会被POD替代。\n采样频率4k Hz == 4000次/秒，碱基的过孔速度 ~400bp/s，相当于每个碱基过孔的时间内有10次的采样。\n数据量与文件大小\n数据量 Fast5文件大小 Pod5文件大小 1G bp 6G Byte 0.5G Byte 10G bp 60 GB 5 GB 30G bp 180 GB 15 GB 90G bp 540 GB 45 GB Pod5格式 替代Fast5，后续会作为默认文件格式 MinKnow机器集成 bascalling 将Fast5/Pod5文件转换为Fastq/uBam格式的过程\nbasecalling可在测序仪上实时运行，也可事后在服务器上运行\n采用神经网络模型\nGuppy vs Dorado\n方面 Guppy Dorado 深度学习 TensorFlow PyTorch 速度 CPU, GPU CPU, GUP (速度更快) 支持硬件 Nvidia Nvidia， Apple Silicon GPU 碱基修饰的支持 5mC 5mC、5hmC Guppy summary file，包含序列ID、读长、mean Qscore等信息\nminKnow 可在测序时做alignment 输出bam文件，包含甲基化信息 但耗资源，仅适合小基因组 bascalling with guppy guppy_basecaller\nSHELL 折叠 复制 guppy_basecaller -i fast5_folder ... -x cuda:all # -x cuda:all ：使用所有的GPU 点击展开查看更多 guppy_barcoder\nSHELL 折叠 复制 guppy_barcoder -i ... -s --barcode_kits ... --trim_barcodes -q 0 -t 8 # -q 0: 输出的每个文件包含多少reads，`0`输出所有reads到同一个文件。 # -t 8: 进程数目 点击展开查看更多 guppy_aligner\nSHELL 折叠 复制 guppy_aligner -i ... -s ... -t 8 -a ref.fa 点击展开查看更多 remora modified base calling on top of normal base calling\ndorado SHELL 折叠 复制 dorado --help dorado subcommand 点击展开查看更多 read spliting read spliting的必要性\n两条序列可能间隔很短时间先后过同一个纳米孔，系统可能会认为这两条序列是一条序列 在真正序列未通过纳米孔之前，纳米孔也有可能产生电流，会被误认为是正常序列，并和随后正常序列被认为是同一条序列上的。 所以要根据adapter的序列进行read spliting，但有可能adapter的信号不准。\n","title":"ONT相关的一些笔记"},{"link":"/posts/google_news_error/","text":"hugo 前段时间会报错 \u0026quot;_internal/google_news.html\u0026quot;:\ngoogle_news internal template should be deprecated 这次就完全不能运行，warning变成error了。\n解决办法是：\n打开 themes/even/layouts/partials/head.html\n删掉 {{- template \u0026quot;_internal/google_news.html\u0026quot; . -}} 这一行\n","title":"Hugo 关于 google_news的错误"},{"link":"/posts/homebrew_mirror/","text":"Homebrew也在不停进化，现在使用清华镜像 已经很方便了\n日常使用 可设置如下环境变量使用本站提供的 Homebrew 镜像：\nSHELL 折叠 复制 export HOMEBREW_INSTALL_FROM_API=1 export HOMEBREW_API_DOMAIN=\u0026#34;https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api\u0026#34; export HOMEBREW_BOTTLE_DOMAIN=\u0026#34;https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles\u0026#34; export HOMEBREW_BREW_GIT_REMOTE=\u0026#34;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git\u0026#34; export HOMEBREW_CORE_GIT_REMOTE=\u0026#34;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git\u0026#34; 点击展开查看更多 首次安装 Homebrew / Linuxbrew 首先，需要确保系统中安装了 bash、git 和 curl，对于 macOS 用户需额外要求安装 Command Line Tools (CLT) for Xcode。\n对于 macOS 用户，系统自带 bash、git 和 curl，在命令行输入 xcode-select \u0026ndash;install 安装 CLT for Xcode 即可。 对于 Linux 用户，系统自带 bash，仅需额外安装 git 和 curl。\n接着，在终端输入以下几行命令设置环境变量：\nSHELL 折叠 复制 export HOMEBREW_INSTALL_FROM_API=1 export HOMEBREW_API_DOMAIN=\u0026#34;https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api\u0026#34; export HOMEBREW_BOTTLE_DOMAIN=\u0026#34;https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles\u0026#34; export HOMEBREW_BREW_GIT_REMOTE=\u0026#34;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git\u0026#34; export HOMEBREW_CORE_GIT_REMOTE=\u0026#34;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git\u0026#34; 点击展开查看更多 注：自 brew 4.0 起，HOMEBREW_INSTALL_FROM_API 会成为默认行为，无需设置；大部分用户无需再克隆 homebrew/core 仓库，故无需设置 HOMEBREW_CORE_GIT_REMOTE 环境变量。但若需要运行 brew 的开发命令或者 brew 安装在非官方支持的默认 prefix 位置，则仍需设置 HOMEBREW_CORE_GIT_REMOTE 环境变量；如果不想通过 API 安装，可以设置 HOMEBREW_NO_INSTALL_FROM_API=1。\n从本镜像下载安装脚本并安装 Homebrew / Linuxbrew git clone \u0026ndash;depth=1 https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/install.git brew-install /bin/bash brew-install/install.sh rm -rf brew-install\n","title":"homebrew 使用镜像的方式"},{"link":"/posts/crack_typora/","text":"基于electron的app有一个问题，没有很好的隐藏源码的机制，所以typora收费之后，破解版层出不穷。\n网上搜了一下，针对Mac：\n官方网站下载typora并安装 打开typora，确定能正常运行，完全退出 修改文件 SHELL 折叠 复制 $ cd /Applications/Typora.app/Contents/Resources/TypeMark/page-dist/static/js $ mv LicenseIndex.180dd4c7.c7ff4102.chunk.js LicenseIndex.180dd4c7.c7ff4102.chunk.js.bak $ vim LicenseIndex.180dd4c7.c7ff4102.chunk.js # replace `e.hasActivated=\u0026#34;true\u0026#34;==e.hasActivated` with `e.hasActivated=\u0026#34;true\u0026#34;==\u0026#34;true\u0026#34;` 点击展开查看更多 再打开typora，有可能会有错误信息说文件被修改，但是我打开又关闭几次，不知道怎么弄的，就不再出现此错误信息了。虽然编辑页面右下角显示“unregistered”，但是点击后会显示已经激活。 typora确实好用。假如以后这次破解不能用了，我就买正版了。 ","title":"破解typora"},{"link":"/posts/no_one_cares/","text":"在阮一峰的blog 看到两则文摘，挺有意思，可以对照着看。\n从少年到成年的过渡是痛苦的 No One Cares The transition from childhood to adult life is hard. Our parents give us attention all our adolescent years. But as soon as we cross an age limit and step into the outside world, a brick of reality hits our heads. It's written on the brick in big-bold letters, \u0026quot;NO ONE CARES.\u0026quot; No one cares who you are, what you know, and what you have created. People are busy in their own lives. They are lost in their own world. You've released the world's dopest music album? No one cares. You've spent two years writing a novel? No one cares. You've made a fantastic app that solves a big problem? No one... That's exactly where marketing comes in. Marketing is the humble act of accepting that people out there are not your mother or father. They won't give you attention. It is your duty to market your product. It is your duty to make people care. 直接用有道翻译了一下（还过得去）：\n从童年到成年的过渡是艰难的。 在我们整个青少年时期，父母都给予我们关注。但一旦我们越过年龄限制，踏入外面的世界，现实的一块砖就会击中我们的脑袋。 砖头上用粗体字写着:“没人在乎。” 没有人在乎你是谁，你知道什么，你创造了什么。人们忙于自己的生活。他们迷失在自己的世界里。 你发行了世界上最棒的音乐专辑?没人在乎。 你花了两年时间写一本小说?没人在乎。 你做了一个很棒的应用来解决一个大问题?没有人…… 这正是市场营销的用武之地。 营销是一种谦卑的行为，它承认外面的人不是你的父母。他们不会注意你。推销你的产品是你的责任。让人们关心是你的责任。 我们放大了别人的想法，我们在想象中比在现实中，遭受更多的痛苦 我不善于当众演讲，在人多的场合发言，我会紧张。但是后来，我发现听众真的不在乎，如果你讲得很糟糕，他们可能会发笑片刻，但很快就会忘记。 事实是我们放大了别人的想法。有人说的很对：我们在想象中比在现实中，遭受更多的痛苦。 ","title":"文摘两则，可以对照着看"},{"link":"/posts/download_m3u8/","text":"尝试了一下下载网络的视频，以illumina的一个视频为例：\nhttps://www.illumina.vh.sauos.com/watch/205 得到m3u8文件 在firefox中，安装「Video DownloadHelper]及配套的app，然后在firefox中打开该链接，点击「Video DownloadHelper]，可以看到两个视频，长的那个就是目标视频，选择“copy URL”，得到如下链接：\nhttps://tehlsvodhls02.vhallyun.com/vhallyun/vhallrecord/lss_27f054bb/20220724124221_a018e830/record.m3u8?token=2A75182F_MjE3MTIwOTg2XzYzRUI1N0Q2X1lUQXhPR1U0TXpBX2FtOXBibDgzTWpBeE9UUXdORElfdm9k 下载该文件：\nSHELL 折叠 复制 aria2c -c \u0026#39;https://tehlsvodhls02.vhallyun.com/vhallyun/vhallrecord/lss_27f054bb/20220724124221_a018e830/record.m3u8?token=2A75182F_MjE3MTIwOTg2XzYzRUI1N0Q2X1lUQXhPR1U0TXpBX2FtOXBibDgzTWpBeE9UUXdORElfdm9k\u0026#39; 点击展开查看更多 打开这个文件，可以看到里面是如下的格式：\nTXT 折叠 复制 #EXTM3U #EXT-X-VERSION:3 #EXT-X-TARGETDURATION:20 #EXT-X-MEDIA-SEQUENCE:0 #EXTINF:4.520000, /vhallyun/vhallhls/ls/s_/27/lss_27f054bb/lss_27f054bb/20220724084900103860/livestream000007.ts #EXTINF:4.200000, /vhallyun/vhallhls/ls/s_/27/lss_27f054bb/lss_27f054bb/20220724084900103860/livestream000008.ts #EXTINF:4.200000, /vhallyun/vhallhls/ls/s_/27/lss_27f054bb/lss_27f054bb/20220724084900103860/livestream000009.ts #EXTINF:4.240000, /vhallyun/vhallhls/ls/s_/27/lss_27f054bb/lss_27f054bb/20220724084900103860/livestream000010.ts #EXTINF:5.080000, /vhallyun/vhallhls/ls/s_/27/lss_27f054bb/lss_27f054bb/20220724084900103860/livestream000011.ts #EXTINF:5.880000, /vhallyun/vhallhls/ls/s_/27/lss_27f054bb/lss_27f054bb/20220724084900103860/livestream000012.ts 点击展开查看更多 表头信息可以忽略，我猜测#EXTINF:4.520000是每一个视频文件的长度，紧接的下一行是视频的路径，但是没有hostname。\n下载ts文件 观察一下m3u8文件的地址，前面一段是https://tehlsvodhls02.vhallyun.com/vhallyun/，所以我猜测hostname就是https://tehlsvodhls02.vhallyun.com，后面下载了一个ts文件，发现是正确的。\n下载的ts文件，转换成mp4文件:\nSHELL 折叠 复制 ffmpeg -i livestream002243.ts -acodec copy -vcodec copy -absf aac_adtstoasc livestream002243.mp4 点击展开查看更多 从m3u8文件中得到ts文件名，并构造完整的url：\nSHELL 折叠 复制 [ -s url_list.txt ] || \\ grep -v \u0026#39;^#EXTM3U\u0026#39; record.m3u8 | grep -v \u0026#39;^#EXT-X\u0026#39; \\ | tr -d \u0026#39;\\n\u0026#39; | sed \u0026#39;s/#EXTINF:/\\n/g\u0026#39; | grep -v \u0026#39;^$\u0026#39; | sed \u0026#39;s/,/\\t/\u0026#39; \\ | awk \u0026#39;{i+=$1; if (i \u0026gt;= 2000 \u0026amp;\u0026amp; i \u0026lt;= 2050) print $2}\u0026#39; \u0026gt; url_list.txt 点击展开查看更多 需要说明的是，这个视频比较长，所以我只下载了2000至2050秒的视频，使用了awk来计算累计的时间。假如需要直接下载全部视频的话，可以把awk的那部分命令删掉。\n并行下载：\nSHELL 折叠 复制 Root=https://tehlsvodhls02.vhallyun.com cat url_list.txt | parallel -j 5 aria2c -c \u0026#34;${Root}\u0026#34;{} 点击展开查看更多 合并ts文件，生成mp4文件 SHELL 折叠 复制 # make file list for ffmpeg # ------------------------- # if [ ! -s ts.list ] then for f in *.ts do echo \u0026#34;file\t$f\u0026#34; \u0026gt;\u0026gt; ts.list done fi # merge # ----- # ffmpeg -f concat -safe 0 -i ts.list -c copy output.mp4 点击展开查看更多 完整的脚本在 https://github.com/entropydecrease/misc/blob/main/download_m3u8.sh 。\n","title":"下载m3u8格式的视频文件并合并为mp4"},{"link":"/posts/github_mirror/","text":"githhub有时候访问很慢，甚至不能访问，有人做了一个镜像。\nhttps://kgithub.com 可以当作github一样使用，假定此时需要 git clone bwa-mem2 ，原始命令是\ngit clone https://github.com/bwa-mem2/bwa-mem2.git\n现在的命令是：\ngit clone https://kgithub.com/bwa-mem2/bwa-mem2.git\n仅当原始网站不可用的时候再用这个，因为速度不一定有原版快。。。。。。\n","title":"github镜像"},{"link":"/posts/elementbio_intro/","text":"Element Bio 是一家新兴的测序仪公司，其产品具有精度高、成本低、通量高的优势，下面是创始人何敏在2022年NGS开发者大会上的介绍，讲的比较清楚。\n","title":"ElementBio 在2022年NGS开发者大会上的介绍"},{"link":"/posts/fastq%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/","text":"https://help.basespace.illumina.com/articles/descriptive/fastq-files/ fastq文件的命名 示例：Data\\Intensities\\BaseCalls\\samplename_S1_L001_R1_001.fastq.gz\n* samplename - The sample name provided in the sample sheet. If a sample name is not provided, the file name includes the sample ID, which is a required field in the sample sheet and must be unique. * S1 — The sample number based on the order that samples are listed in the sample sheet starting with 1. In this example, S1 indicates that this sample is the first sample listed in the sample sheet. [^1] Reads that cannot be assigned to any sample are written to a FASTQ file for sample number 0, and excluded from downstream analysis. * L001—The lane number. * R1—The read. In this example, R1 means Read 1. For a paired-end run, there is at least one file with R2 in the file name for Read 2. * 001—The last segment is always 001. 一个例子 注意read number之前的空格\n@SIM:1:FCX:1:15:6329:1045 1:N:0:2 TCGCACTCAACGCCCTGCATATGACAAGACAGAATC + \u0026lt;\u0026gt;;##=\u0026gt;\u0026lt;9=AAAAAAAAAA9#:\u0026lt;#\u0026lt;;\u0026lt;\u0026lt;\u0026lt;????#= 格式 fastq中每条记录由4行组成：\n第一行：sequence identifier, 信息量比较大，有多个字段，详见下文 第二行：sequence, 测序所得序列，[AGTCN] 第三行：Quality score identifier line，只有+ 第四行：Quality score, 和第二行的序列一一对应，字母相应的ASCII数值加上offset对应测序质量的Q值。 第一行(header)格式 TEXT 折叠 复制 @\u0026lt;instrument\u0026gt;:\u0026lt;run number\u0026gt;:\u0026lt;flowcell ID\u0026gt;:\u0026lt;lane\u0026gt;:\u0026lt;tile\u0026gt;:\u0026lt;x-pos\u0026gt;:\u0026lt;y-pos\u0026gt; \u0026lt;read\u0026gt;:\u0026lt;is filtered\u0026gt;:\u0026lt;control number\u0026gt;:\u0026lt;sample number\u0026gt; 点击展开查看更多 对于 Undetermined FASTQ文件，index的序列会写入FASTQ的header中sample number的位置，该信息对于demultiplexing的troubleshooting比较有用。\n各字段定义：\nElement Requirements Description @ @ Each sequence identifier line starts with @ \u0026lt;instrument\u0026gt; Characters allowed: a–z, A–Z, 0–9 and underscore Instrument ID \u0026lt;run number\u0026gt; Numerical Run number on instrument \u0026lt;flowcell ID\u0026gt; Characters allowed: a–z, A–Z, 0–9 \u0026lt;lane\u0026gt; Numerical Lane number \u0026lt;tile\u0026gt; Numerical Tile number \u0026lt;x_pos\u0026gt; Numerical Run number on instrument \u0026lt;y_pos\u0026gt; Numerical X coordinate of cluster \u0026lt;read\u0026gt; Numerical Read number. 1 can be single read or Read 2 of paired-end \u0026lt;is filtered\u0026gt; Y or N Y if the read is filtered (did not pass), N otherwise \u0026lt;control number\u0026gt; Numerical 0 when none of the control bits are on, otherwise it is an even number. On HiSeq X systems, control specification is not performed and this number is always 0. \u0026lt;sample number\u0026gt; Numerical Sample number from sample sheet Control values If the read is not identified as a control, then the 10th column () is zero. If the read is identified as a control, the number is greater than zero, and the value specifies what type of control it is. The value is the decimal representation of a bit-wise encoding scheme. In that scheme bit 0 has a decimal value of 1, bit 1 a value of 2, bit 2 a value of 4, and so on.\n","title":"fastq文件格式"},{"link":"/posts/%E8%AE%A1%E7%AE%97bam%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E8%A6%86%E7%9B%96%E5%BA%A6/","text":"Things to consider to exclude some reads, like samtools depth/bedcov and mosdepth do.\n\u0026lsquo;UNMAP,SECONDARY,QCFAIL,DUP or 0x704 or 1796\u0026rsquo;\nto only summarize target regions or whole genome\nTools to use mosdepth SHELL 折叠 复制 for Bam in *.mkdup.bam do # skip if index file doesn\u0026#39;t exist [ -s ${Bam}.bai ] || continue Base=$(basename ${Bam%.mkdup.bam}) # run mosdepth [ -s ${Base}.mosdepth.summary.txt ] \u0026amp;\u0026amp; continue echo $Bam mosdepth --by target_hg38.bed \\ --threads 8 --no-per-base --fast-mode ${Base} $Bam \u0026amp; done 点击展开查看更多 Problems with mosdepth is mosdepth --by target.bed your.bam could make some region zero coverage when it is not, and don\u0026rsquo;t know the reason now. So use samtools depth/bedcov instead.\nsamtools depth SHELL 折叠 复制 samtools depth -aa -d 0 -b tst.bed *.mkdup.bam samtools depth -aa -d 0 -r chr14:19743610-19743730 *.mkdup.bam 点击展开查看更多 Note: must use -aa -d 0 to include all locations and all coverages.\nThe problem with samtools depth is -r chrom:start-stop is fast, but -b your.bed is much slower.\nsamtools bedcov SHELL 折叠 复制 # Note: \u0026#39;samtools bedcov\u0026#39; already exclude \u0026#39;UNMAP,SECONDARY,QCFAIL,DUP or 0x704 or 1796\u0026#39; Bam_files=$(ls *.mkdup.bam | paste -s ) echo \u0026#34;Chrom Start0 Stop ${Bam_files}\u0026#34; \u0026gt; samtools.bedcov.txt samtools bedcov target_hg38.bed $Bam_files \u0026gt;\u0026gt; samtools.bedcov.txt \u0026amp; 点击展开查看更多 bedtools coverage SHELL 折叠 复制 bedtools coverage -a tst.bed -b smp_20M.mkdup.bam chr14 18601115 18602097 chr14_1 625 982 982 1.0000000 chr14 19743610 19743730 chr14_2 108 120 120 1.0000000 chr7 55156467 55156652 EGFR 108 185 185 1.0000000 点击展开查看更多 samtools bedcov 会忽略标记为duplicates, QC fail等的reads，但bedtools coverage不会.\n","title":"计算bam文件中的覆盖度"},{"link":"/posts/gnome_af_only/","text":"gnomAD VCF 文件(af-only-gnomad.hg38.vcf.gz)太大了，超过200G，对于GATK来说，只需要用里面的‘AF’信息就够了，所以将多余信息删掉可以极大节省空间和时间。\ngatk 用来生成用于Mutect2的 af-only-gnomad.hg38.vcf.gz 的程序：\nhttps://github.com/broadinstitute/gatk/blob/master/scripts/mutect2_wdl/mutect_resources.wdl 相关部分code：\n# clear ID and QUAL fields and delete all INFO fields other than AF # note that input must be a plain-text vcf, not a vcf.gz. # this task re-indexes and compresses the output vcf task MakeAlleleFrequencyOnlyVcf { # ------------------------------------------------ # Input args: File input_vcf String output_name File? gatk_override # Runtime Options: String gatk_docker Int? mem Int? preemptible_attempts Int? disk_space Int? cpu # ------------------------------------------------ # Get machine settings: Boolean use_ssd = false # You may have to change the following two parameter values depending on the task requirements Int default_ram_mb = 3 * 1024 # WARNING: In the workflow, you should calculate the disk space as an input to this task (disk_space_gb). Please see [TODO: Link from Jose] for examples. Int default_disk_space_gb = 100 Int default_boot_disk_size_gb = 15 # Mem is in units of GB but our command and memory runtime values are in MB Int machine_mem = if defined(mem) then mem * 1024 else default_ram_mb Int command_mem = machine_mem - 1024 # ------------------------------------------------ # Run our command: command { set -e export GATK_LOCAL_JAR=${default=\u0026quot;/root/gatk.jar\u0026quot; gatk_override} # Save off the header for later: grep '^#' ${input_vcf} \u0026gt; header \u0026amp; # Get all lines in the file except the header: # Preserve all fields before INFO, Grab only the AF annotation from the INFO Field # replace ID (3rd) and QUAL (6th) columns with '.' (empty): grep -v \u0026quot;^#\u0026quot; ${input_vcf} | sed -e 's#\\(.*\\)\\t\\(.*\\)\\t\\(.*\\)\\t\\(.*\\)\\t\\(.*\\)\\t\\(.*\\)\\t\\(.*\\)\\t.*;AF=\\([0-9]*\\.[e0-9+-]*\\).*#\\1\\t\\2\\t.\\t\\4\\t\\5\\t.\\t\\7\\tAF=\\8#g' \u0026gt; simplified_body \u0026amp; # Wait for background processes to finish: wait # Consolidate files: cat header simplified_body \u0026gt; simplified.vcf # Zip the VCF: bgzip simplified.vcf -O ${output_name}.vcf.gz # Index output file: gatk --java-options \u0026quot;-Xmx${command_mem}g\u0026quot; IndexFeatureFile -F ${output_name}.vcf.gz # Cleanup: rm -f header body simplified_info simplified_body simplified.vcf simplified.vcf.idx } # ------------------------------------------------ # Runtime settings: runtime { docker: gatk_docker memory: machine_mem + \u0026quot; GB\u0026quot; disks: \u0026quot;local-disk \u0026quot; + select_first([disk_space, 100]) + if use_ssd then \u0026quot; SSD\u0026quot; else \u0026quot; HDD\u0026quot; preemptible: select_first([preemptible_attempts, 3]) cpu: select_first([cpu, 1]) } # ------------------------------------------------ # Outputs: output { File output_vcf = \u0026quot;${output_name}.vcf.gz\u0026quot; File output_vcf_idx = \u0026quot;${output_name}.vcf.gz.tbi\u0026quot; } } 但是GATK的方法太慢了，所以我写了如下的脚本：\nSHELL 折叠 复制 #!/bin/bash # gatk removes ID/UQAL and INFO except \u0026#39;AF\u0026#39; bcftools annotate -x \u0026#39;FILTER,INFO/AC,^INFO/AF,INFO/AF_eas,INFO/AF_eas_male,INFO/AF_eas_female\u0026#39; \\ -Oz -o gnomad.genomes.r3.0.sites.fix.af_only.vcf.gz --threads 8 \\ gnomad.genomes.r3.0.sites.fix.vcf.gz 2\u0026gt;mk_gnomad_af_only.log bcftools index -t --threads 8 --force gnomad.genomes.r3.0.sites.fix.af_only.vcf.gz 2\u0026gt;\u0026gt;mk_gnomad_af_only.log 点击展开查看更多 ","title":"生成af only的gnomad vcf文件"},{"link":"/posts/bcftools_notes/","text":"copied from https://gist.github.com/elowy01/93922762e131d7abd3c7e8e166a74a0b\nFilter variants per region (in this example, print out only variants mapped to chr1 and chr2)\nbcftools filter -r1,2 ALL.chip.omni_broad_sanger_combined.20140818.snps.genotypes.hg38.vcf.gz\nprinting out info for only 2 samples:\nbcftools view -s NA20818,NA20819 filename.vcf.gz\nprinting stats only for variants passing the filter:\nbcftools view -f PASS filename.vcf.gz\nprinting variants withoud header:\nbcftools view -H\nprinting variants on a particular region:\nbcftools view -r chr20:1-200000 -s NA20818,NA20819 filename.vcf.gz\nprint all variants except for the ones falling within region:\nbcftools view -t ^chr20:1-30000000 ex_bams.samtools.20161231.vcf.gz \u0026gt;out.vcf\nview the positions passed in a file (accepted files are .vcf and .bed):\nbcftools view -R 0002.vcf in.vcf.gz\nview the positions passed in a tsv file:\nPLAINTEXT 折叠 复制 bcftools view -R 0002.tsv in.vcf.gz The format of 0002.tsv: 20 79000 80000 20 90000 100000 点击展开查看更多 printing out only the chr info:\nbcftools query -f '%CHROM\\n' filename.vcf\nnow, print out the chr\\tpos\nbcftools query -f '%CHROM\\t%POS\\n' filename.vcf\nnow, print out the AF INFO field\nbcftools query -f '%INFO/AF\\n'\ngetting a particular annotation from the VCF\nbcftools query -f '%QUAL\\n' 0002.vcf\nprinting chr pos and a particular annotation from a VCF:\nbcftools query -f '%CHROM\\t%POS\\t%INFO/DP\\n' in.vcf.gz\nprinting out the sets assigned by GATK CombineVariants\nbcftools query -f '%set\\n' out_combine.vcf.gz | sort | uniq\nprinting a list of samples from a VCF:\nbcftools query -l test.vcf\nalso, the FORMAT annotations can be obtained by:\nbcftools query -f '[%GT]\\n' ../0002.vcf |wc -l #the GT in this case\nselecting snps from file:\nbcftools view -v snps lc_bams.bcftools.20170319.NA12878.vcf.gz\nselecting the variants from a VCF (excluding 0|0 genotypes)\nbcftools view -c1 input.vcf\nselecting the non-variants from a VCF(AC=0)\nbcftools view -H -C0 concat.allchrs.sites.vcf.gz\nusing one of the INFO annotations (IDV)\nbcftools filter -sFilterName -e'IDV\u0026lt;5' input.vcf\nOR logical operator:\nbcftools filter -sFilterName -e'DP\u0026gt;50000 | IDV\u0026lt;9' input.vcf\nfiltering on FORMAT annotation:\nbcftools filter -sFilterName -e'FORMAT/DP\u0026lt;5' input.vcf\nfiltering on INFO annotation:\nbcftools filter -sFilterName -e'INFO/DP\u0026lt;5' input.vcf\nprinting out variants that pass the filter:\nbcftools view -f.,PASS lc_bams.bcftools.20170411.exc.norm.SNP.filtered.vcf.gz\nbcftools stats and filtering:\nbcftools stats -f \u0026quot;PASS,.\u0026quot; file.vcf\nselect only biallelic (excluding multiallelic) snps\nbcftools view -m2 -M2 -v snps input.vcf.gz\nselect only the multiallelic snps\nbcftools view -m3 -v snps input.vcf.gz\nprinting the set info in the INFO field:\nbcftools view -i 'set=\u0026quot;freebayes_lcex\u0026quot;' combined.all.chr20.vcf.gz\nprinting all entries having a quality \u0026lt;10\nbcftools view -i 'QUAL\u0026lt;10' in.vcf.gz\nremoving FORMAT column from the VCF, it will remove all FORMAT annotations except the GT information\nbcftools annotate -x FORMAT ifile.vcf.gz\nremoving INFO field from VCF\nbcftools annotate --remove INFO in.vcf.gz\nannotating a vcf file using the annotations from a different VCF (in this case we only annotate the INFO/DP)\nbcftools annotate -c 'INFO/DP' -a annt.vcf.gz in.vcf.gz\nannotating a vcf file with a tabular file:\nsee page https://github.com/samtools/bcftools/wiki/HOWTOs#annotate-from-bed\ndrop individual genotype information\nbcftools view -G input.vcf.gz\ngetting stats on the number of REF/ALT swaps and other things:\nbcftools +fixref file.bcf -- -f ref.fa\ncorrecting the REF/ALT swaps:\nbcftools norm --check-ref ws -f ref.fa in.vcf.gz -o out.vcf.gz -Oz\nchanging the sample names in a VCF:\nSHELL 折叠 复制 # the samplenames.txt file has the following format: # oldsamplename newsamplename bcftools reheader -s samplenames.txt NA12878.giab.SNP.chr20.non_valid.vcf.gz -o NA12878.giab.SNP.chr20.non_valid.reheaded.vcf.gz 点击展开查看更多 changing the header:\nSHELL 折叠 复制 bcftools reheader -h newheader.txt ../combined.all.chr20.vcf.gz.snps.biallelic.vcf_chr20.vcf.gz.ensembl.vcf.gz.phased.ligated.NA12878.ucsc.vcf.gz -o combined.all.chr20.vcf.gz.snps.biallelic.vcf_chr20.vcf.gz.ensembl.vcf.gz.phased.ligated.NA12878.ucsc.reheaded.vcf.gz 点击展开查看更多 in order to use the plugins:\nexport BCFTOOLS_PLUGINS=~/bin/bcftools-1.6/plugins/\ntag2tag: convert PL to GL\nbcftools +tag2tag in.vcf -- -r --pl-to-gl\nnormalizing the multiallelic variants:\nwith -any I will split the multiallelic variants (SNPs+INDELs) into several records bcftools norm -m -any in.vcf.gz -o out.norm.vcf.gz -Oz\nFor example:\nchr20 60280 . TTTCCA TTTCCATTCCA,T 744 PASS . Will be converted to:\nchr20 60280 . TTTCCA TTTCCATTCCA 744 PASS . chr20 60280 . TTTCCA T 744 PASS . selecting the missing (uncalled) genotypes:\nbcftools view -u in.vcf.gz -o missing_genotypes.vcf.gz -Oz\nselect a particular genotype (0/1 or 1/1) from a vcf. In this case access sample accessed by index 8:\nbcftools view -H combined.snps_indels_chr1.filt.vcf.gz.onlyvariants.vcf.gz.ensembl.vcf.gz.85706.vcf.gz -i 'GT[8]=\u0026quot;het\u0026quot;'\nselect all lines having exactly AC=2\nbcftools view -i'AC=2' in.vcf.gz\nif we have a tab in a VCF defined in the header like:\n#INFO=\u0026lt;ID=GRCH37_38_REF_STRING_MATCH,Number=0,Type=Flag,Description=\u0026ldquo;Indicates reference allele in origin GRCh37 vcf string-matches reference allele in dbsnp GRCh38 vcf\u0026rdquo;\u0026gt;\nwe can check for the records having this tag by doing:\nbcftools view -H -i\u0026rsquo;GRCH37_38_REF_STRING_MATCH=1\u0026rsquo; ALL.chr7_GRCh38.genotypes.20170504.ensembl.vcf.NA12878.biallelic.nonvariants.nonvalid.snps.vcf.gz | less\nAnd the contrary by doing:\nbcftools view -H -i'GRCH37_38_REF_STRING_MATCH=0' ALL.chr7_GRCh38.genotypes.20170504.ensembl.vcf.NA12878.biallelic.nonvariants.nonvalid.snps.vcf.gz | less\nFiltering a VCF depending on a certain Allele frequency:\nSHELL 折叠 复制 bcftools view -i \u0026#39;INFO/AF \u0026gt; 0.8\u0026#39; z.vcf.gz 点击展开查看更多 Split VCF by sample:\nSHELL 折叠 复制 for file in *.vcf*; do for sample in `bcftools view -h $file | grep \u0026#34;^#CHROM\u0026#34; | cut -f10-`; do bcftools view -c1 -Oz -s $sample -o ${file/.vcf*/.$sample.vcf.gz} $file done done 点击展开查看更多 ","title":"bcftools notes (转载)"},{"link":"/posts/igv_local_genome/","text":"igv假如每次都要从远程加载genome信息的话，网络不好的情况下会很慢，这时候最好做一个本地版的.genome文件。\nigv的.genome文件其实是一个zip文件。\n先看一下hg19.genome的内容：\nSHELL 折叠 复制 \u0026gt; cp ~/igv/genomes/hg19.genome . \u0026gt; unzip hg19.genome Archive: hg19.genome inflating: cytoBand.txt inflating: hg19_alias.tab inflating: property.txt inflating: refGene.txt \u0026gt; cat property.txt id=hg19 name=Human hg19 cytobandFile=cytoBand.txt ordered=true geneFile=refGene.txt geneTrackName=RefSeq Genes chrAliasFile=hg19_alias.tab fasta=True sequenceLocation=http://s3.amazonaws.com/igv.broadinstitute.org/genomes/seq/hg19/hg19.fasta url=http://www.ncbi.nlm.nih.gov/gene?term=$$ 点击展开查看更多 可以看到，里面的cytoband文件，gene文件都是本地的，但是序列文件是在AWS上面的。而最近AWS的访问有问题，非常不稳定，所以igv也不能打开hg19.genome了。\n让igv都使用本地的文件，只需要修改property.txt即可，修改property.txt如下：\nTEXT 折叠 复制 id=hg19-local name=Human hg19 local cytobandFile=cytoBand.txt ordered=true geneFile=refGene.txt geneTrackName=RefSeq Genes chrAliasFile=hg19_alias.tab fasta=True sequenceLocation=/Users/xiaojf/data/genomes/hs37d5/hs37d5.fa url=http://www.ncbi.nlm.nih.gov/gene?term=$$ 点击展开查看更多 其中sequenceLocation改成本地的基因组fasta文件。\n然后重新打包成.genome文件即可:\nSHELL 折叠 复制 \u0026gt; zip hg19_local.genome cytoBand.txt refGene.txt hg19_alias.tab property.txt \u0026gt; mv hg19_local.genome ~/igv/genomes/ 点击展开查看更多 最后，在igv中打开这个.genome文件。\nhg38本地版的.genome类似。\n","title":"igv 生成本地的.genome文件"},{"link":"/posts/bcl2fastq_install/","text":"安装 SHELL 折叠 复制 wget ftp://webdata2:webdata2@ussd-ftp.illumina.com/downloads/software/bcl2fastq/bcl2fastq2-v2.17.1.14.tar.zip tar -zxvf bcl2fastq2-v2.17.1.14.tar.zip cd bcl2fastq2 mkdir build; cd build ../src/configure --prefix=$HOME \u0026gt; build.txt.log 2\u0026gt;\u0026amp;1 tail -f build.txt.log 点击展开查看更多 可能出现的问题 CMake complains Required header sys/stat.h not found SHELL 折叠 复制 \u0026gt; sudo apt-get install libc6-dev-amd64 点击展开查看更多 no support for gzip compression SHELL 折叠 复制 \u0026gt; sudo apt-get install zlib1g-dev 点击展开查看更多 bcl2fastq also complains no libxml2 and libxslt, but it could build by itself. And the version installed with ubuntu is too new :( PLAINTEXT 折叠 复制 \u0026gt; sudo apt-get install gfortran doxygen graphviz 点击展开查看更多 ","title":"安装bcl2fastq"},{"link":"/posts/ref_genome/","text":"GRCh37 还是 GRCh38 GRCh37 == hg19，GRCh38 ＝＝ hg38\n理论上来讲，GRCh38是新的人类基因组的参考组装，相对GRCh37(hg19)来说，更接近人类真正的基因组。但是由于历史原因，之前很多的数据库对老版本的GRCh37支持的比较好。 dbSNP和ClinVar已经同时支持 GRCh37和38，但是1k genomes还是对GRCh37支持更好一些.\n我看到有公司还在使用GRCh37，并且声称效果更好。但是，我的看法是，T2T才是未来，现在应该尽早转到GRCh38。\n1k genomes 使用的hs37d5 是什么 1k genomes项目组在做alignment的时候，使用的是hs37d5\n主要是因为在align的时候，有一些reads不能比对到参考基因组上，然后做align的软件就要非费尽心思来给这些reads找次优的位置，而这是非常费时的一步。经过研究发现，这些reads主要是来自于疱疹病毒和一些简单的重复片段，把这些序列加进参考基因组，可以省不少时间，因为一下子就可以找到reads的最优位置，不用费心去找次优位置。\n下面是1k genomes的官方说明\nhs37d5.fa.gz\nIntegrated reference sequence from the GRCh37 primary assembly (chromosomal plus unlocalized and unplaced contigs), the rCRS mitochondrial sequence (AC:NC_012920), Human herpesvirus 4 type 1 (AC:NC_007605) and the concatenated decoy sequences (hs37d5cs.fa.gz). This file is compressed by razip from the samtools package for random access. Gzip may complain \u0026ldquo;decompression OK, trailing garbage ignored\u0026rdquo;, but this does not affect the correctness of the decompressed file.\n1k genomes使用的GRCh38的参考基因组 ftp://ftp.1000genomes.ebi.ac.uk/vol1/ftp/technical/reference/GRCh38_reference_genome\n","title":"应该使用哪个genome"},{"link":"/posts/some_history_of_my_hometown/","text":"我的家乡新郑，洛阳与开封之间、黄河以南四十公里的一个小县，归郑州管辖。\n这个小县，在今天的年代里默默无闻，但是就像河南很多地方一样，过去的千百年里，也有不少历史的风云变幻星河璀璨。“轩辕故里”，或者“黄帝故里”，“郑韩故城”，都是说的新郑。\n新郑有一座山，叫具茨山，是中岳嵩山的余脉，绵延新郑、新密、禹州等几个县，在本县俗称“西南山”，因为山在县城西南，据说是“炎黄子孙”的“黄”的那个轩辕黄帝出生、活动、建都之地。山上有一座轩辕庙，据说还有一些岩画（整个具茨山地区有大规模岩画）。有人曾问为什么山上什么当时的古迹都没有，只有后人留下的，乍一想，也觉得好像少了点什么，不似其它名胜古迹那般丰富，不过再想想，那个时代不可能留下寺庙、道观、园林、字画、雕像，毕竟那时候才传说开始造文字。\n小时候看过一本“轩辕故里的传说”，里面搜集了很多关于的传说，比如黄帝战蚩尤、制鼓、编制历法、造指南车，皇帝的妻子嫘祖养蚕，仓颉造字等。\n黄帝生在新郑，那是怎么死的呢？在传说里，这样神一样的人物，肯定不能像一般人一样死去。于是，在传说里，黄帝在今天河南灵宝的荆山下铸鼎，铸成之后，天上下来神龙把黄帝接走了，人们舍不得皇帝走，赶紧去拉，拉下来了靴子和黄帝的弓，埋在铸鼎的地方作为衣冠冢，就是荆山黄帝陵。史记里有一句“黄帝崩，葬桥山”，陕西的桥山（黄陵县）就也有一个黄帝陵，另外还有河北和甘肃说自己是黄帝陵正宗，不知道真正葬在哪里。\n黄帝以姬为姓，其后代一部分姓姬，还有很多是其他姓的始祖，“黄帝二十五子，其得姓者十四人”，五帝和之后的夏、商、周都是黄帝的后代，周朝也是用姬姓，周武王建立周朝之后分封诸侯的时候，跟周天子同姓的诸侯国有几十个，包括郑国、晋国、鲁国、蔡国等，秦国姓嬴，据说是黄帝的某个儿子的后代。一些国名，后来也演化为姓，比如郑国亡国之后，很多人改姓郑。\n抄一段网上的：\n《姬姓史话》一书中介绍，人口数量排名前300的姓氏中，直接源于姬姓的有120多个。不过，这些姓氏的演化方式不同，大体分为五类。\n第一类是直接发源于黄帝的姓。黄帝直接演化而来的12个姓分别是姬、酉、祁、己、滕、箴、任、荀、僖、姞、儇（xuān）、衣。\n第二类是周王朝分封的53个姬姓诸侯国。当时曹、吴、韩、杨、郑、蔡、晋、魏、沈等都是姬姓国，其国名后来都演化成为姓氏。\n第三类是发源于姬姓的衍生姓氏。直接源于黄帝的12个姓，后来也逐渐分化为其他姓氏。比如，其中的祁姓被尧帝的祖先继承，后来衍生出刘、唐、杜、范、司空等姓；己姓被少昊继承，衍生出张、安、金、苏、温、顾等姓。\n第四类是姬姓族人以祖先或自己的官职、职业、称号、名字、居住地为姓。比如，林姓的一支主要来源是姬姓，其祖先是周平王的庶子姬开。姬开的字是“林”，子孙以其字为氏，称“林氏”，后来演化成为林姓。\n第五类是秦汉之后的改姓。姬传东介绍，姬姓先后经历过四次改姓，其中规模最大的两次，分别发生在东周灭亡时和唐朝中期，“秦灭东周，大多姬姓人改姓为周；唐朝时为避讳李隆基的名字，又有大部分姬姓人改姓为周。”\n之前很多故事都是传说下来的，找不到什么史料。诗经大概算比较早的文字资料了。\n诗经 郑风 溱洧\n溱与洧、方涣涣兮。\n士与女、方秉兰兮。\n女曰观乎。\n士曰既且。\n且往观乎。\n洧之外、洵吁且乐。\n维士与女、伊其相谑、赠之以勺药。\n溱与洧、浏其清矣。\n士与女、殷其盈兮。\n女曰观乎。\n士曰既且。\n且往观乎。\n洧之外、洵吁且乐。\n维士与女、伊其将谑、赠之以勺药。\n大意是说，春天的时候，溱水和洧水汇流的地方，碧波荡漾，年轻男女拿着兰草在河边玩，一个女孩子说，去看吗？男孩子说，已经看过了，女孩子说，再去看看吧。后来玩得很开心，并以芍药相赠订情。\n多么浪漫的故事，里面提到的溱水和洧水，古时候应该是很美丽的河吧。洧水是现在新郑的双洎河（不知道有多少人有和我一样的冲动念“双咱河”的）；溱水，有的说是新郑的黄水河，也有说是隔壁新密县的溱水。\n说到新密，顺便说说郑州的几个县。\n新密和新郑挨着，新密也是最早黄帝活动的区域，也是后来的郑国、韩国的地方；\n巩县（现在叫巩义市），杜甫及其祖父杜审言生在这里，北宋皇陵所在，北宋除了徽钦二帝被掳走，剩下的都在这了，包拯墓也在这；\n登封，有中岳嵩山、少林寺，除此之外，曾经也是夏朝都城，还有郭守敬的观星台；\n中牟，处在郑汴之间，是兵家必争之地，比如官渡之战，沿着黄河往东打开封，一般都在中牟开打，后来岳飞在这打过，李自成在这打过，民国也在这里打过，列子是这里的，“貌若潘安”的“潘安”的祖籍；\n荥阳，鸿沟就是从荥阳引黄河水，经中牟、开封，入颍河而通淮河，陈胜吴广起义后吴广攻荥阳不克死在这，楚汉争霸在这里相持很久，后来以鸿沟为界，三国演义里刘关张三英战吕布的虎牢关就是荥阳的泗水镇。\n另一首诗经里的诗：\n诗经 郑风 野有蔓草\n野有蔓草、零露漙兮。\n有美一人、清扬婉兮。\n邂逅相遇、适我愿兮。\n野有蔓草、零露瀼瀼。\n有美一人、婉如清扬。\n邂逅相遇、与子偕臧。\n天龙八部木婉清的“婉清”二字，估计就是从这里出的。\n还有另外一首我很喜欢的：\n诗经 郑风 子衿\n青青子衿、悠悠我心。\n纵我不往、子宁不嗣音。\n青青子佩、悠悠我思。\n纵我不往、子宁不来。\n挑兮达兮、在城阙兮。\n一日不见、如三月兮。\n左传里面，也有关于新郑的很多故事。\n中学课本有一篇“郑伯克段于鄢”就是出自左传第一篇“隐公元年”，“多行不义必自毙”、“其乐融融”、“黄泉（不及黄泉，无相见也）”就是从这里出的。\n郑国作为和周天子同姓（都姓姬）的诸侯国，刚开始还是比较猛的，隐公三年：“四月，郑祭足帅师取温之麦。秋，又取成周之禾。周、郑交恶。”后来周天子又联合几个诸侯国攻打郑国，被郑国击溃，将士要乘胜追击，郑庄公阻止了，然后派人慰问了周天子及其左右。\n中原小国众多，而且四面都是对手，很难发展起来，不像外围的国家，至少一面或者两面是没有后顾之忧的，专心向中心打就好。战国七雄，都是从外围发展起来的。郑国慢慢衰落了，被秦、晋这些大国欺负。\n抄一段百度：\n在公元前632年（僖公二十八年）发生的城濮（在今河南陈留县）之战中，晋文公战胜楚国，建立了霸业。公元前631年（僖公二十九年），晋、周、鲁、宋、齐、陈、蔡、秦在翟泉（今河南洛阳）会盟，晋国在会上“谋伐郑”。公元前630年（僖公三十年），晋国和秦国合兵围郑。\n郑国被围，烛之武晚上用绳子出城见秦穆公说，你帮晋国把郑国打下来的地方肯定是归晋国（晋国和郑国挨着，秦国和郑国之间比较远，还隔着周天子的洛阳），晋国的实力更强了，秦国相对就弱了，这样对你们没啥好处。假如放郑国一马，我们就是你东边道路上热情好客的主人，以后你的人来往路过，我们管吃管住，这样对你绝对没有坏处啊。文言是：若舍郑以为东道主，行李之往来，共其乏困，君亦无所害。\n所以各位亲爱的朋友们，我们新郑才是世上最早的(被逼出来的)“东道主”。\n然后秦穆公同意了，撤兵，还留下三个将军帮郑国守北门（晋国在郑国的北面）。晋国的将士还想打，晋文公说，我是靠秦穆公才上位的，打他不好，撤了。\n这还没完，后面还有一堆事。\n过了两年，僖公三十二年，“夏四月己丑，郑伯捷卒。卫人侵狄。秋，卫人及狄盟。冬十有二月己卯，晋侯重耳卒。”一年之内，郑庄公和晋文公都死了。前面帮郑国守北门的三个秦将之一送信回秦国，说郑国让我们掌管他们北门，秦国大军偷偷的进来打枪的不要，我们可以夺了郑国。秦军到了洛阳东边的滑国（现在的偃师）的时候，郑国贩牛的商人弦高发现了，于是“弦高犒师”，一边把自己的牛和牛皮以郑国名义送去秦军慰问，另一方面派人通知郑国。\n这边郑穆公派人去看北门秦军，已经整好行李、磨好兵器、喂好马了（“郑穆公使视客馆，则束载、厉兵、秣马矣”）。“厉兵秣马”就是从这里出的。于是逐客，三个人分头投奔他国。另一边，孟明觉得人家有防备，胜算不大，顺手灭了滑国，回了。然后在经过洛阳西面的崤山的时候，被晋国伏击，就是课本“崤之战”那一段。\n早知道这一串故事，当时背课文也会觉得有意思一些。\n郑国后面还有更衰落的时候。。。。到了襄公二十六年，秦、楚联合攻郑，郑国一个将军被楚国俘虏了，楚国的公子围来争功，是“上下其手”的出处。\n再到后来，被韩国灭了，韩国迁都新郑，韩国也很弱，后来被秦灭了。新郑做郑国和韩国的都城，有五百多年，所以叫郑韩故城。\n之后好像没有太多故事。韩非子是新郑的，被同门师兄弟李斯给害在秦国。运筹帷幄之中决胜千里之外的张良，也是新郑的。白居易，生在新郑，祖籍山西。\n现在的新郑人，（至少很多）传说是从山西洪洞县大槐树下移民过来的。大槐树移民的故事，记得《轩辕故里的传说》那本书里有很多。\n我觉得这个还是很有可信程度的，因为有几个说法很多地方的人都很一致。\n首先是所谓“洪洞县大槐树”，很多地方的人都说自己老家是山西省洪洞县大槐树下。\n一个比较公认的传说是“解手”。把上厕所称之为“解手”，大便是“解大手”，小便是“解小手”，乍一听很难理解。传说中是因为当初从山西移民过来是被逼的，所以一路上是绑着双手连成串，有官兵押解的，需要方便的时候就要让士兵把手解开，一路上形成了“解手”的叫法。\n还有一个是“背手”。“背手”就是一般说的走路或者站立的时候把手放在背后，在我们那里的方言是不说“背手”的，我姥姥和我妈都是说“bei bang zhu shou”，之前我一直不知道中间两个字是什么的，河南很多方言不仔细想都不知道是用的什么字的，后来看到这个传说，忽然想明白，应该是“背绑住手”。可能真的是因为当初被押解的时候手是绑在身后的。\n还有一个现象是，小脚趾都是两瓣的。上大学的时候，我还专门看了其他地方同学的小脚趾，确实不是两瓣的，第一次看到小脚趾不是两瓣的。\n顺便说几句河南方言。\n很早之前，侯宝林有一个相声，说的是有四句话，用各地方言怎么说，从4x4 16字，到4x3，4x2，到4x1一共4个字最简便的就是河南话。之前看到帝都宣传北京话，把很多河南话的说法讲成是北京话。\n我觉得是因为说得时间太长了，所以河南话很多说得更省劲更随意的，比如儿化韵；还有很多节省音节的发音，比如“没有”说“冇”，“门外”也是一个字，（把“外”写在“门”里面，汉语拼音我拼不出来），“言语一声”会说成“yuan一声”，还有一个很有名很常用但是写不出是哪个字的发音“qiuo”的字，我觉得原本应该是“欺我”，“qiuo”很可能是“欺我”反切得到的发音。\n我觉得河南话是保留了很多古汉语发音的。\n古无轻唇音，比如番（pan）禺现代做地名仍读作pan而不是番茄的fan，杜甫（fu）古代应读作杜pu，孵（fu）小鸡古代应读作bu小鸡，这些在河南方言中现在还是如此；\n古无舌上音，可能是说上古没有今天普通话中的 zh、ch、sh、r 几个声母，河南话里面是有r的，但是至少新郑附近方言碰到zh、chi、shi，尤其是sh，基本都发z、c、s，比如老师（shi）读作老si1，谁（谁）读作sei2，检查（cha）读作检ca2，不过中国还是读作zhong1国、竹子还是读作zhu2子。\n物换星移，几千年过去了，历史上很多兴衰荣辱，今人听起来其实很难有太多的感触。这其实是一片灾难深重的土地。\n说点近的。\n1938年，虽然有4月份的台儿庄大捷，但是随后的徐州会战很可耻的刚开始就失败了，于是顺利丢了商丘、开封，下一步就是陇海线和平汉线交汇的郑州。于是为了迟滞日军，“1938年6月9日凌晨，经过两天两夜不停的挖掘，几乎在距郑州30公里的中牟失守的同时，花园口也终于挖开了”。于是黄河水从南岸的花园口而出，经过中牟、尉氏向东南（新郑在郑州正南，好像没受太大影响）, “整个黄泛区由西北至东南，长达400余公里,流经豫、皖、苏3省44个县30多万平方公里的地方”。。。据说河南省档案馆记载，造成死亡超过89万，相当于三个南京大屠杀，受灾人口超过1200万。\n洪水过后，1941-1943连续两年的大旱，还有导致秋粮绝收的蝗灾。我老妈说我姥爷讲，当初蝗虫来的时候，地里从这头赶到那头，来回三趟，蝗虫没赶走，庄稼就吃没了。可是征粮不减。“当时的河南，以“兵役第一，征实第二”著称，征粮数额仅次于“天府之国”四川，但四川当时是稳定的大后方，风调雨顺，而河南已是半省沦陷，水灾兵灾不断。异常沉重的兵役和赋税，使得河南人民在正常年景，也得靠野菜杂粮勉强度日。但从1942年春天起，河南农民们发现，天不下雨了”。\n接下来就是小说和电影里的1942年（主要是1943年）大饥荒。\n到这里，我仍然没有太多的触动心灵的感受，直到我看到了下面第一张图片。\n照片说明为：“河南新郑县城的告示字迹可看得见，基本明白照片背景，欢迎美国记者福尔曼、白修德勘查灾区的通告；1943年灾区气候依然干旱，灾情进一步恶化。这时，灾区的情况开始外传，2月初重庆版《大公报》刊登了该报记者从河南灾区发回的关于大饥荒的报道，却遭到国民政府有关部门当即勒令停刊三天的严厉处罚。消息传来，驻重庆的外国记者一片哗然，白修德决定亲赴灾区一探虚实。月底，经过有关部门批准，白修德来到河南灾区。”\n从照片上我能辨出的文字如下：\n新郑县警察局粘贴广告栏\n欢迎胸怀豫灾远道勘查的福曼白修德二位先生！ 县政府\n欢迎 盟友查灾要加强救灾工作！ 新郑县政府\n新郑县工读学校招生简章\n粘贴栏内\n违者罚款\n第玖号\n当意识到这些照片记载的就是故乡几十年前的先人们（甚至包括我的爷爷辈的）和他们承受的苦难之后，从来没有其他照片能对我心灵有如此的触动。\n第二张照片，“拍摄者白修德本人和其交通工具，1943年，在美国《时代》周刊驻华记者白修德看来，这是他人生中的转折之年，也是“所有记忆中最为刻骨铭心”的一年。这两个外国人被河南修罗地狱般的场面震呆了：无穷无尽的难民队伍，随时因寒冷、饥饿或精疲力竭而倒下；寻找一切可以吞咽的东西来吃的饥民，·因此而失去生命；一群群恢复了狼性的野狗，肆无忌惮地吞噬着死尸……最触目惊心的，母亲将自己的孩子煮了吃，父亲将自己孩子煮了吃……有的家庭，把所有的东西卖完换得最后一顿饱饭吃，然后全家自杀……1943年3月22日，白修德的报道《等待收成》刊发在美国《时代》周刊。”\n照片上城墙上面的字为“流最后一滴血绝（？）不屈服”，不知道这是不是新郑郑韩故城的老城墙，不知道路旁的人是不是某些同学、朋友的先人。\n接下来是两位记者在灾区拍摄的照片，我想里面的很多人和场景应该是在我的家乡新郑拍的吧。我看到了正在饿死和已经饿死的故乡的先人，正在被割去树皮和已经被割去树皮的故乡的树，逃荒的人们和逃亡后沉寂的故乡的乡村。摘录几张照片如下：\n饿倒（死？）的灾民。\n这张照片是收容点的灾民，胸前布条上字为：“河南尉氏县大（？）营？镇第一保第二甲民氏（？）郝（郭？）李（季？）氏由家赴X 民国三十X。。。。。。”\n这是唯一露出笑容的灾民，照片说明是，“步行逃离灾区的妇女”。\n看一场电影，再沉重不过两个小时，再花点时间心情沉重一下不过之多几天时间，但是故乡的人们，不知道怎样才能一天一天一步一步熬过这些苦难，又有多少人经受了苦难却没有最终熬过去。\n即使熬过了灾荒，在沦陷的国土上，历史并不像现在抗日神剧一样，有无数英勇而神奇的英雄，故乡的人们，并没有得到这个国家像样的保护，他们更多的日子里是无奈承受这苦难与屈辱。有点讥讽的是，当时河南四大害“水旱蝗汤”最后一害竟然是国军汤恩伯的军队.\n白修德的报道中，有一些相关的文字:\n1944年春夏之交。这一年，日本在太平洋战场受到重创后，孤注一掷在中国发动空前规模的“一号作战”，意欲打通直通南方的大走廊。历时38天的战斗中，日军5万余人的兵力，打垮了40万人的国军，豫中30多个县城被日军占领。\n汤恩伯部向豫西撤退时，豫西山地的农民举着猎枪、菜刀、铁耙，到处截击这些散兵游勇，后来甚至整连整连的解除他们的武装，缴获他们的枪支、弹药、高射炮、无线电台，甚至枪杀、活埋部队官兵。5万多国军士兵，就这样束手就擒。\n“中原王”汤恩伯恼羞成怒，这位河南民众口中的“四害”（水、旱、蝗、汤）之一，把中原会战失败的罪责推到河南百姓身上，破口大骂：河南人都是卖国贼。\n日军攻克的汤恩伯部仓库中，仅面粉便存有100万袋，足够20万军队一年之用。为什么不分出一些来赈灾呢？早在白修德还在河南时，他便提出了这个疑问。一个官员告诉他:“如果人民死了，土地还会是中国的；但如果士兵饿死了，日本人就会占领这些土地。”\n当有人像汤恩伯一样责骂河南农民时，杰克·贝尔登用英语记录了河南农民理直气壮的回答：\u0026ldquo;could the Japanese be worse than the army of Chiang Kaishek? \u0026quot; ——难道日军会比蒋军更坏吗？\n历史确实是非常沉重的东西。\n又几十年过去了，到如今，这个古老的小地方与河南很多其它地方一样，在历史长河中继续前行。\n","title":"说说我的家乡，没什么文笔，自娱自乐"},{"link":"/posts/ssh_tmux/","text":"automatically attach to a tmux session via SSH PLAINTEXT 折叠 复制 alias alias_name=\u0026#39;ssh username@servername -t \u0026#34;tmux attach || tmux\u0026#34; \u0026#39; -t Force pseudo-tty allocation. This can be used to execute arbitrary screen-based programs on a remote machine, which can be very useful, e.g., when implementing menu services. \u0026#34;tmux attach\u0026#34; tries to attach a tmux session. and if it fails, \u0026#34;tmux\u0026#34; will create a new session. 点击展开查看更多 to be continued. ","title":"a few Unix and Shell tips"},{"link":"/posts/mac_case_insensitivity/","text":"Note: 新版本的Mac操作系统可能会有不同\nhttp://apple.stackexchange.com/questions/22297/is-bash-in-osx-case-insensitive HFS+ (the Mac filesystem) is usually configured to be case insensitive but case preserving. This means that the file system will consider foo and FoO to be the same, but when you create a new file it will remember which letters where capitalized and which were not. When you format a disk with HFS+ you can chose whether the file system should case sensitive or not. If you chose to format with UFS (Unix FileSystem) it is always case sensitive, AFAIK. To check whether a disk is case sensitive, run: \u0026gt; diskutil info \u0026lt;device\u0026gt; For example: \u0026gt; diskutil info disk0s2 Look for the Name: line. If it reads something like Mac OS Extended (Case-sensitive, Journaled) it means that it is case-sensitive. If it just reads Mac OS Extended (without the Case-sensitive) then it is only case preserving but not case sensitive. On my computer:\n\u0026gt; diskutil info /dev/disk1 | grep Name Device / Media Name: Macintosh HD Volume Name: Macintosh HD Name (User Visible): Mac OS Extended (Journaled) \u0026gt; ","title":"case insensitivity on MAC OS X"},{"link":"/posts/set_hostname/","text":"It can be annoying to see my hostname being modifed each time I connect to a different WIFI. It is because the hostname was never set.\n\u0026gt; scutil --get HostName HostName: not set So we just need to set the hostname:\n\u0026gt; sudo scutil --set HostName \u0026quot;new_hostname\u0026quot; Password: \u0026gt; scutil --get HostName new_hostname ","title":"设置hostname，避免DHCP修改hostname"},{"link":"/posts/disable_timemachine_local_backup/","text":"timemachine 默认会在本地生成local backup，这个比较占空间，如何取消local backup:\nFinder -\u0026gt; goto \u0026ldquo;/Volumes\u0026rdquo; will see a backup disk\n\u0026lsquo;sudo tmutil disablelocal\u0026rsquo; will disable local cache of time machine\n\u0026lsquo;sudo tmutil enablelocal\u0026rsquo; will enable it again\n","title":"disable local backup of timemachine"},{"link":"/posts/reattach_lftp/","text":"lftp很好的一个功能是退出之后，正在运行的任务会自动提交到后台继续运行。\n但是有时候终端窗口退出之后还想重新连接这些任务，该如何连接呢？lftp提供了一个很好的命令attach。\n首先用ps查到要连接的任务的pid;\n然后打开lftp，在lftp内运行attach pid。\n","title":"re-attach a lftp process"},{"link":"/posts/atrun/","text":"Mac 上的 at 是由 atrun 运行的，而后者是由launchd 启动的，问题是在Mac上atrun默认是不启动的。\nThe atrun utility runs commands queued by at(1). It is invoked periodically by launchd(8) as specified in the com.apple.atrun.plist property list. By default the property list contains the Disabled key set to true, so atrun is never invoked.\n以root身份运行如下命令以启动atrun:\nlaunchctl load -w /System/Library/LaunchDaemons/com.apple.atrun.plist\n之后，就可以使用at命令来提交任务。\n","title":"run job with at on Mac"},{"link":"/posts/git_tips/","text":"从现有仓库克隆 $ git clone git://github.com/schacon/grit.git $ git clone git://github.com/schacon/grit.git mygrit .gitignore $ cat ~/.gitignore *~ 撤消操作 * 修改最后一次提交 $ git commit --amend 如果刚才提交时忘了暂存某些修改，可以先补上暂存操作，然后再运行 --amend 提交： $ git commit -m 'initial commit' $ git add forgotten_file $ git commit --amend * 取消已经暂存的文件 - 其实，git status 的命令输出已经告诉了我们该怎么做 $ git add . $ git status On branch master Changes to be committed: (use \u0026quot;git reset HEAD \u0026lt;file\u0026gt;...\u0026quot; to unstage) modified: README.txt modified: benchmarks.rb $ git reset HEAD benchmarks.rb Unstaged changes after reset: M benchmarks.rb * 取消对文件的修改 - git status 同样提示了具体的撤消方法 Changes not staged for commit: (use \u0026quot;git add \u0026lt;file\u0026gt;...\u0026quot; to update what will be committed) (use \u0026quot;git checkout -- \u0026lt;file\u0026gt;...\u0026quot; to discard changes in working directory) modified: benchmarks.rb $ git checkout -- benchmarks.rb $ git status On branch master Changes to be committed: (use \u0026quot;git reset HEAD \u0026lt;file\u0026gt;...\u0026quot; to unstage) modified: README.txt 任何已经提交到 Git 的都可以被恢复。即便在已经删除的分支中的提交，或者用 --amend 重新改写的提交，都可以被恢复（关于数据恢复的内容见第九章）。所以，你可能失去的数据，仅限于没有提交过的，对 Git 来说它们就像从未存在过一样。 远程仓库的使用 * 查看当前的远程库 $ git remote $ git remote -v * 添加远程仓库 - git remote add [shortname] [url] $ git remote origin $ git remote add pb git://github.com/paulboone/ticgit.git $ git remote -v origin git://github.com/schacon/ticgit.git pb git://github.com/paulboone/ticgit.git 现在可以用字符串 pb 指代对应的仓库地址了。比如说，要抓取所有 Paul 有的，但本地仓库没有的信息，可以运行 git fetch pb： $ git fetch pb remote: Counting objects: 58, done. remote: Compressing objects: 100% (41/41), done. remote: Total 44 (delta 24), reused 1 (delta 0) Unpacking objects: 100% (44/44), done. From git://github.com/paulboone/ticgit * [new branch] master -\u0026gt; pb/master * [new branch] ticgit -\u0026gt; pb/ticgit * 从远程仓库抓取数据 $ git fetch [remote-name] 如果是克隆了一个仓库，此命令会自动将远程仓库归于 origin 名下。所以，git fetch origin 会抓取从你上次克隆以来别人上传到此远程仓库中的所有更新（或是上次 fetch 以来别人提交的更新）。有一点很重要，需要记住，fetch 命令只是将远端的数据拉到本地仓库，并不自动合并到当前工作分支，只有当你确实准备好了，才能手工合并。 如果设置了某个分支用于跟踪某个远端仓库的分支（参见下节及第三章的内容），可以使用 git pull 命令自动抓取数据下来，然后将远端分支自动合并到本地仓库中当前分支。在日常工作中我们经常这么用，既快且好。实际上，默认情况下 git clone 命令本质上就是自动创建了本地的 master 分支用于跟踪远程仓库中的 master 分支（假设远程仓库确实有 master 分支）。所以一般我们运行 git pull，目的都是要从原始克隆的远端仓库中抓取数据后，合并到工作目录中的当前分支。 * 推送数据到远程仓库 - git push [remote-name] [branch-name] 如果要把本地的 master 分支推送到 origin 服务器上（再次说明下，克隆操作会自动使用默认的 master 和 origin 名字），可以运行下面的命令： $ git push origin master 只有在所克隆的服务器上有写权限，或者同一时刻没有其他人在推数据，这条命令才会如期完成任务。如果在你推数据前，已经有其他人推送了若干更新，那你的推送操作就会被驳回。你必须先把他们的更新抓取到本地，合并到自己的项目中，然后才可以再次推送 * 查看远程仓库信息 - git remote show [remote-name] $ git remote show origin * remote origin URL: git://github.com/schacon/ticgit.git Remote branch merged with 'git pull' while on branch master master Tracked remote branches master ticgit * 远程仓库的删除和重命名 - git remote rename 比如想把 pb 改成 paul，可以这么运行： $ git remote rename pb paul $ git remote origin paul 注意，对远程仓库的重命名，也会使对应的分支名称发生变化，原来的 pb/master 分支现在成了 paul/master。 碰到远端仓库服务器迁移，或者原来的克隆镜像不再使用，又或者某个参与者不再贡献代码，那么需要移除对应的远端仓库，可以运行 git remote rm 命令： $ git remote rm paul $ git remote origin ","title":"git tips"},{"link":"/posts/import_ost/","text":" export mail in .ost file to mbox file (the file may not end with .mbox).\n\u0026gt; readpst -j 3 outlook.ost\nmail.app \u0026ndash;\u0026gt; File \u0026ndash;\u0026gt; import mailboxes, and select the folder generated in step 1.\nThat\u0026rsquo;s all. Your emails in the ost file will be imported into a directory under \u0026ldquo;on my Mac\u0026rdquo;.\n","title":"export mail in .ost file to mail.app on Mac"},{"link":"/posts/common_bioinf_mistakes/","text":"biostar上的这篇文章 总结了在生物信息学日常工作中容易犯的一些共性的错误：\n* forget to check both strands * generate random genomic sites without avoiding masked (NNN) gaps * confuse genome freezes and even species * try to see which headers it contained by 'grep \u0026gt; some.fasta' will destory the .fasta file * a lot of off-by-one errors due to switching between formats: Bed is 0 based; GFF/GTF are 1-based * Trusting that a downloaded file is actually fully downloaded * Trusting that an aligner will accept a list of query files instead of just taking the first and ignoring the rest (quiz: which ones am i talking about?) * Assuming that the quality scores in a FASTQ file are from a great Sanger-encoded run instead of a very poor Illumina-1.3 run * Assuming chr1 is followed by chr2 not chr10 * off-by-one errors * regex errors * parsing a complex alignment/file format incorrectly (e.g. BLAST or GenBank, probably the original rationale for developing BioPerl) * failing to account for strand * failing to revcomp sequences * failing to account for the last element in a file (because of a improper loop condition or no EOL character on last line) * failing to account for OS dependent line breaks * using the wrong assembly/annotation/release * using the wrong genome coordinate system * using the wrong file (multiple versions, version skew) * failing to account for nested/intercalated annotation features (e.g. genes) * assuming all jobs have completed on a cluster * deleting files * not randomizing your data properly * improper use of statistical tests * not documenting methods fully (to check and correct all of the above) * Run a batch BLAST job and forgetting to put the \u0026quot;-o something.out\u0026quot; option. Then switching off the monitor and coming the next day to see a bunch of characters in my terminal * \u0026quot;tar -zxvf\u0026quot; without checking the tar file before, I have decompressed thousands of files in my current directory assuming they came in their own folder. * Using grep to find sequence (or other) IDs without using the -w switch: grep 'seq12' will also find seq121, seq122 and so on. * IMHO being off by one is the emperor of all bioinformatics mistakes - it rules them all - and probably causes tens of millions of dollars in wasted effort * having manual components to an analysis pipeline (editing data sets running scripts manually) * Not dealing with error conditions at all. This is one thing that I really noticed when I started with bioinformatics; code that would just merrily continue when it hit incorrect data and output gibberish or fail far away from the bad data. A debugging nightmare. * Not testing edge and corner cases for input data * Assuming that your input data is sane; I've run into all sorts of inconsistency issues with public data sets (i.e. protein domains at positions off the end of the protein, etc). Usually fixed promptly if you complain but you've got to find them first. * One mistake: not looking to see that the *0x4* bit in the bitflag column of a SAM (or BAM) file indicates the entry is mapped. RNAME, CIGAR, and POS may be set to something non-null (an actual string!) but these are not meaningful if the 0x4 flag says the read is unmapped. 另外一个需要特别注意的是：gene name might be hacked by MS Excel.\nThere are 11 human gene names in March: MARCH1 to MARCH11, and one in December: DEC1. And excel will treat them as date!\nSo make sure to ask excel to open data as text when working with gene names. Please refer to this paper for more info.\n1.Zeeberg, B. R. et al. Mistaken Identifiers: Gene name errors can be introduced inadvertently when using Excel in bioinformatics. BMC Bioinformatics 5, 80 (2004). http://www.biomedcentral.com/1471-2105/5/80 ","title":"bioinf常见的一些错误"},{"link":"/posts/","text":"","title":""}],"tags":[{"link":"/tags/ai/","name":"AI","slug":"AI"},{"link":"/tags/bam/","name":"Bam","slug":"Bam"},{"link":"/tags/bcftools/","name":"Bcftools","slug":"Bcftools"},{"link":"/tags/bioinf/","name":"Bioinf","slug":"Bioinf"},{"link":"/tags/code/","name":"Code","slug":"Code"},{"link":"/tags/database/","name":"Database","slug":"Database"},{"link":"/tags/datamash/","name":"Datamash","slug":"Datamash"},{"link":"/tags/download/","name":"Download","slug":"Download"},{"link":"/tags/elementbio/","name":"Elementbio","slug":"Elementbio"},{"link":"/tags/genome/","name":"Genome","slug":"Genome"},{"link":"/tags/git/","name":"Git","slug":"Git"},{"link":"/tags/igv/","name":"Igv","slug":"Igv"},{"link":"/tags/mac/","name":"Mac","slug":"Mac"},{"link":"/tags/mrd/","name":"MRD","slug":"MRD"},{"link":"/tags/nanopore/","name":"Nanopore","slug":"Nanopore"},{"link":"/tags/programming/","name":"Programming","slug":"Programming"},{"link":"/tags/shell/","name":"Shell","slug":"Shell"},{"link":"/tags/tools/","name":"Tools","slug":"Tools"},{"link":"/tags/%E4%BA%92%E8%81%94%E7%BD%91/","name":"互联网","slug":"互联网"},{"link":"/tags/%E4%BA%BA%E7%89%A9/","name":"人物","slug":"人物"},{"link":"/tags/%E5%88%9B%E4%B8%9A/","name":"创业","slug":"创业"},{"link":"/tags/%E5%8E%86%E5%8F%B2/","name":"历史","slug":"历史"},{"link":"/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/","name":"大模型","slug":"大模型"},{"link":"/tags/%E5%AE%B6%E4%B9%A1/","name":"家乡","slug":"家乡"},{"link":"/tags/%E5%BF%83%E7%90%86/","name":"心理","slug":"心理"},{"link":"/tags/%E6%8A%97%E6%88%98/","name":"抗战","slug":"抗战"},{"link":"/tags/%E6%97%A9%E8%AF%8A/","name":"早诊","slug":"早诊"},{"link":"/tags/%E7%94%B2%E5%9F%BA%E5%8C%96/","name":"甲基化","slug":"甲基化"},{"link":"/tags/%E7%BB%8F%E6%B5%8E/","name":"经济","slug":"经济"},{"link":"/tags/%E8%A1%8C%E4%B8%9A/","name":"行业","slug":"行业"}]}